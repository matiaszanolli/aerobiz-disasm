; ============================================================================
; RunScenarioMenu -- Runs the scenario selection menu loop: reads scenario state from $FF0A32, computes airline scores and prices, renders screen with char portrait and info panel, handles input to browse/select/confirm a scenario, writes chosen scenario back to $FF0A32
; Called: ?? times.
; 1254 bytes | $02C2FA-$02C7DF
; ============================================================================
RunScenarioMenu:                                                  ; $02C2FA
    link    a6,#-$108
    movem.l d2-d7/a2-a5,-(sp)
    lea     -$0084(a6),a4
    movea.l #$000483f0,a5
    cmpi.w  #$fffe,($00FF0A32).l
    bne.b   .l2c320
    dc.w    $4eba,$05b8                                 ; jsr $02C8D0
    nop
    dc.w    $6000,$04b8                                 ; bra.w $02C7D6
.l2c320:                                                ; $02C320
    cmpi.w  #$ffff,($00FF0A32).l
    dc.w    $6700,$04ac                                 ; beq.w $02C7D6
    moveq   #$0,d3
    move.b  ($00FF0016).l,d3
    move.w  d3,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  ($00FF0A32).l,d4
    andi.w  #$ff,d4
    move.w  d4,d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    move.b  (a0,d0.w),d2
    andi.l  #$ff,d2
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$0628                                 ; jsr $02C994
    nop
    move.w  d0,d5
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$d648                           ; jsr $00D648
    move.w  d0,d7
    moveq   #$0,d6
    move.w  ($00FF0A32).l,d6
    asr.l   #$8,d6
    andi.w  #$ff,d6
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$9d92                           ; jsr $009D92
    lea     $0010(sp),sp
    move.w  d0,-$0002(a6)
    cmpi.w  #$6,d5
    ble.b   .l2c3b4
    move.w  d5,d0
    ext.l   d0
    bra.b   .l2c3b6
.l2c3b4:                                                ; $02C3B4
    moveq   #$6,d0
.l2c3b6:                                                ; $02C3B6
    move.w  d0,d5
    move.w  ($00FF0006).l,d0
    ext.l   d0
    bge.b   .l2c3c6
    moveq   #$f,d1
    add.l   d1,d0
.l2c3c6:                                                ; $02C3C6
    asr.l   #$4,d0
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    addi.l  #$01f4,d0
    move.w  d5,d1
    ext.l   d1
    movea.l d7,a0
    move.w  -$0002(a6),d7
    ext.l   d7
    exg     d7,a0
    add.l   a0,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    addi.l  #$07d0,d0
    move.l  d0,d5
    cmpi.b  #$01,(a2)
    dc.w    $6600,$031e                                 ; bne.w $02C718
    tst.w   d2
    bne.b   .l2c40e
    move.l  ($0005EB2C).l,-(sp)
    pea     ($00042F34).l
    bra.b   .l2c422
.l2c40e:                                                ; $02C40E
    move.w  d2,d0
    lsl.w   #$2,d0
    movea.l #$0005eb2c,a0
    move.l  (a0,d0.w),-(sp)
    move.l  ($0004842C).l,-(sp)
.l2c422:                                                ; $02C422
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    dc.w    $4eb9,$0001,$d71c                           ; jsr $01D71C
    dc.w    $4eb9,$0000,$814a                           ; jsr $00814A
    pea     ($0001).w
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6a2e                           ; jsr $006A2E
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$9f4a                           ; jsr $009F4A
    dc.w    $4eb9,$0001,$d748                           ; jsr $01D748
    pea     ($0001).w
    clr.l   -(sp)
    clr.l   -(sp)
    move.l  a4,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$7912                           ; jsr $007912
    lea     $0030(sp),sp
    cmpi.w  #$4,d6
    bge.b   .l2c4c8
    move.w  d2,d0
    lsl.w   #$2,d0
    movea.l #$0005eb2c,a0
    move.l  (a0,d0.w),-(sp)
    move.w  d6,d0
    ext.l   d0
    lsl.l   #$2,d0
    movea.l d0,a0
    move.l  (a5,a0.l),-(sp)
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    move.w  d6,d0
    lsl.w   #$2,d0
    movea.l #$000483e0,a0
    move.l  (a0,d0.w),-(sp)
    move.l  $0010(a5),-(sp)
    pea     -$0106(a6)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    lea     $0018(sp),sp
    lea     -$0106(a6),a3
    dc.w    $6000,$00b0                                 ; bra.w $02C576
.l2c4c8:                                                ; $02C4C8
    move.w  d6,d0
    ext.l   d0
    subq.l  #$4,d0
    moveq   #$3,d1
    cmp.l   d1,d0
    dc.w    $6200,$0096                                 ; bhi.w $02C56A
    add.l   d0,d0
    move.w  $2c4e0(pc,d0.l),d0
    jmp     $2c4e0(pc,d0.w)
    ; WARNING: 768 undecoded trailing bytes at $02C4E0
    dc.w    $0008
    dc.w    $002a
    dc.w    $004a
    dc.w    $005e
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $3004
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $e680
    dc.w    $2f30
    dc.w    $0000
    dc.w    $2f2d
    dc.w    $0014
    dc.w    $6054
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $2f2d
    dc.w    $001c
    dc.w    $2f0c
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $b22c
    dc.w    $4fef
    dc.w    $000c
    dc.w    $6040
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $2f2d
    dc.w    $0024
    dc.w    $60de
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $3004
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $e680
    dc.w    $2f30
    dc.w    $0000
    dc.w    $2f2d
    dc.w    $002c
    dc.w    $2f0c
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $b22c
    dc.w    $4fef
    dc.w    $0010
    dc.w    $3006
    dc.w    $48c0
    dc.w    $e788
    dc.w    $2040
    dc.w    $2675
    dc.w    $88f8
    dc.w    $42a7
    dc.w    $2f0c
    dc.w    $3004
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eba
    dc.w    $025e
    dc.w    $4e71
    dc.w    $4878
    dc.w    $0020
    dc.w    $4878
    dc.w    $0020
    dc.w    $42a7
    dc.w    $42a7
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $a942
    dc.w    $4878
    dc.w    $000f
    dc.w    $4878
    dc.w    $0001
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $ab2c
    dc.w    $2f05
    dc.w    $4879
    dc.w    $0004
    dc.w    $2f20
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $b270
    dc.w    $4fef
    dc.w    $002c
    dc.w    $42a7
    dc.w    $2f0b
    dc.w    $3004
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eba
    dc.w    $021c
    dc.w    $4e71
    dc.w    $4878
    dc.w    $0020
    dc.w    $4878
    dc.w    $0020
    dc.w    $42a7
    dc.w    $42a7
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $a942
    dc.w    $4878
    dc.w    $0019
    dc.w    $4878
    dc.w    $0013
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $ab2c
    dc.w    $3003
    dc.w    $c0fc
    dc.w    $0024
    dc.w    $207c
    dc.w    $00ff
    dc.w    $001e
    dc.w    $2f30
    dc.w    $0000
    dc.w    $4879
    dc.w    $0004
    dc.w    $2f1a
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $b270
    dc.w    $4fef
    dc.w    $002c
    dc.w    $42a7
    dc.w    $4878
    dc.w    $0001
    dc.w    $42a7
    dc.w    $2f39
    dc.w    $0004
    dc.w    $8430
    dc.w    $3003
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $7912
    dc.w    $4fef
    dc.w    $0014
    dc.w    $0c40
    dc.w    $0001
    dc.w    $6600
    dc.w    $00ae
    dc.w    $baaa
    dc.w    $0006
    dc.w    $6e00
    dc.w    $0088
    dc.w    $33fc
    dc.w    $ffff
    dc.w    $00ff
    dc.w    $0a32
    dc.w    $9baa
    dc.w    $0006
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $2f39
    dc.w    $0004
    dc.w    $8434
    dc.w    $2f0c
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $b22c
    dc.w    $4878
    dc.w    $0001
    dc.w    $42a7
    dc.w    $4878
    dc.w    $0001
    dc.w    $2f0c
    dc.w    $3003
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $7912
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $2f2d
    dc.w    $0034
    dc.w    $2f0c
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $b22c
    dc.w    $4fef
    dc.w    $002c
    dc.w    $42a7
    dc.w    $2f0c
    dc.w    $3004
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eba
    dc.w    $0140
    dc.w    $4e71
    dc.w    $3002
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $3003
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eba
    dc.w    $02ca
    dc.w    $4e71
    dc.w    $4fef
    dc.w    $0014
    dc.w    $6034
    dc.w    $4878
    dc.w    $0001
    dc.w    $42a7
    dc.w    $42a7
    dc.w    $2f39
    dc.w    $0004
    dc.w    $8438
    dc.w    $3003
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $7912
    dc.w    $4fef
    dc.w    $0014
    dc.w    $42a7
    dc.w    $2f2d
    dc.w    $0038
    dc.w    $3004
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eba
    dc.w    $00f8
    dc.w    $4e71
    dc.w    $4fef
    dc.w    $000c
    dc.w    $4878
    dc.w    $0040
    dc.w    $42a7
    dc.w    $4878
    dc.w    $0010
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $0d64
    dc.w    $4fef
    dc.w    $000c
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $814a
    dc.w    $4878
    dc.w    $0007
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $9f4a
    dc.w    $6000
    dc.w    $00c0
    dc.w    $4246
    dc.w    $2005
    dc.w    $0680
    dc.w    $0000
    dc.w    $2710
    dc.w    $b0aa
    dc.w    $0006
    dc.w    $6c3c
    dc.w    $3004
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $3003
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $9d92
    dc.w    $508f
    dc.w    $0c40
    dc.w    $0001
    dc.w    $6f22
    dc.w    $33fc
    dc.w    $ffff
    dc.w    $00ff
    dc.w    $0a32
    dc.w    $9baa
    dc.w    $0006
    dc.w    $3002
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $3003
    dc.w    $48c0
    dc.w    $2f00
    dc.w    $4eba
    dc.w    $0220
    dc.w    $4e71
    dc.w    $508f
    dc.w    $7c01
    dc.w    $4878
    dc.w    $0008
    dc.w    $4878
    dc.w    $001c
    dc.w    $4878
    dc.w    $0011
    dc.w    $4878
    dc.w    $0002
    dc.w    $4eb9
    dc.w    $0000
    dc.w    $5a04
    dc.w    $0c46
    dc.w    $0001
    dc.w    $6624
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $3003
    dc.w    $e948
    dc.w    $207c
    dc.w    $00ff
    dc.w    $00a8
    dc.w    $4870
    dc.w    $0000
    dc.w    $4879
    dc.w    $0004
    dc.w    $2f00
    dc.w    $6022
    dc.w    $3002
    dc.w    $e548
    dc.w    $207c
    dc.w    $0005
    dc.w    $eb2c
    dc.w    $2f30
    dc.w    $0000
    dc.w    $3003
    dc.w    $e948
    dc.w    $207c
    dc.w    $00ff
    dc.w    $00a8
    dc.w    $4870
    dc.w    $0000
    dc.w    $4879
    dc.w    $0004
    dc.w    $2ede
    dc.w    $4eb9
    dc.w    $0003
    dc.w    $b270
    dc.w    $4878
    dc.w    $001e
    dc.w    $4eb9
    dc.w    $0001
    dc.w    $e2f4
    dc.w    $4cee
    dc.w    $3cfc
    dc.w    $fed0
    dc.w    $4e5e
    dc.w    $4e75
; === Translated block $02C7E0-$02C9C8 ===
; 4 functions, 488 bytes
