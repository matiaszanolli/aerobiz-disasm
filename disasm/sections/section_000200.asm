; ===========================================================================
; ROM Data: $000200-$00FFFF
; 65024 bytes (32512 words)
; ===========================================================================


; --- Reset vector -- program entry point ---
EntryPoint:
    dc.w    $4AB9,$00A1,$0008,$6606,$4A79,$00A1,$000C,$667C; $000200
    dc.w    $4BFA,$007C,$4C9D,$00E0,$4CDD,$1F00,$1029,$EF01; $000210
    dc.w    $0200,$000F,$6708,$237C,$5345,$4741,$2F00,$3014; $000220
    dc.w    $7000,$2C40,$4E66,$7217,$1A1D,$3885,$DA47,$51C9; $000230
    dc.w    $FFF8,$289D,$3680,$3287,$3487,$0111,$66FC,$7425; $000240
    dc.w    $10DD,$51CA,$FFFC,$3480,$3280,$3487,$2D00,$51CE; $000250
    dc.w    $FFFC,$289D,$289D,$761F,$2680,$51CB,$FFFC,$289D; $000260
    dc.w    $7813,$2680,$51CC,$FFFC,$7A03,$175D,$0011,$51CD; $000270
    dc.w    $FFFA,$3480,$4CD6,$7FFF,$46FC,$2700,$606C,$8000; $000280
    dc.w    $3FFF,$0100,$00A0,$0000,$00A1,$1100,$00A1,$1200; $000290
    dc.w    $00C0,$0000,$00C0,$0004,$0414,$303C,$076C,$0000; $0002A0
    dc.w    $0000,$FF00,$8137,$0001,$0100,$00FF,$FF00,$0080; $0002B0
    dc.w    $4000,$0080,$AF01,$D91F,$1127,$0021,$2600,$F977; $0002C0
    dc.w    $EDB0,$DDE1,$FDE1,$ED47,$ED4F,$D1E1,$F108,$D9C1; $0002D0
    dc.w    $D1E1,$F1F9,$F3ED,$5636,$E9E9,$8104,$8F02,$C000; $0002E0
    dc.w    $0000,$4000,$0010,$9FBF,$DFFF                   ; $0002F0 (end of data table)

; ===========================================================================
; Post-Boot Initialization ($0002FA-$0003A0)
; Wait for V-Blank, init work RAM, call init subroutines, enter game
; ===========================================================================

    tst.w   VDP_CTRL                                        ; $0002FA: read/clear VDP status
.vblank_wait:                                               ; $000300
    dc.w    $6100,$09DA                                     ; bsr.w WaitVBlank ($000CDC)
    andi.w  #$0002,d0                                       ; check status bit 1
    bne.s   .vblank_wait                                    ; loop while set
; --- Early init (RAM/VDP setup) ---
    dc.w    $6100,$38DC                                     ; bsr.w EarlyInit ($003BE8)
; --- Set up work RAM base and clear game state flags ---
    moveq   #0,d0                                           ; D0 = 0 (clear value)
    movea.l #$00FFF010,a5                                   ; A5 = work RAM base pointer
    move.b  d0,$02FB(a5)                                    ; clear input enable flag
    move.b  d0,$0B2A(a5)                                    ; clear display update flag
    move.b  d0,$001C(a5)                                    ; clear flag
    move.b  d0,$002B(a5)                                    ; clear V-INT dispatch flags
    move.b  d0,$004B(a5)                                    ; clear DMA pending flag
    move.w  d0,$0BCE(a5)                                    ; clear word flag
    move.l  d0,$0BD0(a5)                                    ; clear long
    move.b  d0,$0BD4(a5)                                    ; clear V-INT sub1 flag
    move.w  d0,$0C70(a5)                                    ; clear word
; --- Hardware init subroutine ---
    dc.w    $4EBA,$03CE                                     ; jsr HardwareInit(pc) ($00070A)
    nop
; --- Test expansion controller ---
    btst    #6,IO_CTRL3                                     ; expansion controller present?
    bne.w   .copy_ram_sub                                   ; skip nop if yes
    nop
; --- Copy 10-byte subroutine from ROM to Work RAM ---
.copy_ram_sub:                                              ; $00034E
    movea.l #$00FFF000,a0                                   ; A0 = RAM target ($FFF000)
    movea.l #$00000362,a1                                   ; A1 = ROM source (inline below)
    move.l  (a1)+,(a0)+                                     ; copy bytes 0-3
    move.l  (a1)+,(a0)+                                     ; copy bytes 4-7
    move.w  (a1),(a0)                                       ; copy bytes 8-9
    bra.s   .init_subs                                      ; skip over inline data
; --- Inline RAM subroutine data (copied to $FFF000, 10 bytes) ---
    dc.w    $38AD,$0042                                     ; move.w $0042(a5),(a4)
    dc.w    $38AD,$0044                                     ; move.w $0044(a5),(a4)
    rts                                                     ; $00036A
; --- Init subroutine calls ---
.init_subs:                                                 ; $00036C
    dc.w    $4EBA,$0CC8                                     ; jsr VDP_Init1(pc) ($001036)
    nop
    dc.w    $4EBA,$0CA8                                     ; jsr VDP_Init2(pc) ($00101C)
    nop
    dc.w    $4EBA,$0D00                                     ; jsr VDP_Init3(pc) ($00107A)
    nop
    dc.w    $4EBA,$0D7E                                     ; jsr VDP_Init4(pc) ($0010FE)
    nop
    dc.w    $4EB9,$0000,$260A                               ; jsr Z80_SoundInit ($00260A)
    dc.w    $4EBA,$0D4E                                     ; jsr Init5(pc) ($0010DA)
    nop
    dc.w    $4EBA,$0CFE                                     ; jsr Init6(pc) ($001090)
    nop
; --- Enable interrupts and enter main game ---
    move    #$2000,sr                                       ; enable interrupts (supervisor mode)
    movea.l #$0000D5B6,a0                                   ; A0 = GameEntry address
    jmp     (a0)                                            ; ENTER MAIN GAME

; ---------------------------------------------------------------------------
    dc.w    $202E,$000E,$287C,$00C0,$0004,$3880,$3200       ; $0003A2
    dc.w    $E049,$0201,$007F,$1B80,$1000,$4E75,$202E,$0012; $0003B0
    dc.w    $222E,$000E,$661A,$3B40,$0038,$E048,$E448,$0040; $0003C0
    dc.w    $8200,$0200,$0038,$33C0,$00C0,$0004,$6000,$007A; $0003D0
    dc.w    $0C01,$0001,$661A,$3B40,$003A,$E048,$EA48,$0040; $0003E0
    dc.w    $8400,$0200,$0007,$33C0,$00C0,$0004,$6000,$005A; $0003F0
    dc.w    $0C01,$0002,$6618,$3B40,$003C,$E048,$E448,$0040; $000400
    dc.w    $8300,$0200,$003E,$33C0,$00C0,$0004,$603A,$0C01; $000410
    dc.w    $0003,$6618,$3B40,$003E,$E048,$E248,$0040,$8500; $000420
    dc.w    $0200,$007F,$33C0,$00C0,$0004,$601C,$0C01,$0004; $000430
    dc.w    $6616,$3B40,$0040,$E048,$E448,$0040,$8D00,$0200; $000440
    dc.w    $003F,$33C0,$00C0,$0004,$4E75,$222E,$000E,$1035; $000450
    dc.w    $1000,$0280,$0000,$00FF,$4E75,$287C,$00C0,$0008; $000460
    dc.w    $3014,$4E75,$4EBA,$182A,$4E71,$4E75,$40E7,$007C; $000470
    dc.w    $0700,$202E,$000E,$1B40,$001D,$202E,$0012,$3B40; $000480
    dc.w    $001E,$202E,$0016,$2B40,$0020,$202E,$001A,$2B40; $000490
    dc.w    $0024,$2200,$E588,$0280,$0003,$0000,$4840,$4841; $0004A0
    dc.w    $0281,$3FFF,$0000,$8081,$222E,$001E,$1B41,$0037; $0004B0
    dc.w    $6608,$0080,$4000,$0080,$601A,$0801,$0000,$6708; $0004C0
    dc.w    $0080,$C000,$0080,$600C,$0801,$0001,$670E,$0080; $0004D0
    dc.w    $4000,$0090,$2B40,$0042,$6100,$0C34,$46DF,$4E75; $0004E0
    dc.w    $40E7,$007C,$0700,$202E,$000E,$1B40,$001D,$202E; $0004F0
    dc.w    $0012,$3B40,$001E,$202E,$0016,$2B40,$0020,$202E; $000500
    dc.w    $001A,$2B40,$0024,$4EBA,$0C0E,$4E71,$46DF,$4E75; $000510
    dc.w    $40E7,$007C,$0700,$202E,$000E,$1B40,$001D,$202E; $000520
    dc.w    $0012,$3B40,$001E,$202E,$0016,$2B40,$0024,$202E; $000530
    dc.w    $001A,$3B40,$0028,$4EBA,$0BF0,$4E71,$46DF,$4E75; $000540
    dc.w    $202E,$000E,$1B40,$002A,$202E,$0012,$2B40,$0030; $000550
    dc.w    $202E,$001A,$3B40,$0034,$242E,$0022,$222E,$0016; $000560
    dc.w    $202E,$001E,$6622,$2001,$E588,$4840,$0280,$0000; $000570
    dc.w    $0003,$0281,$0000,$3FFF,$4841,$8280,$0802,$0000; $000580
    dc.w    $6644,$08C1,$001E,$603E,$0800,$0000,$671C,$4841; $000590
    dc.w    $0281,$007F,$0000,$0802,$0000,$6608,$0081,$C000; $0005A0
    dc.w    $0000,$6022,$08C1,$0005,$601C,$0800,$0001,$6736; $0005B0
    dc.w    $4841,$0281,$007F,$0000,$08C1,$0004,$0802,$0000; $0005C0
    dc.w    $6604,$08C1,$001E,$2B41,$002C,$102D,$0001,$0800; $0005D0
    dc.w    $0005,$6604,$6000,$0D60,$103C,$0001,$1B40,$002B; $0005E0
    dc.w    $102D,$002B,$66FA,$4E75,$286E,$000E,$266E,$0012; $0005F0
    dc.w    $202E,$0016,$16DC,$5340,$66FA,$4E75,$242E,$000E; $000600
    dc.w    $0282,$0000,$0001,$7000,$207C,$00FF,$FC06,$0C50; $000610
    dc.w    $0001,$6210,$1030,$2004,$E180,$0280,$0000,$FF00; $000620
    dc.w    $1030,$2002,$7200,$207C,$00FF,$FC2E,$0C50,$0001; $000630
    dc.w    $6210,$1230,$2004,$E181,$0281,$0000,$FF00,$1230; $000640
    dc.w    $2002,$4841,$8081,$4E75,$202E,$0026,$6700,$0084; $000650
    dc.w    $202E,$0016,$3B40,$0B26,$3B7C,$0001,$0B28,$202E; $000660
    dc.w    $000E,$1B40,$0B2B,$2400,$2800,$206E,$001A,$2E2E; $000670
    dc.w    $001E,$2C2E,$0022,$222E,$0012,$1B41,$0B2C,$5341; $000680
    dc.w    $E788,$E38A,$0640,$007A,$0642,$0B2E,$5244,$3A10; $000690
    dc.w    $DA46,$3B85,$2000,$5442,$3A18,$DA46,$3B85,$0000; $0006A0
    dc.w    $5440,$3A18,$0245,$FF00,$DA04,$3B85,$0000,$5440; $0006B0
    dc.w    $5244,$3B98,$0000,$5440,$3A18,$DA47,$3B85,$0000; $0006C0
    dc.w    $5440,$51C9,$FFCA,$7001,$1B40,$0B2A,$1B40,$0B2D; $0006D0
    dc.w    $600C,$1B7C,$0000,$0B2A,$4EFA,$00BA,$4E71,$4E75; $0006E0
    dc.w    $102D,$0001,$0240,$00FF,$0040,$8164,$287C,$00C0; $0006F0
    dc.w    $0004,$1B40,$0001,$3880,$4E75,$102D,$0001,$0240; $000700
    dc.w    $009F,$0040,$8104,$287C,$00C0,$0004,$1B40,$0001; $000710
    dc.w    $3880,$4E75,$102D,$0001,$0800,$0005,$671A,$202E; $000720
    dc.w    $000E,$7201,$6000,$000E,$1B41,$0036,$082D,$0000; $000730
    dc.w    $0036,$66F8,$51C8,$FFF2,$4E75,$202E,$000E,$222E; $000740
    dc.w    $0012,$206E,$0016,$242E,$001A,$262E,$001E,$0282; $000750
    dc.w    $0000,$FFFF,$4843,$0283,$FFFF,$0000,$227C,$00FF; $000760
    dc.w    $F08A,$E788,$6014,$2818,$D883,$2384,$0000,$5840; $000770
    dc.w    $2818,$D842,$2384,$0000,$5840,$51C9,$FFEA,$4EBA; $000780
    dc.w    $0852,$4E71,$40E7,$007C,$0700,$4EBA,$0E3A,$4E71; $000790
    dc.w    $46DF,$4E75,$202E,$000E,$222E,$0012,$7400,$E788; $0007A0
    dc.w    $287C,$00FF,$F08A,$6006,$3982,$0000,$5040,$51C9; $0007B0
    dc.w    $FFF8,$4EBA,$081E,$4E71,$40E7,$007C,$0700,$4EBA; $0007C0
    dc.w    $0E06,$4E71,$46DF,$4E75,$266E,$000E,$40E7,$007C; $0007D0
    dc.w    $0700,$6100,$0966,$49FA,$0026,$1754,$0006,$7000; $0007E0
    dc.w    $7208,$169C,$4E71,$4E71,$1413,$C41C,$6702,$8001; $0007F0
    dc.w    $E209,$66EE,$4EBA,$0958,$4E71,$46DF,$4E75,$400C; $000800
    dc.w    $4003,$000C,$0003,$202E,$000E,$0200,$0003,$6712; $000810
    dc.w    $0C00,$0001,$6706,$302D,$003C,$600A,$302D,$003A; $000820
    dc.w    $6004,$302D,$0038,$242E,$0012,$0242,$00FF,$E38A; $000830
    dc.w    $D042,$7240,$1C2D,$0010,$0286,$0000,$0003,$6712; $000840
    dc.w    $0C06,$0001,$670A,$0C06,$0003,$6702,$60FE,$E389; $000850
    dc.w    $E389,$262E,$0016,$0243,$00FF,$C3C3,$D041,$0280; $000860
    dc.w    $0000,$FFFF,$4E75,$4EBA,$FF9E,$40E7,$007C,$0700; $000870
    dc.w    $260F,$242E,$001A,$E38A,$9682,$2043,$2E48,$242E; $000880
    dc.w    $0022,$222E,$001A,$5381,$30C2,$51C9,$FFFC,$222E; $000890
    dc.w    $001A,$242E,$001E,$1B7C,$0002,$001D,$1B7C,$0000; $0008A0
    dc.w    $0037,$3B41,$001E,$2B43,$0020,$2B40,$0024,$2800; $0008B0
    dc.w    $E588,$0280,$0003,$0000,$4840,$4844,$0284,$3FFF; $0008C0
    dc.w    $0000,$8084,$0080,$4000,$0080,$2B40,$0042,$0242; $0008D0
    dc.w    $00FF,$5342,$E389,$2A3C,$0040,$0000,$1C2D,$0010; $0008E0
    dc.w    $0206,$0003,$6712,$0C06,$0001,$6604,$E38D,$6008; $0008F0
    dc.w    $0C06,$0003,$6602,$E58D,$48E7,$E000,$6100,$0810; $000900
    dc.w    $4CDF,$0007,$202D,$0042,$202D,$0024,$0680,$0000; $000910
    dc.w    $0040,$2B40,$0024,$202D,$0042,$D085,$2B40,$0042; $000920
    dc.w    $51CA,$FFD6,$260F,$242E,$001A,$E38A,$D682,$2E43; $000930
    dc.w    $46DF,$4E75,$4EBA,$FED0,$40E7,$007C,$0700,$222E; $000940
    dc.w    $001A,$242E,$001E,$262E,$0022,$1B7C,$0002,$001D; $000950
    dc.w    $1B7C,$0000,$0037,$3B41,$001E,$2B43,$0020,$2B40; $000960
    dc.w    $0024,$2800,$E588,$0280,$0003,$0000,$4840,$4844; $000970
    dc.w    $0284,$3FFF,$0000,$8084,$0080,$4000,$0080,$2B40; $000980
    dc.w    $0042,$0242,$00FF,$5342,$E389,$2A3C,$0040,$0000; $000990
    dc.w    $1C2D,$0010,$0206,$0003,$6712,$0C06,$0001,$6604; $0009A0
    dc.w    $E38D,$6008,$0C06,$0003,$6602,$E58D,$48E7,$E000; $0009B0
    dc.w    $6100,$075C,$4CDF,$0007,$202D,$0042,$202D,$0024; $0009C0
    dc.w    $0680,$0000,$0040,$2B40,$0024,$202D,$0042,$D085; $0009D0
    dc.w    $2B40,$0042,$202D,$0020,$D081,$2B40,$0020,$51CA; $0009E0
    dc.w    $FFCC,$46DF,$4E75,$4EBA,$FE1E,$2200,$E588,$0280; $0009F0
    dc.w    $0003,$0000,$4840,$0281,$0000,$3FFF,$4841,$8081; $000A00
    dc.w    $2B40,$004E,$202E,$001A,$1B40,$004C,$202E,$001E; $000A10
    dc.w    $1B40,$004D,$202E,$0022,$2B40,$0054,$103C,$0004; $000A20
    dc.w    $1B40,$002B,$102D,$0001,$0800,$0005,$660A,$6100; $000A30
    dc.w    $09C4,$102D,$002B,$66F6,$102D,$002B,$66FA,$4E75; $000A40
    dc.w    $202E,$000E,$3B40,$0038,$202E,$0012,$3B40,$003A; $000A50
    dc.w    $4E75,$2E7C,$00FF,$F000,$6000,$F796,$7000,$1B40; $000A60
    dc.w    $02FB,$3A2D,$02FC,$661A,$242E,$0016,$5342,$1B42; $000A70
    dc.w    $02FE,$1B40,$02FF,$242E,$001A,$3B42,$0300,$3B42; $000A80
    dc.w    $0302,$222E,$000E,$2601,$2801,$EF89,$207C,$00FF; $000A90
    dc.w    $F336,$7400,$142D,$02FE,$5242,$EB8A,$5342,$226E; $000AA0
    dc.w    $0022,$1199,$1000,$5241,$51CA,$FFF8,$E38B,$202E; $000AB0
    dc.w    $0012,$EB88,$207C,$00FF,$F316,$3180,$3000,$7000; $000AC0
    dc.w    $09C0,$8A40,$3B45,$02FC,$202E,$001E,$3B40,$0304; $000AD0
    dc.w    $08ED,$0000,$02FB,$4E75,$207C,$00FF,$F336,$203C; $000AE0
    dc.w    $0000,$01FF,$7200,$20C1,$51C8,$FFFC,$7007,$207C; $000AF0
    dc.w    $00FF,$F316,$20C1,$51C8,$FFFC,$1B41,$02FB,$3B41; $000B00
    dc.w    $02FC,$3B41,$0304,$3B41,$0300,$3B41,$0302,$1B41; $000B10
    dc.w    $02FE,$1B41,$02FF,$4E75,$202E,$000E,$1B40,$02FB; $000B20
    dc.w    $202E,$0012,$3B40,$0304,$202E,$0016,$3B40,$0300; $000B30
    dc.w    $4E75,$7000,$302D,$0302,$5340,$6600,$009E,$6B00; $000B40
    dc.w    $009A,$7200,$122D,$02FF,$2601,$B62D,$02FE,$6604; $000B50
    dc.w    $7600,$6002,$5243,$1B43,$02FF,$EB89,$7600,$302D; $000B60
    dc.w    $0304,$342D,$02FC,$C440,$676C,$283C,$00FF,$F336; $000B70
    dc.w    $D881,$247C,$00FF,$F316,$700F,$E24A,$644C,$1B7C; $000B80
    dc.w    $0002,$001D,$3B7C,$0010,$001E,$1B7C,$0000,$0037; $000B90
    dc.w    $2B44,$0020,$7A00,$3A32,$3000,$2B45,$0024,$2C05; $000BA0
    dc.w    $E58D,$0285,$0003,$0000,$4845,$4846,$0286,$3FFF; $000BB0
    dc.w    $0000,$8A86,$0085,$4000,$0080,$2B45,$0042,$48E7; $000BC0
    dc.w    $FE20,$6100,$054A,$4CDF,$047F,$5443,$0684,$0000; $000BD0
    dc.w    $0080,$51C8,$FFA6,$302D,$0300,$3B40,$0302,$4E75; $000BE0
    dc.w    $7000,$1B40,$0BD4,$202E,$000E,$673A,$202E,$0016; $000BF0
    dc.w    $6724,$1B40,$0BD6,$202E,$0012,$1B40,$0BD5,$202E; $000C00
    dc.w    $001A,$3B40,$0BD8,$202E,$001E,$3B40,$0BDA,$202E; $000C10
    dc.w    $0022,$2B40,$0BDC,$7000,$3B40,$0BE0,$3B40,$0BE2; $000C20
    dc.w    $08ED,$0000,$0BD4,$4E75,$7000,$302D,$0BE2,$6600; $000C30
    dc.w    $0086,$7000,$102D,$0BD6,$7200,$222D,$0BDC,$2400; $000C40
    dc.w    $E34A,$7600,$362D,$0BE0,$C4C3,$D282,$7400,$142D; $000C50
    dc.w    $0BD5,$E38A,$2602,$2802,$E58B,$0283,$0003,$0000; $000C60
    dc.w    $4843,$4844,$0284,$3FFF,$0000,$8684,$0083,$C000; $000C70
    dc.w    $0080,$1B7C,$0002,$001D,$3B40,$001E,$1B7C,$0001; $000C80
    dc.w    $0037,$2B41,$0020,$2B42,$0024,$2B43,$0042,$7000; $000C90
    dc.w    $207C,$00C0,$0004,$3010,$0800,$0003,$672C,$6100; $000CA0
    dc.w    $046E,$7000,$302D,$0BE0,$5240,$B06D,$0BD8,$6602; $000CB0
    dc.w    $7000,$3B40,$0BE0,$7000,$302D,$0BE2,$5240,$B06D; $000CC0
    dc.w    $0BDA,$6602,$7000,$3B40,$0BE2,$4E75,$287C,$00C0; $000CD0
    dc.w    $0004,$3014,$0280,$0000,$FFFF,$4E75,$7000,$3B40; $000CE0
    dc.w    $0BCE,$202E,$0012,$2B40,$0BD0,$202E,$000E,$3B40; $000CF0
    dc.w    $0BCE,$4E75,$202E,$000E,$6714,$202E,$0016,$4840; $000D00
    dc.w    $80AE,$0012,$2B40,$0BE4,$7000,$2B40,$0BE8,$202D; $000D10
    dc.w    $0BE8,$4E75,$202E,$000E,$0C80,$0000,$0002,$6704; $000D20
    dc.w    $3B40,$0C70,$7000,$302D,$0C70,$4E75,$7000,$1B40; $000D30
    dc.w    $0C46,$2B40,$0C48,$2B40,$0C4C,$202E,$0012,$2B40; $000D40
    dc.w    $0C48,$202E,$0016,$2B40,$0C4C,$202E,$000E,$1B40; $000D50
    dc.w    $0C46,$4E75                                      ; $000D60 (end prev fn)
; ============================================================================
; GameCommand -- Central command dispatcher (most-called function, 306 calls)
; ============================================================================
; Takes a command number (0-46) as the first longword stack argument.
; Dispatches to one of 47 handler functions via jump table.
; Sets A5 = work RAM base ($FFF010) before calling the handler.
;
; Stack frame (move sr BEFORE link creates unusual layout):
;   0(a6) = saved A6          4(a6) = saved SR (word)
;   6(a6) = return address    A(a6) = command number (longword)
;   E(a6) = additional args (vary per command)
; ============================================================================
GameCommand:                                                 ; $000D64
    move    sr,-(sp)                                         ; Save SR (before link frame!)
    link    a6,#$0000                                        ; Create stack frame
    movem.l d2-d7/a2-a5,-(sp)                               ; Save working registers
    move.l  $A(a6),d7                                        ; D7 = command number (first arg)
    cmpi.l  #$0000002F,d7                                    ; Valid range: 0-46
    bcc.s   .error                                           ; Branch if >= 47 (invalid)
    movea.l #$00FFF010,a5                                    ; A5 = work RAM base
    lsl.w   #2,d7                                            ; D7 *= 4 (longword table offset)
    movea.l #GameCommandTable,a4                             ; A4 = jump table base
    movea.l 0(a4,d7.w),a4                                   ; A4 = handler address
    jsr     (a4)                                             ; Call handler
    movem.l (sp)+,d2-d7/a2-a5                               ; Restore registers
    unlk    a6                                               ; Destroy stack frame
    rtr                                                      ; Restore CCR + return
.error:                                                      ; $000D96
    bra.s   .error                                           ; Infinite loop (invalid cmd)
; -- Jump table: 47 command handlers (indexed 0-46) --
GameCommandTable:                                            ; $000D98
    dc.l    $000003A2,$000003BC,$0000045A,$0000046A          ; Cmds 0-3
    dc.l    $00000474,$0000047C,$000004F0,$00000520          ; Cmds 4-7
    dc.l    $00000550,$000005F8,$0000060C,$00000658          ; Cmds 8-11
    dc.l    $000006F0,$0000070A,$00000724,$0000074A          ; Cmds 12-15
    dc.l    $000007A4,$000007D8,$000024B8,$000024DE          ; Cmds 16-19
    dc.l    $000024FA,$000024DE,$0000250A,$00002568          ; Cmds 20-23
    dc.l    $000024FA,$000024FA,$00000876,$00000944          ; Cmds 24-27
    dc.l    $000009F6,$00000A50,$00000A62,$00000A6C          ; Cmds 28-31
    dc.l    $00000AE8,$00000B28,$00000CEC,$00000BF0          ; Cmds 32-35
    dc.l    $00000D04,$00000D3C,$00000E54,$00000E92          ; Cmds 36-39
    dc.l    $00000EAA,$00000EBA,$00000F18,$00000F22          ; Cmds 40-43
    dc.l    $00000F42,$00000F7A,$00000D24                    ; Cmds 44-46
; ---
    dc.w    $202E,$000E,$B06D,$0C52,$6E06,$302D              ; $000E54 (Cmd38 handler)
    dc.w    $0C52,$600A,$B06D,$0C56,$6F04,$302D,$0C56,$3B40; $000E60
    dc.w    $0C5C,$222E,$0012,$B26D,$0C54,$6E06,$322D,$0C54; $000E70
    dc.w    $600A,$B26D,$0C58,$6F04,$322D,$0C58,$3B41,$0C5E; $000E80
    dc.w    $4E75,$7400,$246E,$000E,$342D,$0C5C,$2482,$246E; $000E90
    dc.w    $0012,$342D,$0C5E,$2482,$4E75,$7000,$102D,$0C61; $000EA0
    dc.w    $E180,$E180,$802D,$0C60,$4E75,$242E,$000E,$3B42; $000EB0
    dc.w    $0C52,$242E,$0012,$3B42,$0C54,$242E,$0016,$3B42; $000EC0
    dc.w    $0C56,$242E,$001A,$3B42,$0C58,$302D,$0C5C,$B06D; $000ED0
    dc.w    $0C52,$6E06,$302D,$0C52,$600A,$B06D,$0C56,$6F04; $000EE0
    dc.w    $302D,$0C56,$3B40,$0C5C,$322D,$0C5E,$B26D,$0C54; $000EF0
    dc.w    $6E06,$322D,$0C54,$600A,$B26D,$0C58,$6F04,$322D; $000F00
    dc.w    $0C58,$3B41,$0C5E,$4E75,$242E,$000E,$3B42,$0C5A; $000F10
    dc.w    $4E75,$7000,$247C,$00FF,$FC06,$7A07,$0C52,$0002; $000F20
    dc.w    $6604,$08C0,$0000,$D5FC,$0000,$000A,$51CD,$FFEE; $000F30
    dc.w    $4E75,$08AD,$0000,$0C62,$242E,$000E,$6716,$247C; $000F40
    dc.w    $00FF,$FC74,$266E,$0012,$24DB,$2493,$08ED,$0000; $000F50
    dc.w    $0C62,$6014,$2B7C,$0000,$0000,$007A,$4EBA,$0074; $000F60
    dc.w    $4E71,$4EBA,$0662,$4E71,$4E75,$202E,$000E,$1B40; $000F70
    dc.w    $0C6C                                           ; $000F80
    rts                                                     ; $000F82

; ===========================================================================
; Exception Handlers ($000F84-$000FE1)
; Pattern: moveq #exception_id,d0 -> bra.w ExceptionCommon
; ExceptionCommon: push SP and ID, call ErrorDisplay, halt
; ===========================================================================

BusError:                                                   ; $000F84
    moveq   #2,d0
    bra.w   ExceptionCommon
AddressError:                                               ; $000F8A
    moveq   #3,d0
    bra.w   ExceptionCommon
IllegalInstr:                                               ; $000F90
    moveq   #4,d0
    bra.w   ExceptionCommon
ZeroDivide:                                                 ; $000F96
    moveq   #5,d0
    bra.w   ExceptionCommon
ChkInstr:                                                   ; $000F9C
    moveq   #6,d0
    bra.w   ExceptionCommon
TrapvInstr:                                                 ; $000FA2
    moveq   #7,d0
    bra.w   ExceptionCommon
PrivilegeViol:                                              ; $000FA8
    moveq   #8,d0
    bra.w   ExceptionCommon
Trace:                                                      ; $000FAE
    moveq   #9,d0
    bra.w   ExceptionCommon
LineAEmulator:                                              ; $000FB4
    moveq   #10,d0
    bra.w   ExceptionCommon
LineFEmulator:                                              ; $000FBA
    moveq   #11,d0
    bra.w   ExceptionCommon
Reserved_0C:                                                ; $000FC0
    moveq   #12,d0
    bra.w   ExceptionCommon
Reserved_0D:                                                ; $000FC6
    moveq   #13,d0
    bra.w   ExceptionCommon
Reserved_0E:                                                ; $000FCC
    moveq   #14,d0
    bra.w   ExceptionCommon
Reserved_0F:                                                ; $000FD2
    moveq   #15,d0
                                                            ; falls through
ExceptionCommon:                                            ; $000FD4
    movea.l sp,a0
    move.l  a0,-(sp)
    move.l  d0,-(sp)
    dc.w    $4EB9,$0000,$58EE                               ; jsr ErrorDisplay ($0058EE)
ExceptionHalt:                                              ; $000FE0
    bra.s   ExceptionHalt

; ---------------------------------------------------------------------------
    dc.w    $48E7,$E080,$207C,$00FF,$F01C,$0810,$0000       ; $000FE2
    dc.w    $6604,$723F,$6002,$724F,$7001,$207C,$00FF,$F08A; $000FF0
    dc.w    $7403,$1180,$2000,$5280,$5082,$51C9,$FFF6,$7000; $001000
    dc.w    $5182,$1180,$2000,$4CDF,$0107,$4E75,$2C7C,$00FF; $001010
    dc.w    $F08A,$2A4E,$7000,$724F,$2CC0,$2CC0,$51C9,$FFFA; $001020
    dc.w    $4EBA,$FFB0,$4E75,$303C,$8F02,$2C7C,$00C0,$0004; $001030
    dc.w    $2A7C,$00C0,$0000,$3C80,$7000,$223C,$0000,$7FFF; $001040
    dc.w    $2CBC,$4000,$0000,$3A80,$51C9,$FFFC,$723F,$2CBC; $001050
    dc.w    $C000,$0000,$3A80,$51C9,$FFFC,$7227,$2CBC,$4000; $001060
    dc.w    $0010,$3A80,$51C9,$FFFC,$4E75,$7E40,$13C7,$00A1; $001070
    dc.w    $0009,$13C7,$00A1,$000B,$13C7,$00A1,$000D,$4E75; $001080
    dc.w    $207C,$00FF,$F010,$317C,$0000,$0C52,$317C,$0000; $001090
    dc.w    $0C54,$317C,$00FF,$0C56,$317C,$00DF,$0C58,$317C; $0010A0
    dc.w    $0000,$0C5A,$317C,$0080,$0C5C,$317C,$0070,$0C5E; $0010B0
    dc.w    $317C,$0000,$0C60,$117C,$0000,$0C62,$117C,$0000; $0010C0
    dc.w    $0C6C,$317C,$0020,$0C6E,$4E75,$2C7C,$0000,$1D88; $0010D0
    dc.w    $223C,$0000,$031F,$2A7C,$00C0,$0000,$23FC,$4000; $0010E0
    dc.w    $0000,$00C0,$0004,$3A9E,$51C9,$FFFC,$4E75,$49F9; $0010F0
    dc.w    $00A1,$1100,$40E7,$007C,$0700,$38BC,$0100,$397C; $001100
    dc.w    $0100,$0100,$0814,$0000,$66FA,$46DF,$4E75,$4EBA; $001110
    dc.w    $0078,$4E71,$4E75,$4EBA,$012E,$4E71,$3214,$0801; $001120
    dc.w    $0001,$66F8,$6000,$0034,$4EBA,$01A0,$4E71,$3214; $001130
    dc.w    $0801,$0001,$66F8,$6000,$0022,$247C,$00A1,$1100; $001140
    dc.w    $34BC,$0100,$3012,$0240,$0100,$66F8,$4E75,$247C; $001150
    dc.w    $00A1,$1100,$34BC,$0000,$4E75,$102D,$0001,$0240; $001160
    dc.w    $00EF,$0040,$8100,$3880,$4E75,$6100,$FB60,$0240; $001170
    dc.w    $0002,$66F6,$102D,$001D,$0240,$00FF,$0040,$8F00; $001180
    dc.w    $3880,$1B40,$000F,$4E75,$40E7,$007C,$0700,$302D; $001190
    dc.w    $0C70,$6604,$4EBA,$FFA4,$4EBA,$FFD0,$303C,$8100; $0011A0
    dc.w    $102D,$0001,$0880,$0005,$08C0,$0004,$3880,$7000; $0011B0
    dc.w    $302D,$001E,$2400,$323C,$9300,$0240,$00FF,$8041; $0011C0
    dc.w    $3880,$C142,$E048,$0641,$0100,$8041,$3880,$202D; $0011D0
    dc.w    $0020,$E288,$2400,$0280,$0000,$00FF,$0641,$0100; $0011E0
    dc.w    $8041,$3880,$2002,$E048,$0280,$0000,$00FF,$0641; $0011F0
    dc.w    $0100,$8041,$3880,$0641,$0100,$2002,$4840,$0240; $001200
    dc.w    $007F,$8041,$3880,$4EB9,$00FF,$F000,$3214,$0801; $001210
    dc.w    $0001,$66F8,$202D,$0020,$0800,$0016,$6716,$2040; $001220
    dc.w    $202D,$0042,$0880,$0007,$267C,$00C0,$0000,$7201; $001230
    dc.w    $6100,$0144,$6100,$FF24,$302D,$0C70,$6604,$6100; $001240
    dc.w    $FF0E,$46DF,$4E75,$287C,$00C0,$0004,$303C,$8100; $001250
    dc.w    $102D,$0001,$0880,$0005,$08C0,$0004,$3880,$4EBA; $001260
    dc.w    $FF0A,$7000,$302D,$001E,$2400,$323C,$9300,$0240; $001270
    dc.w    $00FF,$8041,$3880,$C142,$E048,$0641,$0100,$8041; $001280
    dc.w    $3880,$202D,$0020,$2400,$0280,$0000,$00FF,$0641; $001290
    dc.w    $0100,$8041,$3880,$2002,$E048,$0280,$0000,$00FF; $0012A0
    dc.w    $0641,$0100,$8041,$3880,$303C,$97C0,$3880,$202D; $0012B0
    dc.w    $0024,$2400,$E588,$4840,$0240,$0003,$0040,$00C0; $0012C0
    dc.w    $0242,$3FFF,$3882,$3880,$4E75,$287C,$00C0,$0004; $0012D0
    dc.w    $303C,$8100,$102D,$0001,$0880,$0005,$08C0,$0004; $0012E0
    dc.w    $3880,$4EBA,$FE86,$7000,$302D,$001E,$2400,$323C; $0012F0
    dc.w    $9300,$0240,$00FF,$8041,$3880,$C142,$E048,$0641; $001300
    dc.w    $0100,$8041,$3880,$303C,$9780,$3880,$202D,$0024; $001310
    dc.w    $2400,$E588,$4840,$0240,$0003,$0040,$0080,$0242; $001320
    dc.w    $3FFF,$08C2,$000E,$3882,$3880,$302D,$0028,$33C0; $001330
    dc.w    $00C0,$0000,$4E75,$267C,$00C0,$0000,$287C,$00C0; $001340
    dc.w    $0004,$7000,$102D,$002A,$0040,$8F00,$1B40,$000F; $001350
    dc.w    $3880,$322D,$0034,$202D,$002C,$0800,$001E,$6606; $001360
    dc.w    $206D,$0030,$6006,$206D,$0030,$600A,$2880,$30D3; $001370
    dc.w    $5341,$66FA,$4E75,$2880,$3698,$5341,$66FA,$4E75; $001380
    dc.w    $267C,$00C0,$0000,$287C,$00C0,$0004,$7400,$2602; $001390
    dc.w    $7E03,$142D,$004C,$162D,$004D,$382D,$0052,$202D; $0013A0
    dc.w    $004E,$2A3C,$0040,$0000,$1C2D,$0010,$0206,$0003; $0013B0
    dc.w    $6712,$0C06,$0001,$6604,$E38D,$6008,$0C06,$0003; $0013C0
    dc.w    $6602,$E58D,$5342,$38BC,$8F02,$2880,$3684,$51CA; $0013D0
    dc.w    $FFFC,$D085,$2B40,$004E,$7400,$142D,$004C,$5343; $0013E0
    dc.w    $670A,$51CF,$FFE0,$1B43,$004D,$6606,$1B7C,$0000; $0013F0
    dc.w    $002B,$4E75,$246D,$0054,$267C,$00C0,$0000,$287C; $001400
    dc.w    $00C0,$0004,$7400,$2602,$7E03,$142D,$004C,$162D; $001410
    dc.w    $004D,$202D,$004E,$2A3C,$0040,$0000,$182D,$0010; $001420
    dc.w    $0204,$0003,$6712,$0C04,$0001,$6604,$E38D,$6008; $001430
    dc.w    $0C04,$0003,$6602,$E58D,$5342,$38BC,$8F02,$2880; $001440
    dc.w    $3813,$34C4,$51CA,$FFFA,$D085,$2B40,$004E,$7400; $001450
    dc.w    $142D,$004C,$5343,$6710,$51CF,$FFDE,$220A,$2B41; $001460
    dc.w    $0054,$1B43,$004D,$6006,$1B7C,$0000,$002B,$4E75; $001470

; ===========================================================================
; EXT Interrupt Handler ($001480-$001483) -- Level 2 (unused)
; ===========================================================================

ExtInterrupt:                                               ; $001480
    nop
    rte

; ===========================================================================
; H-Blank Interrupt Handler ($001484-$0014E5) -- Level 4
; Raster scroll effect: per-scanline VSRAM updates for scroll A/B
; ===========================================================================

HBlankInt:                                                  ; $001484
    move    sr,-(sp)                                        ; save status register
    ori     #$0700,sr                                       ; disable all interrupts
    movem.l d0-d2/a0/a5,-(sp)                              ; save working registers
    movea.l #$00FFF010,a5                                   ; A5 = work RAM base
    move.w  $0C50(a5),d0                                    ; D0 = H-scroll line counter
    addq.w  #1,d0                                           ; increment counter
    move.w  d0,$0C50(a5)                                    ; store back
    move.w  d0,d1                                           ; D1 = line counter (for offset)
    add.w   d0,d0                                           ; D0 = word index (counter * 2)
    btst    #0,$0C46(a5)                                    ; scroll effect enabled?
    beq.s   .restore                                        ; skip update if disabled
    movea.l $0C48(a5),a0                                    ; A0 = scroll table B pointer
    move.w  0(a0,d0.w),d2                                   ; D2 = scroll B value for this line
    sub.w   d1,d2                                           ; adjust by scanline
    movea.l $0C4C(a5),a0                                    ; A0 = scroll table A pointer
    move.w  0(a0,d0.w),d0                                   ; D0 = scroll A value for this line
    sub.w   d1,d0                                           ; adjust by scanline
    move.l  #$40000010,VDP_CTRL                             ; VSRAM write at address 0
    move.w  d2,VDP_DATA                                     ; write scroll B value
    move.l  #$40020010,VDP_CTRL                             ; VSRAM write at address 2
    move.w  d0,VDP_DATA                                     ; write scroll A value
.restore:                                                   ; $0014DE
    movem.l (sp)+,d0-d2/a0/a5                              ; restore working registers
    move    (sp)+,sr                                        ; restore status register
    rte

; ===========================================================================
; V-Blank Interrupt Handler ($0014E6-$0015AF) -- Level 6
; Main per-frame handler: DMA, display, input, subsystem updates
; ===========================================================================

VBlankInt:                                                  ; $0014E6
    movem.l d0-d7/a0-a7,-(sp)                              ; save ALL registers
    move.l  sp,d0                                           ; D0 = current stack pointer
    cmpi.l  #$00FFE000,d0                                   ; stack overflow guard
    dc.w    $6500,$0434                                     ; bcs.w VInt_Emergency ($001928)
    movea.l #$00FFF010,a5                                   ; A5 = work RAM base
    movea.l #$00C00004,a4                                   ; A4 = VDP control port
    move.w  #0,$0C50(a5)                                    ; reset H-scroll line counter
; --- DMA/VRAM transfer ---
    btst    #0,$004B(a5)                                    ; DMA transfer pending?
    beq.s   .no_dma
    dc.w    $6100,$012C                                     ; bsr.w DMA_Transfer ($00163E)
    bclr    #0,$004B(a5)                                    ; clear DMA flag
; --- Display update ---
.no_dma:                                                    ; $00151A
    moveq   #0,d0
    move.b  $0B2A(a5),d0                                    ; display update flag
    beq.s   .no_display
    dc.w    $6100,$013C                                     ; bsr.w DisplayUpdate ($001660)
; --- Subsystem 1 ---
.no_display:                                                ; $001526
    moveq   #0,d0
    move.b  $0BD4(a5),d0
    beq.s   .no_sub1
    dc.w    $6100,$F708                                     ; bsr.w VInt_Sub1 ($000C38)
; --- Subsystem 2 ---
.no_sub1:                                                   ; $001532
    move.w  $0BCE(a5),d0                                    ; word flag
    beq.w   .no_sub2
    dc.w    $6100,$0190                                     ; bsr.w VInt_Sub2 ($0016CC)
; --- Controller/input read ---
.no_sub2:                                                   ; $00153E
    moveq   #0,d0
    move.b  $02FB(a5),d0                                    ; input enable flag
    beq.s   .no_input
    dc.w    $6100,$F5FA                                     ; bsr.w ControllerRead ($000B42)
; --- Multi-dispatch on $002B(A5) bits 0/1/2 ---
.no_input:                                                  ; $00154A
    moveq   #0,d0
    move.b  $002B(a5),d0                                    ; dispatch flags
    beq.w   .poll                                           ; skip if no bits set
    btst    #0,$002B(a5)                                    ; bit 0 set?
    beq.s   .try_bit1
    dc.w    $6100,$FDE8                                     ; bsr.w VInt_Handler1 ($001346)
    moveq   #0,d0
    move.b  d0,$002B(a5)                                    ; clear all dispatch flags
    bra.s   .poll
.try_bit1:                                                  ; $001568
    btst    #1,$002B(a5)                                    ; bit 1 set?
    beq.s   .try_bit2
    dc.w    $6100,$FE1E                                     ; bsr.w VInt_Handler2 ($001390)
    bra.s   .poll
.try_bit2:                                                  ; $001576
    btst    #2,$002B(a5)                                    ; bit 2 set?
    beq.s   .poll
    dc.w    $6100,$FE84                                     ; bsr.w VInt_Handler3 ($001404)
; --- Controller poll + 4 subsystem updates (always run) ---
.poll:                                                      ; $001582
    dc.w    $43F9,$00FF,$FBFC                               ; lea $00FFFBFC,a1
    dc.w    $6100,$03A4                                     ; bsr.w ControllerPoll ($00192E)
    dc.w    $4EBA,$0146                                     ; jsr SubsysUpdate1(pc) ($0016D4)
    nop
    dc.w    $4EBA,$01C8                                     ; jsr SubsysUpdate2(pc) ($00175C)
    nop
    dc.w    $4EBA,$02CA                                     ; jsr SubsysUpdate3(pc) ($001864)
    nop
    dc.w    $4EBA,$0330                                     ; jsr SubsysUpdate4(pc) ($0018D0)
    nop
    move.b  #0,$0036(a5)                                    ; clear V-INT processed flag
    movem.l (sp)+,d0-d7/a0-a7                              ; restore ALL registers
    rte
    dc.w    $0800,$0000,$6614,$0800,$0001,$6614,$0800,$0002; $0015B0
    dc.w    $6700,$0012,$6100,$FB72,$600A,$6100,$FB52,$6004; $0015C0
    dc.w    $6100,$FB54,$4E75,$48E7,$0080,$207C,$00FF,$F01C; $0015D0
    dc.w    $7600,$1B7C,$0002,$001D,$0810,$0000,$6608,$3B7C; $0015E0
    dc.w    $0100,$001E,$6006,$3B7C,$0140,$001E,$1B43,$0037; $0015F0
    dc.w    $203C,$00FF,$F08A,$2B40,$0020,$7000,$302D,$003E; $001600
    dc.w    $2B40,$0024,$2200,$E588,$0280,$0003,$0000,$4840; $001610
    dc.w    $4841,$0281,$3FFF,$0000,$8081,$0080,$4000,$0080; $001620
    dc.w    $2B40,$0042,$6100,$FAE8,$4CDF,$0100,$4E75,$287C; $001630
    dc.w    $00C0,$0004,$267C,$00C0,$0000,$207C,$00FF,$F06A; $001640
    dc.w    $700A,$28BC,$C004,$0000,$3698,$51C8,$FFFC,$4E75; $001650
    dc.w    $7000,$302D,$0B28,$5340,$665C,$7000,$2200,$2400; $001660
    dc.w    $102D,$0B2B,$142D,$0B2C,$2200,$E789,$E388,$5342; $001670
    dc.w    $207C,$00FF,$FB3E,$227C,$00FF,$F08A,$162D,$0B2D; $001680
    dc.w    $6716,$33B0,$0000,$1000,$5440,$5041,$51CA,$FFF4; $001690
    dc.w    $1B7C,$0000,$0B2D,$6012,$33BC,$0000,$1000,$5041; $0016A0
    dc.w    $51CA,$FFF6,$1B7C,$0001,$0B2D,$4EBA,$F926,$6100; $0016B0
    dc.w    $FF16,$302D,$0B26,$3B40,$0B28,$4E75,$206D,$0BD0; $0016C0
    dc.w    $4E90,$4E75,$2A7C,$00FF,$F010,$382D,$0C5A,$0A44; $0016D0
    dc.w    $0003,$3B7C,$0000,$0C60,$207C,$00FF,$FC06,$7A07; $0016E0
    dc.w    $0C50,$0002,$665A,$3028,$0006,$48C0,$81C4,$D06D; $0016F0
    dc.w    $0C5C,$B06D,$0C52,$6E06,$302D,$0C52,$600A,$B06D; $001700
    dc.w    $0C56,$6F04,$302D,$0C56,$3B40,$0C5C,$3228,$0008; $001710
    dc.w    $48C1,$83C4,$D26D,$0C5E,$B26D,$0C54,$6E06,$322D; $001720
    dc.w    $0C54,$600A,$B26D,$0C58,$6F04,$322D,$0C58,$3B41; $001730
    dc.w    $0C5E,$3428,$0002,$E842,$0242,$0F0F,$856D,$0C60; $001740
    dc.w    $D1FC,$0000,$000A,$51CD,$FF98,$4E75,$082D,$0000; $001750
    dc.w    $0C6C,$6700,$00FE,$7400,$207C,$00FF,$FC06,$7A07; $001760
    dc.w    $0C50,$0002,$6406,$3028,$0002,$8440,$D1FC,$0000; $001770
    dc.w    $000A,$51CD,$FFEC,$3002,$0240,$0F00,$6606,$3B7C; $001780
    dc.w    $0020,$0C6E,$0C6D,$0000,$0C6E,$6720,$536D,$0C6E; $001790
    dc.w    $0C6D,$0010,$0C6E,$6506,$76FF,$7801,$601A,$76FE; $0017A0
    dc.w    $7802,$966D,$0C5A,$D86D,$0C5A,$600C,$76FD,$7803; $0017B0
    dc.w    $966D,$0C5A,$D86D,$0C5A,$0802,$0008,$6714,$3203; $0017C0
    dc.w    $D26D,$0C5E,$B26D,$0C54,$6E04,$322D,$0C54,$3B41; $0017D0
    dc.w    $0C5E,$0802,$0009,$6714,$3204,$D26D,$0C5E,$B26D; $0017E0
    dc.w    $0C58,$6F04,$322D,$0C58,$3B41,$0C5E,$0802,$000A; $0017F0
    dc.w    $6714,$3003,$D06D,$0C5C,$B06D,$0C52,$6E04,$302D; $001800
    dc.w    $0C52,$3B40,$0C5C,$0802,$000B,$6714,$3004,$D06D; $001810
    dc.w    $0C5C,$B06D,$0C56,$6F04,$302D,$0C56,$3B40,$0C5C; $001820
    dc.w    $0802,$000C,$6706,$08ED,$0001,$0C60,$3002,$0240; $001830
    dc.w    $6000,$6706,$08ED,$0000,$0C60,$0802,$0004,$6706; $001840
    dc.w    $08ED,$0001,$0C61,$0242,$0060,$6706,$08ED,$0000; $001850
    dc.w    $0C61,$4E75,$082D,$0000,$0C62,$6762,$207C,$00FF; $001860
    dc.w    $F08A,$227C,$00FF,$FC74,$3019,$D06D,$0C5E,$30C0; $001870
    dc.w    $20D9,$3011,$D06D,$0C5C,$3080,$4EBA,$F756,$207C; $001880
    dc.w    $00C0,$0000,$227C,$00C0,$0004,$32BC,$8F02,$7000; $001890
    dc.w    $302D,$003E,$2200,$E588,$4840,$0280,$0000,$0003; $0018A0
    dc.w    $0281,$0000,$3FFF,$4841,$8280,$08C1,$001E,$2281; $0018B0
    dc.w    $247C,$00FF,$F08A,$309A,$309A,$309A,$309A,$4E75; $0018C0
    dc.w    $2A7C,$00FF,$F010,$262D,$0BE8,$7000,$207C,$00FF; $0018D0
    dc.w    $FC06,$0C50,$0001,$6210,$1028,$0004,$E180,$0280; $0018E0
    dc.w    $0000,$FF00,$1028,$0002,$7200,$207C,$00FF,$FC2E; $0018F0
    dc.w    $0C50,$0001,$6210,$1228,$0004,$E181,$0281,$0000; $001900
    dc.w    $FF00,$1228,$0002,$4841,$8081,$242D,$0BE4,$C082; $001910
    dc.w    $8680,$2B43,$0BE8,$4E75,$202F,$0042,$60FE,$4EBA; $001920
    dc.w    $F81A,$45E9,$000A,$7007,$34BC,$FFFF,$45EA,$000A; $001930
    dc.w    $51C8,$FFF6,$7000,$6100,$0014,$1280,$7001,$6100; $001940
    dc.w    $000C,$1340,$0001,$4EBA,$F806,$4E75,$48E7,$7F70; $001950
    dc.w    $41F9,$00A1,$0003,$D040,$D0C0,$D040,$45F1,$0002; $001960
    dc.w    $C0FC,$000A,$43F1,$000A,$6134,$3F00,$0240,$000E; $001970
    dc.w    $D040,$4EBB,$000A,$301F,$4CDF,$0EFE,$4E75,$6000; $001980
    dc.w    $0054,$6000,$010E,$6000,$004C,$6000,$01D4,$6000; $001990
    dc.w    $0044,$6000,$0040,$6000,$0078,$6000,$003C,$48E7; $0019A0
    dc.w    $3000,$7000,$10BC,$0070,$6110,$4841,$10BC,$0030; $0019B0
    dc.w    $D040,$6106,$4CDF,$000C,$4E75,$1210,$1401,$0202; $0019C0
    dc.w    $000C,$6702,$5240,$D040,$1601,$0243,$0003,$6702; $0019D0
    dc.w    $5240,$4E75,$4E71,$4E75,$32FC,$000F,$6002,$4259; $0019E0
    dc.w    $117C,$0040,$0006,$3001,$4841,$10BC,$0040,$E500; $0019F0
    dc.w    $0240,$00C0,$0241,$003F,$8001,$4600,$6106,$43E9; $001A00
    dc.w    $0006,$4E75,$1211,$B101,$12C0,$C200,$12C1,$4E75; $001A10
    dc.w    $117C,$0040,$0006,$7602,$2001,$0200,$000F,$6726; $001A20
    dc.w    $10BC,$0040,$4E71,$4E71,$4E71,$4E71,$7200,$1210; $001A30
    dc.w    $10BC,$0000,$4E71,$4E71,$4E71,$4E71,$4841,$1210; $001A40
    dc.w    $51CB,$FFD6,$6098,$10BC,$0040,$4E71,$4E71,$4E71; $001A50
    dc.w    $4E71,$7400,$1410,$10BC,$0000,$4E71,$4E71,$4E71; $001A60
    dc.w    $4E71,$4842,$1410,$32FC,$0001,$3001,$4841,$E500; $001A70
    dc.w    $0240,$00C0,$0241,$003F,$8001,$4600,$6186,$4842; $001A80
    dc.w    $3002,$4600,$0240,$000F,$6100,$FF7A,$43E9,$0004; $001A90
    dc.w    $4E75,$10BC,$0020,$117C,$0060,$0006,$0810,$0004; $001AA0
    dc.w    $6700,$001C,$3E3C,$00FF,$6100,$01CC,$6500,$0010; $001AB0
    dc.w    $7C00,$6100,$01A8,$6500,$0006,$6100,$0008,$10BC; $001AC0
    dc.w    $0060,$4E75,$7400,$6100,$0194,$6500,$01BE,$0240; $001AD0
    dc.w    $000F,$1400,$6100,$0186,$6500,$01B0,$E900,$8400; $001AE0
    dc.w    $4842,$610E,$6500,$01A4,$E942,$6106,$6500,$019C; $001AF0
    dc.w    $6020,$6100,$0168,$6500,$0192,$0200,$000F,$8400; $001B00
    dc.w    $6100,$015A,$6500,$0184,$E942,$0240,$000F,$8400; $001B10
    dc.w    $4E75,$32FC,$0002,$3602,$4842,$1002,$6100,$FEE6; $001B20
    dc.w    $32C3,$0243,$00FF,$7000,$1029,$FFFE,$0829,$0000; $001B30
    dc.w    $FFFC,$6704,$0440,$0100,$0829,$0002,$FFFC,$6702; $001B40
    dc.w    $4200,$0829,$0001,$FFFC,$6704,$0443,$0100,$0829; $001B50
    dc.w    $0003,$FFFC,$6702,$4203,$4443,$32C0,$32C3,$4E75; $001B60
    dc.w    $10BC,$0020,$117C,$0060,$0006,$3E3C,$00FF,$0810; $001B70
    dc.w    $0004,$6700,$0062,$6100,$00FE,$6500,$005A,$0200; $001B80
    dc.w    $000F,$6100,$00DE,$6500,$004E,$0200,$000F,$6100; $001B90
    dc.w    $00E6,$6500,$0042,$14C0,$6100,$00C8,$6500,$0038; $001BA0
    dc.w    $14C0,$6100,$00D2,$6500,$002E,$14C0,$7C00,$6100; $001BB0
    dc.w    $00AC,$6500,$0022,$14C0,$02A2,$0F0F,$0F0F,$611C; $001BC0
    dc.w    $6500,$0014,$6116,$6500,$000E,$6110,$6500,$0008; $001BD0
    dc.w    $610A,$6500,$0002,$10BC,$0060,$4E75,$7000,$101A; $001BE0
    dc.w    $0C00,$0002,$6214,$D040,$D040,$4EFB,$0002,$6000; $001BF0
    dc.w    $003A,$6000,$000C,$6000,$FECC,$43E9,$000A,$4E75; $001C00
    dc.w    $6100,$003C,$6100,$0056,$6500,$0080,$4600,$0240; $001C10
    dc.w    $000F,$1400,$32FC,$0001,$1001,$6100,$FDE8,$1002; $001C20
    dc.w    $6100,$FDE2,$43E9,$0004,$4E75,$6112,$6500,$005C; $001C30
    dc.w    $4259,$1001,$6100,$FDCE,$43E9,$0006,$4E75,$6100; $001C40
    dc.w    $001C,$6500,$0046,$0240,$000F,$3200,$6100,$000E; $001C50
    dc.w    $6500,$0038,$E940,$8200,$4601,$4E75,$0846,$0000; $001C60
    dc.w    $6614,$10BC,$0020,$1010,$0800,$0004,$56CF,$FFF8; $001C70
    dc.w    $6718,$1010,$4E75,$10BC,$0000,$1010,$0800,$0004; $001C80
    dc.w    $57CF,$FFF8,$6604,$1010,$4E75,$003C,$0001,$4E75; $001C90
    dc.w    $3B7C,$0028,$0046,$3B7C,$012C,$0048,$1B7C,$000A; $001CA0
    dc.w    $004A,$7000,$41FB,$0064,$227C,$00FF,$F06A,$700A; $001CB0
    dc.w    $32D8,$51C8,$FFFC,$6100,$0090,$1B7C,$0001,$0036; $001CC0
    dc.w    $102D,$0036,$66FA,$267C,$00A1,$0003,$4EBA,$EAFE; $001CD0
    dc.w    $0C00,$000F,$6722,$207C,$00FF,$FC06,$7207,$0C50; $001CE0
    dc.w    $0002,$660C,$1428,$0003,$0202,$00F0,$661A,$6008; $001CF0
    dc.w    $0828,$0007,$0003,$6610,$D1FC,$0000,$000A,$51C9; $001D00
    dc.w    $FFDE,$536D,$0048,$66AE,$4E75,$0EC0,$0EA0,$0E80; $001D10
    dc.w    $0E60,$0E40,$0E20,$0E00,$0C00,$0A00,$0800,$0600; $001D20
    dc.w    $0800,$0A00,$0C00,$0E00,$0E20,$0E40,$0E60,$0E80; $001D30
    dc.w    $0EA0,$0EC0,$0EA0,$0E80,$0E60,$0E40,$0E20,$0E00; $001D40
    dc.w    $0C00,$0A00,$0800,$0600,$08ED,$0000,$004B,$532D; $001D50
    dc.w    $004A,$6A22,$1B7C,$0001,$004A,$302D,$0046,$6B16; $001D60
    dc.w    $556D,$0046,$41FB,$00A4,$227C,$00FF,$F06A,$700A; $001D70
    dc.w    $32D8,$51C8,$FFFC,$4E75,$0000,$0000,$0000,$0000; $001D80
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $001D90
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0111; $001DA0
    dc.w    $0001,$1667,$0015,$6666,$0155,$6666,$0155,$5666; $001DB0
    dc.w    $1555,$5661,$1455,$5516,$0000,$0000,$1111,$1111; $001DC0
    dc.w    $7778,$8889,$7777,$8888,$7777,$8888,$6777,$7888; $001DD0
    dc.w    $1111,$1111,$6677,$7788,$0000,$0000,$1111,$1100; $001DE0
    dc.w    $999A,$A100,$9999,$A101,$9999,$A115,$8999,$9115; $001DF0
    dc.w    $1111,$1155,$8899,$9155,$0000,$0000,$0011,$1111; $001E00
    dc.w    $1166,$7777,$6666,$7777,$5666,$6777,$5666,$6777; $001E10
    dc.w    $5566,$6111,$5566,$1677,$0000,$0000,$1111,$1111; $001E20
    dc.w    $8888,$9999,$8888,$9999,$7888,$8999,$7888,$8999; $001E30
    dc.w    $1111,$1111,$7788,$8899,$0000,$0000,$1111,$0000; $001E40
    dc.w    $AAA1,$0011,$AAA1,$0166,$9AA1,$1566,$9AA1,$1566; $001E50
    dc.w    $1111,$5556,$99A1,$5556,$0000,$0000,$1111,$1111; $001E60
    dc.w    $6777,$7888,$6777,$7888,$6677,$7788,$6677,$7788; $001E70
    dc.w    $6661,$1111,$6117,$7778,$0000,$0000,$1111,$1111; $001E80
    dc.w    $8999,$9AAA,$8999,$9AAA,$8899,$99AA,$8899,$99AA; $001E90
    dc.w    $1111,$1111,$8889,$999A,$0000,$0000,$1100,$0000; $001EA0
    dc.w    $A100,$0000,$A100,$0000,$A100,$0000,$A100,$0000; $001EB0
    dc.w    $1100,$0000,$A100,$0001,$0000,$0000,$0000,$0111; $001EC0
    dc.w    $0001,$1888,$0017,$7888,$0177,$7888,$1677,$7788; $001ED0
    dc.w    $1677,$7788,$6667,$7711,$0000,$0000,$1000,$0000; $001EE0
    dc.w    $9110,$0000,$8991,$0000,$8999,$1000,$8899,$9100; $001EF0
    dc.w    $8899,$9100,$8889,$9910,$1455,$5166,$1445,$5156; $001F00
    dc.w    $1445,$5156,$1444,$5155,$1444,$5155,$1444,$4155; $001F10
    dc.w    $1444,$4155,$1344,$4415,$6677,$7788,$6667,$7778; $001F20
    dc.w    $6667,$7778,$6611,$1111,$6666,$7777,$5666,$6777; $001F30
    dc.w    $5666,$6777,$5566,$6677,$8899,$9145,$8889,$9145; $001F40
    dc.w    $8889,$9144,$1111,$1144,$1111,$1144,$7811,$1144; $001F50
    dc.w    $7881,$1144,$7788,$1144,$5551,$6667,$5551,$6667; $001F60
    dc.w    $5551,$6666,$5551,$6661,$4551,$5666,$4551,$5666; $001F70
    dc.w    $4451,$5566,$4451,$5566,$7778,$8889,$7778,$8889; $001F80
    dc.w    $7777,$8888,$1111,$1111,$6777,$7888,$6777,$7888; $001F90
    dc.w    $6677,$7788,$6677,$7788,$9991,$5555,$9991,$4555; $001FA0
    dc.w    $9991,$4555,$1111,$4455,$8111,$4455,$8111,$4445; $001FB0
    dc.w    $8111,$4445,$8111,$4444,$1666,$7777,$1666,$6777; $001FC0
    dc.w    $1666,$6777,$1566,$6111,$1566,$6177,$1556,$6167; $001FD0
    dc.w    $1556,$6167,$1555,$6166,$8888,$9999,$7888,$9999; $001FE0
    dc.w    $7888,$8999,$1111,$1111,$7788,$8899,$7778,$8899; $001FF0
    dc.w    $7778,$8889,$7777,$8889,$A100,$0001,$A100,$0001; $002000
    dc.w    $9100,$0015,$1100,$0015,$9100,$0015,$9100,$0155; $002010
    dc.w    $9100,$0155,$9100,$0145,$6667,$7711,$6666,$7177; $002020
    dc.w    $6666,$7177,$5666,$6177,$5666,$1777,$5566,$1677; $002030
    dc.w    $5566,$1677,$5551,$6667,$8889,$9910,$1888,$9910; $002040
    dc.w    $1888,$9991,$1888,$8991,$7188,$8991,$7188,$8899; $002050
    dc.w    $7188,$8899,$7718,$8889,$0000,$0000,$0000,$0000; $002060
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$1000,$0000; $002070
    dc.w    $1000,$0000,$1000,$0000,$0144,$4451,$0134,$4445; $002080
    dc.w    $0014,$4445,$0013,$4444,$0001,$1144,$1111,$1111; $002090
    dc.w    $1333,$3444,$1333,$3344,$1111,$1117,$5556,$6661; $0020A0
    dc.w    $5556,$6667,$5555,$6666,$5555,$6666,$1111,$5666; $0020B0
    dc.w    $4555,$5666,$4455,$5566,$7788,$1134,$7778,$8134; $0020C0
    dc.w    $1778,$8133,$1777,$8133,$1777,$8133,$1777,$7133; $0020D0
    dc.w    $1777,$7133,$1677,$7133,$4441,$1111,$4441,$5556; $0020E0
    dc.w    $4441,$5555,$4441,$5555,$3441,$4555,$3441,$4551; $0020F0
    dc.w    $3341,$4455,$3341,$4455,$1111,$1111,$6667,$7778; $002100
    dc.w    $6666,$7777,$6666,$7777,$5666,$6777,$1111,$1111; $002110
    dc.w    $5566,$6677,$5566,$6677,$1111,$4444,$8111,$3444; $002120
    dc.w    $8111,$3444,$8111,$3344,$7111,$3344,$1111,$3334; $002130
    dc.w    $7781,$3334,$7781,$3333,$1555,$6111,$1555,$5166; $002140
    dc.w    $1555,$5166,$1455,$5166,$1455,$5166,$1445,$5111; $002150
    dc.w    $1445,$5556,$1444,$5555,$1111,$1888,$6777,$1888; $002160
    dc.w    $6777,$1888,$6677,$1788,$6677,$1788,$6667,$1778; $002170
    dc.w    $6667,$1778,$6666,$1777,$9100,$1445,$9100,$1444; $002180
    dc.w    $8100,$1444,$8101,$3444,$8101,$3444,$8101,$3344; $002190
    dc.w    $8113,$3344,$8113,$3334,$5551,$6667,$5551,$6666; $0021A0
    dc.w    $5515,$6666,$4515,$5666,$4515,$5611,$4155,$5511; $0021B0
    dc.w    $4155,$5566,$4145,$5556,$7718,$8889,$7717,$8888; $0021C0
    dc.w    $7771,$8888,$6771,$7888,$6771,$7888,$6677,$1788; $0021D0
    dc.w    $6677,$1788,$6667,$1778,$9100,$0000,$9100,$0000; $0021E0
    dc.w    $9100,$0000,$8910,$0000,$8910,$0000,$8810,$0000; $0021F0
    dc.w    $8891,$0000,$8881,$0000,$1233,$3344,$1223,$3334; $002200
    dc.w    $1111,$1111,$1222,$3333,$1222,$3333,$1222,$2333; $002210
    dc.w    $1222,$2333,$1111,$1111,$4455,$5566,$4445,$5551; $002220
    dc.w    $1111,$1116,$4444,$5555,$4444,$5555,$3444,$4555; $002230
    dc.w    $3444,$4555,$1111,$1111,$1677,$7123,$6667,$7123; $002240
    dc.w    $6667,$7122,$6666,$1012,$6666,$1012,$5661,$0001; $002250
    dc.w    $5110,$0000,$1000,$0000,$3331,$4445,$3334,$1445; $002260
    dc.w    $3333,$4111,$3333,$4444,$2333,$3444,$2333,$3444; $002270
    dc.w    $1133,$3344,$0011,$1111,$5556,$6667,$5556,$6667; $002280
    dc.w    $1111,$1111,$5555,$6666,$4555,$5666,$4555,$5666; $002290
    dc.w    $4455,$5566,$1111,$1111,$7771,$2333,$7771,$2333; $0022A0
    dc.w    $1111,$1233,$7771,$1233,$6771,$1223,$6771,$0123; $0022B0
    dc.w    $6671,$0011,$1111,$0000,$1444,$5555,$3114,$4555; $0022C0
    dc.w    $3341,$1111,$3344,$4455,$3334,$4445,$3334,$4445; $0022D0
    dc.w    $3333,$4444,$1111,$1111,$6666,$1777,$5666,$1777; $0022E0
    dc.w    $1111,$1677,$5566,$6677,$5556,$6667,$5556,$6667; $0022F0
    dc.w    $5555,$6666,$1111,$1111,$8123,$3334,$7122,$3333; $002300
    dc.w    $7722,$3333,$7722,$2331,$7722,$2331,$7722,$2231; $002310
    dc.w    $7722,$2231,$1111,$1111,$1445,$5556,$1444,$5555; $002320
    dc.w    $1444,$1111,$3444,$1555,$3441,$1555,$3341,$1455; $002330
    dc.w    $3311,$1455,$1111,$1111,$6667,$7178,$6666,$7177; $002340
    dc.w    $1111,$1177,$5666,$6777,$5666,$6777,$5566,$6677; $002350
    dc.w    $5566,$6677,$1111,$1111,$8881,$0000,$8888,$1000; $002360
    dc.w    $8888,$1000,$7888,$1000,$7888,$8100,$7788,$8100; $002370
    dc.w    $7788,$8100,$1111,$1100,$0000,$1111,$1000,$0010; $002380
    dc.w    $9110,$0010,$8991,$0010,$8999,$1010,$8899,$9100; $002390
    dc.w    $8899,$9100,$8889,$9910,$1010,$0001,$0011,$0011; $0023A0
    dc.w    $0010,$1101,$0010,$0001,$0010,$0001,$0000,$0000; $0023B0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0023C0
    dc.w    $0000,$0000,$0000,$0000,$0001,$0002,$0003,$0004; $0023D0
    dc.w    $0005,$0006,$0007,$0008,$0009,$000A,$000B,$0000; $0023E0
    dc.w    $000C,$000D,$000E,$000F,$0010,$0011,$0012,$0013; $0023F0
    dc.w    $0014,$0015,$0016,$0017,$0018,$0019,$001A,$001B; $002400
    dc.w    $001C,$001D,$001E,$001F,$0020,$0021,$0022,$0023; $002410
    dc.w    $0024,$0025,$0026,$0027,$0028,$0029,$002A,$002B; $002420
    dc.w    $002C,$002D,$002E,$002F,$0001,$0002,$0003,$0004; $002430
    dc.w    $0005,$0006,$0007,$0008,$0009,$000A,$0030,$0031; $002440
    dc.w    $000C,$000D,$000E,$000F,$0010,$0011,$0012,$0013; $002450
    dc.w    $0014,$0015,$0016,$0017,$0018,$0019,$001A,$001B; $002460
    dc.w    $001C,$001D,$001E,$001F,$0020,$0021,$0022,$0023; $002470
    dc.w    $0024,$0025,$0026,$0027,$0028,$0029,$002A,$002B; $002480
    dc.w    $002C,$002D,$002E,$002F,$0000,$0EEE,$0EC0,$0EA0; $002490
    dc.w    $0E80,$0E60,$0E40,$0E20,$0E00,$0C00,$0A00,$0800; $0024A0
    dc.w    $0600,$0800,$0A00,$0C00,$40E7,$007C,$0700,$4EBA; $0024B0
    dc.w    $01A2,$4E71,$227C,$00A0,$0007,$7202,$5C89,$202E; $0024C0
    dc.w    $000E,$1300,$E098,$51C9,$FFFA,$6000,$00E6,$40E7; $0024D0
    dc.w    $007C,$0700,$4EBA,$017C,$4E71,$227C,$00A0,$0008; $0024E0
    dc.w    $202E,$000E,$1280,$6000,$00CA,$40E7,$007C,$0700; $0024F0
    dc.w    $4EBA,$0160,$4E71,$6000,$00BA,$40E7,$007C,$0700; $002500
    dc.w    $4EBA,$0150,$4E71,$2F0E,$DDFC,$0000,$000E,$227C; $002510
    dc.w    $00A0,$003B,$7202,$343C,$0000,$E342,$2016,$0C80; $002520
    dc.w    $0000,$0000,$6700,$002A,$0642,$0001,$2040,$7026; $002530
    dc.w    $1618,$12C3,$51C8,$FFFA,$DDFC,$0000,$0004,$51C9; $002540
    dc.w    $FFDA,$227C,$00A0,$0008,$1282,$2C5F,$6000,$0064; $002550
    dc.w    $D3FC,$0000,$0027,$60E0,$40E7,$007C,$0700,$4EBA; $002560
    dc.w    $00F2,$4E71,$227C,$00A0,$00B0,$206E,$000E,$7402; $002570
    dc.w    $123C,$0000,$1010,$0C00,$00FC,$6400,$0016,$0C01; $002580
    dc.w    $000D,$6400,$0018,$12D8,$12D8,$12D8,$0601,$0003; $002590
    dc.w    $60E2,$0C00,$00FF,$67E6,$6000,$000A,$12BC,$00FE; $0025A0
    dc.w    $6000,$0004,$1298,$D3FC,$0000,$0010,$93C1,$51CA; $0025B0
    dc.w    $FFC0,$227C,$00A0,$0007,$222E,$000A,$0481,$0000; $0025C0
    dc.w    $0012,$1281,$137C,$0002,$0006,$4EBA,$009C,$4E71; $0025D0
    dc.w    $4EBA,$00A6,$4E71,$4EBA,$007A,$4E71,$1229,$0006; $0025E0
    dc.w    $0C01,$0000,$66E4,$1029,$0007,$4EBA,$007C,$4E71; $0025F0
    dc.w    $0280,$0000,$00FF,$46DF,$4E75                    ; $002600 (end prev fn)
; ============================================================================
; Z80_SoundInit -- Load Z80 sound driver from ROM into Z80 RAM
; ============================================================================
; Copies Z80 driver from ROM ($2696-$3BE7, 5458 bytes) into Z80 RAM ($A00000).
; Handles bus arbitration and Z80 reset sequencing.
; Called once during boot initialization.
; ============================================================================
Z80_SoundInit:                                               ; $00260A
    move    sr,-(sp)                                         ; Save SR
    ori     #$0700,sr                                        ; Disable all interrupts
    movea.l #Z80_BUSREQ,a0                                   ; A0 -> Z80 bus req port ($A11100)
    move.w  #$0100,(a0)                                      ; Request Z80 bus
    move.w  #$0100,$0100(a0)                                 ; Assert Z80 reset ($A11200)
.poll_bus:                                                   ; $002620
    btst    #0,(a0)                                          ; Check bus grant
    bne.s   .poll_bus                                        ; Poll until granted
    dc.w    $41FA,$15C0                                      ; lea SoundDriverEnd(pc),a0  [$3BE8]
    nop
    dc.w    $43FA,$0068                                      ; lea SoundDriverStart(pc),a1 [$2696]
    nop
    suba.l  a1,a0                                            ; A0 = driver size (end - start)
    move.l  a0,d0                                            ; D0 = byte count for copy loop
    movea.l #Z80_RAM,a0                                      ; A0 -> Z80 RAM destination ($A00000)
    dc.w    $4EBA,$0024                                      ; jsr Z80_RequestBus(pc) [$2662]
    nop
.copy_loop:                                                  ; $002642
    move.b  (a1)+,(a0)+                                      ; Copy driver byte to Z80 RAM
    dbra    d0,.copy_loop                                    ; Loop until done
    movea.l #Z80_BUSREQ,a0                                   ; A0 -> Z80 bus req port
    move.w  #$0000,$0100(a0)                                 ; Release Z80 reset ($A11200=0)
    move.w  #$0000,(a0)                                      ; Release Z80 bus ($A11100=0)
    move.w  #$0100,$0100(a0)                                 ; Deassert Z80 reset ($A11200=$100)
    move    (sp)+,sr                                         ; Restore SR
    rts
; ============================================================================
; Z80_RequestBus -- Request and wait for Z80 bus ownership
; ============================================================================
Z80_RequestBus:                                              ; $002662
    move.l  a0,-(sp)                                         ; Save A0
    movea.l #Z80_BUSREQ,a0                                   ; A0 -> Z80 bus req port
    move.w  #$0100,(a0)                                      ; Request bus
.poll:                                                       ; $00266E
    btst    #0,(a0)                                          ; Check grant bit
    bne.s   .poll                                            ; Wait until granted
    movea.l (sp)+,a0                                         ; Restore A0
    rts
; ============================================================================
; Z80_ReleaseBus -- Release Z80 bus
; ============================================================================
Z80_ReleaseBus:                                              ; $002678
    move.l  a1,-(sp)                                         ; Save A1
    movea.l #Z80_BUSREQ,a1                                   ; A1 -> Z80 bus req port
    move.w  #$0000,(a1)                                      ; Release bus
    movea.l (sp)+,a1                                         ; Restore A1
    rts
; ============================================================================
; Z80_Delay -- Busy-wait delay (~5ms at 7.67 MHz)
; ============================================================================
Z80_Delay:                                                   ; $002688
    move.l  d0,-(sp)                                         ; Save D0
    move.w  #$18CE,d0                                        ; Loop counter (6350 iterations)
.wait:                                                       ; $00268E
    dbra    d0,.wait                                         ; Spin
    move.l  (sp)+,d0                                         ; Restore D0
    rts
; --- Z80 sound driver binary begins at $002696 ---
    dc.w    $F331,$0020,$C3E0,$0000,$0000                    ; $002696
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0026A0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0026B0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$C36B; $0026C0
    dc.w    $0900,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0026D0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0026E0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0026F0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $002700
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $002710
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $002720
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $002730
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $002740
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $002750
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $002760
    dc.w    $0000,$0000,$0000,$ED56,$CD0B,$03CD,$B602,$CDF7; $002770
    dc.w    $02FB,$3A1A,$10A7,$C4BF,$0106,$033A,$1910,$4FDD; $002780
    dc.w    $2160,$0FCB,$01C5,$DC0E,$01C1,$112C,$00DD,$1910; $002790
    dc.w    $F2C3,$EC00,$DD7E,$0917,$D0DD,$7E28,$DDB6,$2920; $0027A0
    dc.w    $0B21,$F60F,$34CD,$E301,$21F6,$0F35,$DDCB,$2B4E; $0027B0
    dc.w    $C8DD,$7E00,$FE07,$C03A,$0040,$E602,$C8F3,$3A07; $0027C0
    dc.w    $10E6,$15CD,$D405,$3A07,$10F6,$2ACD,$D405,$FB21; $0027D0
    dc.w    $FD0F,$35C0,$3AFE,$0F77,$21F6,$0F34,$DD7E,$2A4F; $0027E0
    dc.w    $3A08,$103C,$E60F,$3208,$1020,$15CB,$5928,$41CB; $0027F0
    dc.w    $4120,$32CB,$4928,$09F5,$3E80,$A9DD,$772A,$4FF1; $002800
    dc.w    $CB79,$2002,$EE0F,$5FDD,$7E0D,$DDB6,$0C7B,$2805; $002810
    dc.w    $F6B0,$3211,$7FDD,$CB09,$6628,$05F6,$F032,$117F; $002820
    dc.w    $21F6,$0F35,$C979,$07A9,$CB57,$2804,$AFC3,$AC01; $002830
    dc.w    $3E0F,$DDCB,$2B8E,$FE00,$28CC,$3A06,$10F6,$1232; $002840
    dc.w    $0610,$C380,$0106,$033A,$1910,$4FDD,$2160,$0FCB; $002850
    dc.w    $01C5,$DC86,$06DD,$CB2B,$8EC1,$112C,$00DD,$1910; $002860
    dc.w    $EEAF,$321A,$1032,$1910,$C9DD,$6E02,$DD66,$037E; $002870
    dc.w    $FEFE,$C823,$2323,$7EFE,$F938,$1CFE,$FC28,$0F30; $002880
    dc.w    $16DD,$7502,$DD74,$03CD,$9408,$CDA4,$05C9,$3EFF; $002890
    dc.w    $DD77,$28DD,$7729,$C9F5,$E5DD,$CB2B,$8ECD,$8606; $0028A0
    dc.w    $E1F1,$FEFD,$2807,$FEFE,$28E4,$C32D,$02DD,$6E04; $0028B0
    dc.w    $DD66,$05DD,$7502,$DD74,$037E,$F5CD,$A405,$DDCB; $0028C0
    dc.w    $2B8E,$DD7E,$00FE,$0720,$2EDD,$7E0E,$CB67,$2820; $0028D0
    dc.w    $F33A,$0710,$E615,$CDD4,$053A,$0710,$F62A,$CDD4; $0028E0
    dc.w    $05FB,$3AFE,$0F32,$FD0F,$AF32,$0810,$DDCB,$2BCE; $0028F0
    dc.w    $F1FE,$1538,$1A18,$04F1,$A728,$22FE,$6038,$37FE; $002900
    dc.w    $F938,$23FE,$FC30,$1FCD,$9408,$DDCB,$09FE,$C93E; $002910
    dc.w    $FF32,$117F,$3EBF,$3211,$7FDD,$CB2B,$8EDD,$CB0A; $002920
    dc.w    $B6DD,$CB09,$FEC9,$DD36,$0D00,$DD36,$0C00,$CD1B; $002930
    dc.w    $06DD,$CB0A,$B6C9,$1601,$CDA3,$0DC9,$3E30,$CDD4; $002940
    dc.w    $053E,$221E,$00CD,$DC05,$DD21,$840E,$CDD8,$02DD; $002950
    dc.w    $2160,$0FCD,$D802,$3E2B,$1E00,$CDDC,$05C9,$3EB4; $002960
    dc.w    $1EC0,$CDDC,$053C,$CDDC,$053C,$CDDC,$053E,$901E; $002970
    dc.w    $00CD,$DC05,$3CCD,$DC05,$3CCD,$DC05,$C906,$0478; $002980
    dc.w    $3D0F,$0F0F,$C69F,$3211,$7F10,$F43E,$E732,$117F; $002990
    dc.w    $C9DD,$2184,$0E06,$08CD,$CA06,$2100,$00DD,$7502; $0029A0
    dc.w    $DD74,$03DD,$750C,$DD74,$0DCD,$FE06,$112C,$00DD; $0029B0
    dc.w    $1910,$E41E,$0021,$B000,$0110,$00E5,$CDCA,$03E1; $0029C0
    dc.w    $DD75,$04DD,$7405,$1C7B,$09FE,$0338,$EE3E,$78CD; $0029D0
    dc.w    $6F07,$C9C5,$D5E5,$0603,$2E00,$3EB4,$1EC0,$CDFE; $0029E0
    dc.w    $053C,$2C10,$F93E,$B4CD,$FE05,$E1D1,$C1C9,$E52E; $0029F0
    dc.w    $043E,$B51E,$C0CD,$FE05,$3C2C,$CDFE,$05E1,$C9D5; $002A00
    dc.w    $1415,$2804,$07C3,$7B03,$D1C9,$D514,$1528,$040F; $002A10
    dc.w    $C386,$03D1,$C9C5,$0604,$0010,$FDC1,$C93A,$0710; $002A20
    dc.w    $E6FA,$C3D4,$0521,$0700,$C3B3,$03F0,$0375,$0481; $002A30
    dc.w    $048E,$049C,$04EF,$04B7,$057E,$FE07,$D087,$5F16; $002A40
    dc.w    $0021,$A503,$195E,$2356,$EBF5,$E321,$0700,$23C9; $002A50
    dc.w    $7BFE,$033F,$D8D5,$C605,$2E2C,$CDA8,$0711,$840E; $002A60
    dc.w    $19E5,$DDE1,$B7D1,$C921,$0000,$DD75,$0CDD,$740D; $002A70
    dc.w    $CDFE,$06C3,$CA06,$E5CD,$8A07,$CD4D,$0321,$EC0F; $002A80
    dc.w    $CBC6,$2184,$0E11,$850E,$01DB,$00AF,$77ED,$B032; $002A90
    dc.w    $E80F,$32EA,$0F32,$EB0F,$E123,$237E,$2346,$CB20; $002AA0
    dc.w    $CDBF,$0546,$CBF8,$234E,$6960,$DD21,$840E,$AFDD; $002AB0
    dc.w    $7700,$DD77,$01DD,$3609,$01DD,$3619,$01DD,$3617; $002AC0
    dc.w    $30DD,$3618,$2DDD,$3616,$FFFE,$0438,$04DD,$360B; $002AD0
    dc.w    $0FF5,$5E23,$5623,$7BB2,$2803,$EB09,$EBDD,$7304; $002AE0
    dc.w    $DD72,$05DD,$7302,$DD72,$03F1,$112C,$00DD,$193C; $002AF0
    dc.w    $FE05,$38BB,$3E78,$CD6F,$0718,$0C7E,$B720,$05CD; $002B00
    dc.w    $8A07,$1803,$32E8,$0F21,$0700,$3AEC,$0FE5,$FDE1; $002B10
    dc.w    $FD77,$07C9,$5E21,$EC0F,$CBBE,$1C1D,$28E9,$CBFE; $002B20
    dc.w    $18E5,$CD68,$031E,$FF56,$0603,$CB0A,$10FC,$7A32; $002B30
    dc.w    $1910,$1C7B,$FE03,$3034,$CB02,$30F6,$D5CD,$CA03; $002B40
    dc.w    $CDE1,$03DD,$7E00,$FE07,$2806,$DD36,$0B00,$1804; $002B50
    dc.w    $DD36,$0B0F,$DDCB,$09DE,$7B3C,$1127,$0021,$3B00; $002B60
    dc.w    $1801,$193D,$20FC,$CD73,$0BD1,$18C6,$AFFD,$2107; $002B70
    dc.w    $00FD,$7707,$C91E,$FF3A,$1910,$571C,$7BFE,$03D2; $002B80
    dc.w    $E604,$CB02,$30F5,$D5CD,$CA03,$DD6E,$04DD,$7502; $002B90
    dc.w    $DD66,$05DD,$7403,$7EFE,$F938,$15FE,$FF28,$11FE; $002BA0
    dc.w    $FC30,$79CD,$9408,$CDA4,$05DD,$CB09,$FED1,$18CB; $002BB0
    dc.w    $F5CD,$A405,$DD7E,$00FE,$0720,$30DD,$CB2B,$8EDD; $002BC0
    dc.w    $7E0E,$CB67,$281E,$AF32,$0810,$3A07,$10E6,$15CD; $002BD0
    dc.w    $D405,$3A07,$10F6,$2ACD,$D405,$3AFE,$0F32,$FD0F; $002BE0
    dc.w    $DDCB,$2BCE,$F1FE,$1538,$1B18,$04F1,$A728,$23FE; $002BF0
    dc.w    $6038,$2EDD,$360D,$00DD,$360C,$00CD,$1B06,$DDCB; $002C00
    dc.w    $0AB6,$1822,$3EFF,$3211,$7F3E,$BF32,$117F,$DDCB; $002C10
    dc.w    $2B8E,$DDCB,$09FE,$DDCB,$0AB6,$180A,$CD86,$0618; $002C20
    dc.w    $0516,$01CD,$A30D,$D1C3,$F504,$234E,$2346,$DD71; $002C30
    dc.w    $28DD,$7029,$DD7E,$09E6,$9DDD,$7709,$C93E,$0132; $002C40
    dc.w    $1A10,$C3E6,$04E5,$C521,$0060,$0609,$F317,$F5E6; $002C50
    dc.w    $0177,$F11F,$10F8,$FBC1,$E1C9,$5FE6,$CF32,$0710; $002C60
    dc.w    $3E27,$E5C5,$4721,$0040,$7E17,$38FC,$78FE,$3038; $002C70
    dc.w    $0ADD,$7E00,$FE03,$7838,$022E,$0277,$2CF5,$F173; $002C80
    dc.w    $78C1,$E1C9,$F5C5,$E547,$4D21,$0040,$7E17,$38FC; $002C90
    dc.w    $79FE,$0338,$022E,$0278,$772C,$F5F1,$73E1,$C1F1; $002CA0
    dc.w    $C9F5,$D5DD,$7E00,$FE04,$2804,$FE07,$2043,$D604; $002CB0
    dc.w    $E602,$57DD,$5E0E,$A728,$25CB,$6328,$0A1E,$00DD; $002CC0
    dc.w    $CB2A,$5620,$021E,$0FDD,$CB09,$6628,$077B,$2FF6; $002CD0
    dc.w    $F032,$117F,$DD7E,$0DDD,$B60C,$2002,$1E00,$7A07; $002CE0
    dc.w    $0707,$07C6,$9057,$7B2F,$E60F,$B232,$117F,$C373; $002CF0
    dc.w    $06DD,$5E01,$3E28,$CDDC,$05DD,$7E09,$F6C0,$DD77; $002D00
    dc.w    $09DD,$7E0A,$F603,$DD77,$0AD1,$F1C9,$F5D5,$DD7E; $002D10
    dc.w    $00FE,$0428,$0BFE,$0720,$1957,$3EFF,$3211,$7F7A; $002D20
    dc.w    $D604,$E602,$0707,$0707,$C690,$F60F,$3211,$7FC3; $002D30
    dc.w    $BB06,$FE03,$3805,$FE05,$3001,$3C5F,$3E28,$CDDC; $002D40
    dc.w    $05DD,$7E09,$E65F,$DD77,$09DD,$CB0A,$B6D1,$F1C9; $002D50
    dc.w    $CD86,$06DD,$CB09,$B6DD,$7E00,$FE07,$C8FE,$04C8; $002D60
    dc.w    $D5E5,$FE03,$3808,$D603,$FE01,$3802,$D601,$2100; $002D70
    dc.w    $00CD,$FE06,$C680,$110F,$04CD,$DC05,$C604,$1520; $002D80
    dc.w    $F8E1,$D1C9,$F5D5,$E5DD,$7E00,$EB21,$0910,$CB27; $002D90
    dc.w    $856F,$7CCE,$0067,$7BBE,$2006,$7A23,$BE28,$322B; $002DA0
    dc.w    $7323,$72EB,$DD7E,$00FE,$0428,$1FFE,$0728,$1BFE; $002DB0
    dc.w    $0338,$08D6,$03FE,$0138,$02D6,$01C6,$A45C,$CDDC; $002DC0
    dc.w    $05D6,$045D,$CDDC,$05C3,$4B07,$D604,$E602,$CD4F; $002DD0
    dc.w    $07E1,$D1F1,$C9E5,$F57D,$E60F,$CB3C,$CB1D,$CB3C; $002DE0
    dc.w    $CB1D,$CB3C,$CB1D,$CB3C,$CB1D,$677D,$E63F,$6FF1; $002DF0
    dc.w    $CD4D,$08E1,$C9B7,$C8C5,$D5E5,$2106,$F916,$005F; $002E00
    dc.w    $CD2F,$0822,$EF0F,$2100,$0022,$ED0F,$E1D1,$C1C9; $002E10
    dc.w    $21EC,$0FCB,$86DD,$2184,$0E06,$05CD,$CA06,$DD36; $002E20
    dc.w    $0200,$DD36,$0300,$112C,$00DD,$1910,$EEC9,$F5C5; $002E30
    dc.w    $D5EB,$672E,$0055,$0608,$2930,$0119,$10FA,$D1C1; $002E40
    dc.w    $F1C9,$C5D5,$EB21,$0000,$4F44,$3E10,$CB23,$CB12; $002E50
    dc.w    $ED6A,$B7ED,$421C,$3002,$091D,$3DC2,$C607,$656B; $002E60
    dc.w    $D1C1,$7DC9,$C5D5,$D9C1,$2100,$005D,$54D9,$0610; $002E70
    dc.w    $D929,$CB13,$CB12,$D9ED,$6AD9,$3004,$0930,$0113; $002E80
    dc.w    $D910,$EDD9,$C1C9,$C5D9,$C121,$0000,$5D54,$D906; $002E90
    dc.w    $2029,$CB13,$CB12,$D9ED,$6ACB,$13CB,$12B7,$ED42; $002EA0
    dc.w    $300A,$7BB2,$1B20,$0513,$09D9,$2BD9,$D923,$10E1; $002EB0
    dc.w    $E5D9,$D1EB,$C9C5,$4B42,$EB21,$0000,$3E10,$CB23; $002EC0
    dc.w    $CB12,$ED6A,$B7ED,$421C,$3002,$091D,$3DC2,$3808; $002ED0
    dc.w    $EBC1,$C9C5,$4FCB,$09CB,$09CB,$09CB,$09CB,$F97C; $002EE0
    dc.w    $B132,$117F,$7D32,$117F,$C1C9,$F5D5,$E57B,$E61F; $002EF0
    dc.w    $CD7E,$087A,$3211,$7F7B,$3211,$7F3E,$E732,$117F; $002F00
    dc.w    $E1D1,$F1C9,$2135,$11CB,$2785,$6F7C,$CE00,$6756; $002F10
    dc.w    $235E,$7AE6,$0FF6,$C057,$C9C9,$E567,$DD7E,$00FE; $002F20
    dc.w    $0728,$10D6,$042E,$B485,$6F7C,$D6F8,$0F0F,$5F7D; $002F30
    dc.w    $CDDC,$057C,$E1C9,$DD7E,$00FE,$07C0,$E57B,$B220; $002F40
    dc.w    $0113,$7A0F,$0F0F,$0FE6,$0F6F,$2600,$7AE6,$0FB3; $002F50
    dc.w    $2801,$237D,$32FD,$0F32,$FE0F,$EBCD,$2F08,$11FF; $002F60
    dc.w    $02CD,$DE07,$0180,$70CD,$0008,$7DED,$445F,$3E26; $002F70
    dc.w    $CDDC,$05E1,$C97B,$E60F,$CB57,$2002,$F680,$DD77; $002F80
    dc.w    $2AC9,$F5D5,$3A07,$10E6,$C3F6,$0CCD,$D405,$D1F1; $002F90
    dc.w    $C9F5,$D53A,$0710,$E6F3,$CDD4,$05D1,$F1C9,$F5D5; $002FA0
    dc.w    $3A07,$10E6,$CFF6,$10CD,$D405,$D1F1,$C92A,$F10F; $002FB0
    dc.w    $7DB4,$280B,$2B22,$F10F,$FBCD,$550E,$F318,$EE2A; $002FC0
    dc.w    $F30F,$7DB4,$2809,$2B22,$F30F,$FBCD,$9F14,$F33A; $002FD0
    dc.w    $0D00,$FE02,$380C,$3E01,$320D,$00CD,$9F03,$AF32; $002FE0
    dc.w    $0D00,$2AF1,$0F7D,$B420,$CB2A,$F30F,$7DB4,$20D6; $002FF0
    dc.w    $C9F3,$F5C5,$D5E5,$DDE5,$DD21,$600F,$112C,$0006; $003000
    dc.w    $03DD,$6E28,$DD66,$297D,$B428,$072B,$DD75,$28DD; $003010
    dc.w    $7429,$DD19,$10EB,$2AED,$0F11,$5203,$19ED,$5BEF; $003020
    dc.w    $0F7B,$B228,$19AF,$ED52,$3804,$3CC3,$A009,$1922; $003030
    dc.w    $ED0F,$2AF1,$0F85,$6F7C,$CE00,$6722,$F10F,$2AF3; $003040
    dc.w    $0F23,$22F3,$0F3A,$F60F,$B720,$213C,$32F6,$0FC5; $003050
    dc.w    $08F5,$D9C5,$D5E5,$DDE5,$FDE5,$CD27,$09FD,$E1DD; $003060
    dc.w    $E1E1,$D1C1,$D9F1,$08C1,$21F6,$0F35,$DDE1,$E1D1; $003070
    dc.w    $C1F1,$FBED,$4DDD,$6E1C,$DD66,$1DE6,$0F20,$0A7D; $003080
    dc.w    $B4C0,$DD71,$1CDD,$701D,$C95F,$7DB4,$C8DD,$7E1B; $003090
    dc.w    $B720,$0A1C,$DD73,$1BDD,$711E,$DD70,$1FDD,$351B; $0030A0
    dc.w    $2803,$4D44,$C9DD,$361C,$00DD,$361D,$00C9,$03C9; $0030B0
    dc.w    $0A03,$57DD,$7E00,$FE04,$C8FE,$07C8,$5F7A,$1601; $0030C0
    dc.w    $A728,$0914,$FE7F,$2804,$14FE,$40C0,$7BFE,$0338; $0030D0
    dc.w    $08D6,$03FE,$0138,$02D6,$011E,$B483,$CB0A,$CB0A; $0030E0
    dc.w    $5ACD,$DC05,$C90A,$036F,$DD7E,$0057,$FE04,$2804; $0030F0
    dc.w    $FE07,$2048,$7DE6,$0F6F,$DD77,$0B7A,$FE05,$300D; $003100
    dc.w    $3AEB,$0F2F,$CDA8,$075C,$1600,$1319,$6CDD,$7E0F; $003110
    dc.w    $57E6,$0FCD,$A807,$7D0F,$0F0F,$0FE6,$0F3C,$850F; $003120
    dc.w    $0F0F,$0FE6,$0FCB,$6228,$02F6,$10DD,$770E,$DDCB; $003130
    dc.w    $097E,$C82F,$E60F,$F690,$3211,$7FC9,$CBBD,$DD75; $003140
    dc.w    $0B1E,$007A,$FE05,$300A,$3AEB,$0FA7,$7DC4,$370B; $003150
    dc.w    $835F,$C5DD,$4E06,$DD46,$0779,$B028,$13C5,$FDE1; $003160
    dc.w    $FD7E,$00E6,$074F,$0600,$2155,$1009,$4ECD,$EC0A; $003170
    dc.w    $C1C9,$C5D5,$E5DD,$E5FD,$E57A,$6AFE,$0338,$08D6; $003180
    dc.w    $03FE,$0138,$02D6,$0116,$4082,$5706,$04FD,$7E06; $003190
    dc.w    $CB39,$3008,$E67F,$83F2,$160B,$3E7F,$DD77,$0ED5; $0031A0
    dc.w    $5F7A,$CDFE,$05D1,$C604,$57DD,$23FD,$2310,$DEFD; $0031B0
    dc.w    $E1DD,$E1E1,$D1C1,$C9DD,$7E0B,$C361,$0AD9,$2F6F; $0031C0
    dc.w    $3AEB,$0F0F,$0FE6,$3F2F,$CDA8,$075C,$1600,$1319; $0031D0
    dc.w    $7C2F,$FE80,$3802,$3E7F,$D9C9,$0A03,$C36F,$070A; $0031E0
    dc.w    $032F,$5F16,$0013,$21F4,$10CD,$2F08,$7DC3,$6F07; $0031F0
    dc.w    $0A6F,$030A,$6709,$032B,$2BDD,$7506,$DD74,$07E5; $003200
    dc.w    $DD7E,$00FE,$0428,$52FE,$0728,$4E16,$00FE,$0338; $003210
    dc.w    $0ACB,$D2D6,$03FE,$0138,$02D6,$01C5,$4782,$57CD; $003220
    dc.w    $CA06,$5E23,$3EB0,$80CD,$DC05,$7E23,$0707,$0707; $003230
    dc.w    $E6F0,$B2DD,$7701,$3E30,$8006,$045E,$23CD,$DC05; $003240
    dc.w    $C604,$10F7,$C610,$2323,$2323,$0610,$5E23,$CDDC; $003250
    dc.w    $05C6,$0410,$F7C1,$C305,$0C5E,$237E,$2307,$0707; $003260
    dc.w    $07E6,$10DD,$5609,$CBA2,$B2DD,$7709,$E610,$C464; $003270
    dc.w    $087E,$23DD,$770E,$DD77,$0FE6,$1028,$0E5E,$2356; $003280
    dc.w    $23CD,$B008,$5EDD,$732A,$CDEF,$08FD,$E1FD,$7E26; $003290
    dc.w    $DD77,$08DD,$CB0A,$BEDD,$CB09,$96FD,$7E25,$B728; $0032A0
    dc.w    $0EDD,$CB09,$D6DD,$CB09,$5E28,$04DD,$CB0A,$FEC3; $0032B0
    dc.w    $310B,$0A03,$DDCB,$0A9E,$B7F2,$3C0C,$DDCB,$0ADE; $0032C0
    dc.w    $ED44,$FE0D,$3801,$AF6F,$2600,$2911,$1B10,$195E; $0032D0
    dc.w    $2356,$DD73,$22DD,$7223,$0A03,$5F16,$0013,$2100; $0032E0
    dc.w    $80CD,$2F08,$DD75,$20DD,$7421,$AFDD,$7724,$DD77; $0032F0
    dc.w    $25DD,$7726,$DD77,$27DD,$CB0A,$AEDD,$CB0A,$A6DD; $003300
    dc.w    $CB09,$CEC3,$AA0C,$DDCB,$0A7E,$C0DD,$CB09,$DEDD; $003310
    dc.w    $CB09,$56C8,$DD7E,$0AF6,$83DD,$770A,$C9DD,$CB0A; $003320
    dc.w    $7EC8,$DDCB,$099E,$DDCB,$0ABE,$DD7E,$09E6,$C0C8; $003330
    dc.w    $DD6E,$0CDD,$660D,$C3FE,$06DD,$7E1B,$3DC0,$DD77; $003340
    dc.w    $1BDD,$771C,$DD77,$1DDD,$4E1E,$DD46,$1FC9,$DD71; $003350
    dc.w    $04DD,$7005,$C9CD,$8606,$0100,$003A,$EC0F,$07D0; $003360
    dc.w    $DDCB,$0946,$C0DD,$3617,$30DD,$3618,$2DDD,$3619; $003370
    dc.w    $01AF,$DD77,$1ADD,$771B,$DD77,$1CDD,$771D,$DD4E; $003380
    dc.w    $04DD,$4605,$C903,$03C9,$010D,$2A0A,$EF09,$280A; $003390
    dc.w    $5F0A,$590B,$540B,$000D,$6A0B,$FF0C,$FF0C,$2C0C; $0033A0
    dc.w    $800C,$970C,$010D,$010D,$010D,$B30C,$C80C,$CF0C; $0033B0
    dc.w    $DD4E,$02DD,$4603,$79B0,$C8DD,$3519,$280C,$DD7E; $0033C0
    dc.w    $1AB7,$C8DD,$351A,$C0C3,$8606,$CD52,$0DDD,$7102; $0033D0
    dc.w    $DD70,$03DD,$CB09,$86C9,$0A03,$FE60,$383E,$FEC0; $0033E0
    dc.w    $3832,$2E00,$FECF,$3816,$2CFE,$D038,$112C,$FEE0; $0033F0
    dc.w    $380C,$2CFE,$F038,$072C,$67D6,$F085,$6F7C,$2600; $003400
    dc.w    $2911,$020D,$195E,$2356,$EB11,$880D,$D5E9,$79B0; $003410
    dc.w    $C252,$0DC9,$D660,$DD56,$18C3,$A30D,$5F0A,$03DD; $003420
    dc.w    $7717,$0A03,$DD77,$1857,$7B14,$1520,$0ACD,$8606; $003430
    dc.w    $DD36,$16FF,$C33A,$0EDD,$8608,$F5F2,$BA0D,$ED44; $003440
    dc.w    $1E00,$D60C,$3804,$1CC3,$BC0D,$C60C,$57F1,$FAD8; $003450
    dc.w    $0DFE,$60DA,$DB0D,$1E07,$7AC6,$54C3,$DB0D,$1E00; $003460
    dc.w    $7ADD,$CB09,$6E28,$08DD,$BE16,$2006,$C330,$0ECD; $003470
    dc.w    $8606,$DD77,$16DD,$7E00,$FE04,$2804,$FE07,$2010; $003480
    dc.w    $DD6E,$1626,$0029,$1175,$1019,$5E23,$56C3,$1B0E; $003490
    dc.w    $7B6A,$2600,$2911,$5D10,$195E,$2356,$0707,$07B2; $0034A0
    dc.w    $57EB,$CDFE,$06DD,$750C,$DD74,$0DDD,$CB09,$6ECC; $0034B0
    dc.w    $1B06,$DDCB,$0AB6,$DDCB,$094E,$2804,$DDCB,$0AF6; $0034C0
    dc.w    $DD7E,$17DD,$7719,$DD5E,$18DD,$731A,$DDCB,$098E; $0034D0
    dc.w    $DDCB,$09EE,$BBD8,$DDCB,$09AE,$C9DD,$2184,$0E06; $0034E0
    dc.w    $053A,$EC0F,$0F30,$1CAF,$F5C5,$CD2A,$0DC1,$F1DD; $0034F0
    dc.w    $B602,$DDB6,$0311,$2C00,$DD19,$10EC,$B7C0,$21EC; $003500
    dc.w    $0FCB,$8621,$0000,$22ED,$0FC9,$0000,$0000,$0000; $003510
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $003520
    dc.w    $FF30,$2D01,$0000,$0000,$0000,$0000,$0000,$0000; $003530
    dc.w    $0000,$0000,$0000,$0101,$0000,$0000,$0000,$0000; $003540
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$FF30,$2D01; $003550
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $003560
    dc.w    $0000,$0202,$0000,$0000,$0000,$0000,$0000,$0000; $003570
    dc.w    $0000,$0000,$0000,$0000,$FF30,$2D01,$0000,$0000; $003580
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0303; $003590
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0035A0
    dc.w    $0000,$0000,$FF30,$2D01,$0000,$0000,$0000,$0000; $0035B0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0404,$0000,$0000; $0035C0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $0035D0
    dc.w    $FF30,$2D01,$0000,$0000,$0000,$0000,$0000,$0000; $0035E0
    dc.w    $0000,$0000,$0000,$0505,$0000,$0000,$0000,$0000; $0035F0
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$FF30,$2D01; $003600
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $003610
    dc.w    $0000,$0606,$0000,$0000,$0000,$0000,$0000,$0000; $003620
    dc.w    $0000,$0000,$0000,$0000,$FF30,$2D01,$0000,$0000; $003630
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0707; $003640
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $003650
    dc.w    $0000,$0000,$FF30,$2D01,$0000,$0000,$0000,$0000; $003660
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$7D03,$0088; $003670
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $003680
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$3F00,$00FF; $003690
    dc.w    $FFFF,$FFFF,$FFFF,$FFFF,$FFFF,$FFFF,$FFFF,$FF00; $0036A0
    dc.w    $0000,$009C,$07AD,$0F38,$1845,$21DC,$2A05,$35C9; $0036B0
    dc.w    $3F30,$4B45,$5712,$64A2,$7100,$804C,$0072,$00BE; $0036C0
    dc.w    $000A,$017D,$01FE,$029C,$07AD,$0F45,$21DC,$2AC9; $0036D0
    dc.w    $3F30,$4B45,$5700,$8059,$9F0A,$EA08,$0808,$080C; $0036E0
    dc.w    $0E0E,$0F84,$02AA,$02D3,$02FE,$022B,$035B,$038E; $0036F0
    dc.w    $03C5,$03FE,$033B,$047B,$04BF,$0400,$0000,$0000; $003700
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $003710
    dc.w    $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000; $003720
    dc.w    $0000,$0000,$00F9,$03C0,$038A,$0357,$0327,$03FA; $003730
    dc.w    $02CF,$02A7,$0281,$025D,$023B,$021B,$02FC,$01E0; $003740
    dc.w    $01C5,$01AC,$0194,$017D,$0168,$0153,$0140,$012E; $003750
    dc.w    $011D,$010D,$01FE,$00F0,$00E2,$00D6,$00CA,$00BE; $003760
    dc.w    $00B4,$00AA,$00A0,$0097,$008F,$0087,$007F,$0078; $003770
    dc.w    $0071,$006B,$0065,$005F,$005A,$0055,$0050,$004C; $003780
    dc.w    $0047,$0043,$0040,$003C,$0039,$0035,$0032,$002F; $003790
    dc.w    $002C,$002A,$0028,$0025,$0023,$0021,$001F,$001E; $0037A0
    dc.w    $001C,$001A,$0019,$0017,$0016,$0015,$0014,$0012; $0037B0
    dc.w    $0010,$000F,$000E,$000D,$000C,$0001,$0005,$0009; $0037C0
    dc.w    $000D,$0001,$0105,$0109,$010D,$0101,$0205,$0209; $0037D0
    dc.w    $020D,$0201,$0305,$0309,$030D,$0301,$0405,$0409; $0037E0
    dc.w    $040D,$0401,$0505,$0509,$050D,$0501,$0605,$0609; $0037F0
    dc.w    $060D,$0601,$0705,$0709,$070D,$0701,$0805,$08FD; $003800
    dc.w    $7E1C,$3D28,$483D,$286D,$3DCA,$3012,$3DCA,$7312; $003810
    dc.w    $DD6E,$20DD,$6621,$DDCB,$0A6E,$2807,$2B7C,$2F67; $003820
    dc.w    $7D2F,$6FDD,$5E26,$DD56,$2719,$2B7C,$2307,$300D; $003830
    dc.w    $EBDD,$7E0A,$EE20,$DD77,$0A37,$C3BD,$11DD,$7526; $003840
    dc.w    $DD74,$27D0,$DD7E,$0AEE,$10DD,$770A,$C9DD,$5E20; $003850
    dc.w    $DD56,$2121,$0080,$CD2F,$08EB,$DD6E,$24DD,$6625; $003860
    dc.w    $CD2F,$08DD,$7E0A,$E6EF,$CB45,$2802,$F610,$DD77; $003870
    dc.w    $0A21,$0080,$C9DD,$6E20,$DD66,$2129,$DDCB,$0A6E; $003880
    dc.w    $2807,$2B7C,$2F67,$7D2F,$6FDD,$5E26,$DD56,$2719; $003890
    dc.w    $2B7C,$2307,$300D,$EBDD,$7E0A,$EE20,$DD77,$0A37; $0038A0
    dc.w    $C323,$12DD,$7526,$DD74,$27D0,$DD7E,$0ACB,$6FC0; $0038B0
    dc.w    $EE10,$DD77,$0AC9,$DD5E,$20DD,$5621,$21FF,$7FCD; $0038C0
    dc.w    $2F08,$EBCB,$C3DD,$6E24,$DD66,$25CB,$7C28,$072B; $0038D0
    dc.w    $7C2F,$677D,$2F6F,$CD2F,$082A,$E60F,$7AB3,$C011; $0038E0
    dc.w    $8303,$CDDE,$07CB,$24DD,$CB0A,$A6CB,$7C28,$06DD; $0038F0
    dc.w    $CB0A,$E6CB,$BC22,$E60F,$C9DD,$6E26,$DD66,$277C; $003900
    dc.w    $D680,$B5C8,$DD6E,$20DD,$6621,$DDCB,$0A6E,$2807; $003910
    dc.w    $2B7C,$2F67,$7D2F,$6FDD,$5E26,$DD56,$2719,$2B7C; $003920
    dc.w    $2307,$300D,$EBDD,$7E0A,$EE20,$DD77,$0A37,$C3B1; $003930
    dc.w    $12DD,$7526,$DD74,$27D0,$2100,$80DD,$7526,$DD74; $003940
    dc.w    $27C9,$DD5E,$0CDD,$7E0D,$E607,$5704,$0520,$38D5; $003950
    dc.w    $CDDE,$07EB,$CB22,$ED6A,$DD5E,$22DD,$5623,$CDDE; $003960
    dc.w    $07EB,$29D1,$19DD,$7E0D,$E638,$477C,$FE08,$3841; $003970
    dc.w    $78FE,$3830,$0AC6,$0847,$CB3C,$CB1D,$C3E5,$1206; $003980
    dc.w    $3821,$FF07,$C32B,$13D5,$DD5E,$22DD,$5623,$CDDE; $003990
    dc.w    $07EB,$0100,$4009,$4D44,$D121,$0000,$CB3A,$CB1B; $0039A0
    dc.w    $CB1C,$CB3A,$CB1B,$CB1C,$CD00,$08DD,$7E0D,$E638; $0039B0
    dc.w    $477C,$B067,$C3FE,$0604,$0528,$28DD,$5E0C,$DD56; $0039C0
    dc.w    $0DD5,$CDDE,$07EB,$CB22,$ED6A,$DD5E,$22DD,$5623; $0039D0
    dc.w    $CDDE,$07EB,$29D1,$197C,$FE04,$DAFE,$0621,$FF03; $0039E0
    dc.w    $C3FE,$06DD,$5E22,$DD56,$23CD,$DE07,$EB01,$0040; $0039F0
    dc.w    $094D,$44DD,$5E0C,$DD56,$0D21,$0000,$CB3A,$CB1B; $003A00
    dc.w    $CB1C,$CB3A,$CB1B,$CB1C,$CD00,$08C3,$FE06,$DDCB; $003A10
    dc.w    $0A9E,$FD7E,$1DB7,$F29B,$13DD,$CB0A,$DEED,$44E6; $003A20
    dc.w    $7FC8,$3C5F,$1600,$EB29,$CDDE,$076C,$63DD,$7E0A; $003A30
    dc.w    $4707,$A8E6,$1047,$DD7E,$00FE,$04CA,$3113,$FE07; $003A40
    dc.w    $CA31,$13C3,$BC12,$DDCB,$0A7E,$CA97,$14DD,$7E09; $003A50
    dc.w    $E6C0,$282F,$FD7E,$1EE6,$0F87,$5F16,$0021,$3510; $003A60
    dc.w    $195E,$2356,$DD73,$22DD,$7223,$FD6E,$1AFD,$661B; $003A70
    dc.w    $7CFE,$40DA,$F313,$2100,$40DD,$7520,$DD74,$217C; $003A80
    dc.w    $B520,$0BDD,$7E0A,$F603,$DD77,$0AC3,$9714,$DD7E; $003A90
    dc.w    $0AE6,$03CA,$9714,$3D28,$4F3D,$287B,$DDCB,$0AC6; $003AA0
    dc.w    $DDCB,$0A8E,$FD7E,$24B7,$2811,$3D28,$4B6F,$2600; $003AB0
    dc.w    $2929,$DD75,$24DD,$7425,$C397,$14FD,$7E1C,$FE04; $003AC0
    dc.w    $2836,$2AE4,$0FDD,$7524,$DD74,$25DD,$CB0A,$AEDD; $003AD0
    dc.w    $CB0A,$A6CB,$7C28,$32DD,$CB0A,$EEDD,$CB0A,$E62B; $003AE0
    dc.w    $7C2F,$677D,$2F6F,$1821,$DD6E,$24DD,$6625,$2BDD; $003AF0
    dc.w    $7524,$DD74,$257D,$B4C0,$2100,$00DD,$7524,$DD74; $003B00
    dc.w    $25DD,$CB0A,$AEDD,$CB0A,$A6DD,$7526,$DD74,$27DD; $003B10
    dc.w    $CB0A,$86DD,$CB0A,$CECD,$7911,$CD88,$13DD,$3424; $003B20
    dc.w    $C0DD,$3425,$C9DD,$2184,$0E06,$053A,$E80F,$B728; $003B30
    dc.w    $6121,$E90F,$CB0E,$305A,$6F3A,$EA0F,$BD38,$0ACD; $003B40
    dc.w    $8A07,$AF32,$E80F,$C34A,$155F,$7DCD,$A807,$EB2C; $003B50
    dc.w    $7D32,$EA0F,$CDA8,$07D5,$AF4D,$446F,$6158,$57ED; $003B60
    dc.w    $427B,$DE00,$5F7A,$DE00,$57C1,$CD00,$087D,$2425; $003B70
    dc.w    $2802,$3EFF,$6F3A,$EB0F,$BD28,$177D,$32EB,$0FDD; $003B80
    dc.w    $E506,$05DD,$7E0B,$CD61,$0A11,$2C00,$DD19,$10F3; $003B90
    dc.w    $DDE1,$0608,$C5DD,$CB0A,$7620,$13DD,$6E06,$DD66; $003BA0
    dc.w    $077C,$B528,$23E5,$FDE1,$CDC0,$13C3,$4215,$CD73; $003BB0
    dc.w    $12CD,$A713,$DD7E,$27D6,$80DD,$B626,$200A,$DD75; $003BC0
    dc.w    $0CDD,$740D,$DDCB,$0AB6,$C111,$2C00,$DD19,$10C4; $003BD0
    dc.w    $2AE4,$0F23,$22E4,$0FC9,$4280,$1039,$00A1,$0001; $003BE0
    dc.w    $EC08,$0200,$0003,$41FA,$011E,$1030,$0000,$4A00; $003BF0
    dc.w    $6700,$00DC,$41F8,$01F0,$323C,$000F,$B010,$6700; $003C00
    dc.w    $0360,$5288,$51C9,$FFF6,$49F9,$00C0,$0000,$4BF9; $003C10
    dc.w    $00C0,$0004,$3ABC,$8164,$3ABC,$8230,$3ABC,$8C81; $003C20
    dc.w    $3ABC,$8F02,$3ABC,$9001,$2ABC,$C002,$0000,$38BC; $003C30
    dc.w    $0EEE,$2ABC,$4000,$0000,$41FA,$014E,$303C,$003A; $003C40
    dc.w    $243C,$1000,$0000,$3C3C,$0007,$1218,$7800,$3A3C; $003C50
    dc.w    $0007,$E99A,$E219,$6402,$8882,$51CD,$FFF6,$2884; $003C60
    dc.w    $51CE,$FFE8,$51C8,$FFE0,$123C,$0008,$41FA,$00B0; $003C70
    dc.w    $1018,$6100,$005C,$43F8,$01F0,$0C11,$0020,$6742; $003C80
    dc.w    $45FA,$0088,$381A,$4A04,$6734,$B811,$662C,$0C29; $003C90
    dc.w    $0020,$0001,$6614,$B3FC,$0000,$01F0,$670C,$41FA; $003CA0
    dc.w    $009B,$1018,$5241,$6100,$0028,$41FA,$005A,$D1DA; $003CB0
    dc.w    $1018,$5241,$6100,$001A,$6004,$588A,$60C6,$5289; $003CC0
    dc.w    $60B8,$41FA,$007A,$1018,$5241,$6100,$0004,$60FE; $003CD0
    dc.w    $1401,$0282,$0000,$00FF,$4842,$EF8A,$1600,$0283; $003CE0
    dc.w    $0000,$00FF,$4843,$E383,$D483,$0682,$4000,$0003; $003CF0
    dc.w    $2A82,$4A10,$670E,$1418,$0402,$0020,$0242,$00FF; $003D00
    dc.w    $3882,$60EE,$4E75,$4A00,$5545,$004A,$0000,$0042; $003D10
    dc.w    $0055,$0000,$0053,$0045,$0000,$0061,$0000,$0644; $003D20
    dc.w    $4556,$454C,$4F50,$4544,$2046,$4F52,$2055,$5345; $003D30
    dc.w    $204F,$4E4C,$5920,$5749,$5448,$0012,$2600,$0F53; $003D40
    dc.w    $5953,$5445,$4D53,$2E00,$0C4E,$5453,$4320,$4D45; $003D50
    dc.w    $4741,$2044,$5249,$5645,$000D,$4E54,$5343,$2047; $003D60
    dc.w    $454E,$4553,$4953,$0004,$5041,$4C20,$414E,$4420; $003D70
    dc.w    $4652,$454E,$4348,$2053,$4543,$414D,$204D,$4547; $003D80
    dc.w    $4120,$4452,$4956,$4500,$0000,$0000,$0000,$0000; $003D90
    dc.w    $1818,$1818,$0018,$1800,$3636,$4800,$0000,$0000; $003DA0
    dc.w    $1212,$7F12,$7F24,$2400,$083F,$483E,$097E,$0800; $003DB0
    dc.w    $7152,$7408,$1725,$4700,$1824,$1829,$4546,$3900; $003DC0
    dc.w    $3030,$4000,$0000,$0000,$0C10,$2020,$2010,$0C00; $003DD0
    dc.w    $3008,$0404,$0408,$3000,$0008,$2A1C,$2A08,$0000; $003DE0
    dc.w    $0808,$087F,$0808,$0800,$0000,$0000,$0030,$3040; $003DF0
    dc.w    $0000,$007F,$0000,$0000,$0000,$0000,$0030,$3000; $003E00
    dc.w    $0102,$0408,$1020,$4000,$1E33,$3333,$3333,$1E00; $003E10
    dc.w    $1838,$1818,$1818,$3C00,$3E63,$630E,$3860,$7F00; $003E20
    dc.w    $3E63,$031E,$0363,$3E00,$060E,$1E36,$667F,$0600; $003E30
    dc.w    $7E60,$7E63,$0363,$3E00,$3E63,$607E,$6363,$3E00; $003E40
    dc.w    $3F63,$0606,$0C0C,$1800,$3E63,$633E,$6363,$3E00; $003E50
    dc.w    $3E63,$633F,$0363,$3E00,$0018,$1800,$0018,$1800; $003E60
    dc.w    $0018,$1800,$0018,$1820,$030C,$3040,$300C,$0300; $003E70
    dc.w    $0000,$7F00,$7F00,$0000,$6018,$0601,$0618,$6000; $003E80
    dc.w    $3E63,$031E,$1800,$1800,$3C42,$3949,$4949,$3600; $003E90
    dc.w    $1C1C,$3636,$7F63,$6300,$7E63,$637E,$6363,$7E00; $003EA0
    dc.w    $3E73,$6060,$6073,$3E00,$7E63,$6363,$6363,$7E00; $003EB0
    dc.w    $3F30,$303E,$3030,$3F00,$3F30,$303E,$3030,$3000; $003EC0
    dc.w    $3E73,$6067,$6373,$3E00,$6666,$667E,$6666,$6600; $003ED0
    dc.w    $1818,$1818,$1818,$1800,$0C0C,$0C0C,$CCCC,$7800; $003EE0
    dc.w    $6366,$6C78,$6C66,$6300,$6060,$6060,$6060,$7F00; $003EF0
    dc.w    $6377,$7F6B,$6B63,$6300,$6373,$7B7F,$6F67,$6300; $003F00
    dc.w    $3E63,$6363,$6363,$3E00,$7E63,$637E,$6060,$6000; $003F10
    dc.w    $3E63,$6363,$6F63,$3F00,$7E63,$637E,$6866,$6700; $003F20
    dc.w    $3E63,$703E,$0763,$3E00,$7E18,$1818,$1818,$1800; $003F30
    dc.w    $6666,$6666,$6666,$3C00,$6363,$6336,$361C,$1C00; $003F40
    dc.w    $6B6B,$6B6B,$6B7F,$3600,$6363,$361C,$3663,$6300; $003F50
    dc.w    $6666,$663C,$1818,$1800,$7F07,$0E1C,$3870,$7F00; $003F60
    dc.w    $4E75,$48E7,$303C,$242F,$001C,$267C,$00FF,$1802; $003F70
    dc.w    $287C,$00FF,$BD56,$2A7C,$00FF,$BD54,$3014,$E568; $003F80
    dc.w    $3880,$B453,$6332,$9453,$3013,$D040,$247C,$0004; $003F90
    dc.w    $684C,$3632,$0000,$C655,$0283,$0000,$FFFF,$3003; $003FA0
    dc.w    $E568,$8154,$1029,$0001,$E148,$1011,$3A80,$5489; $003FB0
    dc.w    $7010,$9042,$3680,$6002,$9553,$7000,$3013,$7200; $003FC0
    dc.w    $3215,$E0A1,$2001,$3202,$D241,$247C,$0004,$684C; $003FD0
    dc.w    $C072,$1000,$8154,$4CDF,$3C0C,$4E75             ; $003FE0 | prev fn tail
; ---------------------------------------------------------------------------
; LZ_Decompress - LZSS/LZ77 variant decompression
; Inputs: dest buffer ($1C,SP), compressed source ($20,SP)
; Output: D0.L = bytes written
; Uses A4 = helper at $003F72 for bitstream consumption (JSR (A4))
; RAM: $FFBD56 bitstream window (via A3), $FFA78C control byte, $FF1802 init
; 123 calls | 596 bytes | $003FEC-$00423F
; ---------------------------------------------------------------------------
LZ_Decompress:
    movem.l d2-d4/a2-a4,-(sp)                             ; $003FEC
    movea.l $1C(sp),a0                                     ; $003FF0 | dest buffer
    movea.l $20(sp),a1                                     ; $003FF4 | compressed source
    movea.l #$00FFBD56,a3                                  ; $003FF8 | -> bitstream window
    movea.l #$00003F72,a4                                  ; $003FFE | -> helper function
    clr.w   ($FF1802).l                                    ; $004004 | clear init flag
    pea     ($0010).w                                      ; $00400A | push 16 (read 16 bits)
    jsr     (a4)                                           ; $00400E | fill bitstream window
    addq.l  #4,sp                                          ; $004010
.fetch_control:
    move.b  (a1)+,($FFA78C).l                              ; $004012 | read control byte
    clr.w   d4                                             ; $004018 | bit counter = 0
.process_bit:
    move.b  ($FFA78C).l,d0                                 ; $00401A | load control byte
    btst    #7,d0                                          ; $004020 | test MSB
    beq.s   .bit_zero                                      ; $004024 | 0 = back-reference
    move.b  (a1)+,(a0)+                                    ; $004026 | 1 = literal copy
    bra.w   .advance_bit                                   ; $004028
; --- Decode match length from bitstream window ---
.bit_zero:
    move.w  (a3),d0                                        ; $00402C
    andi.w  #$8000,d0                                      ; $00402E | test bit 15
    beq.s   .len_not_b15                                   ; $004032
    moveq   #1,d3                                          ; $004034 | length = 1
    bra.w   .decode_dist                                   ; $004036
.len_not_b15:
    move.w  (a3),d0                                        ; $00403A
    andi.w  #$4000,d0                                      ; $00403C | test bit 14
    beq.s   .len_not_b14                                   ; $004040
    move.w  (a3),d3                                        ; $004042
    andi.l  #$00006000,d3                                  ; $004044 | bits 14-13
    moveq   #13,d0                                         ; $00404A
    asr.l   d0,d3                                          ; $00404C
    pea     ($0002).w                                      ; $00404E | consume 2 bits
    bra.w   .call_helper                                   ; $004052
.len_not_b14:
    move.w  (a3),d0                                        ; $004056
    andi.w  #$2000,d0                                      ; $004058 | test bit 13
    beq.s   .len_not_b13                                   ; $00405C
    move.w  (a3),d3                                        ; $00405E
    andi.l  #$00003800,d3                                  ; $004060 | bits 13-11
    moveq   #11,d0                                         ; $004066
    asr.l   d0,d3                                          ; $004068
    pea     ($0004).w                                      ; $00406A | consume 4 bits
    bra.s   .call_helper                                   ; $00406E
.len_not_b13:
    move.w  (a3),d0                                        ; $004070
    andi.w  #$1000,d0                                      ; $004072 | test bit 12
    beq.s   .len_not_b12                                   ; $004076
    move.w  (a3),d3                                        ; $004078
    andi.l  #$00001E00,d3                                  ; $00407A | bits 12-9
    moveq   #9,d0                                          ; $004080
    asr.l   d0,d3                                          ; $004082
    pea     ($0006).w                                      ; $004084 | consume 6 bits
    bra.s   .call_helper                                   ; $004088
.len_not_b12:
    move.w  (a3),d0                                        ; $00408A
    andi.w  #$0800,d0                                      ; $00408C | test bit 11
    beq.s   .len_not_b11                                   ; $004090
    move.w  (a3),d3                                        ; $004092
    andi.l  #$00000F80,d3                                  ; $004094 | bits 10-7
    asr.l   #7,d3                                          ; $00409A
    pea     ($0008).w                                      ; $00409C | consume 8 bits
    bra.s   .call_helper                                   ; $0040A0
.len_not_b11:
    move.w  (a3),d0                                        ; $0040A2
    andi.w  #$0400,d0                                      ; $0040A4 | test bit 10
    beq.s   .len_not_b10                                   ; $0040A8
    move.w  (a3),d3                                        ; $0040AA
    andi.l  #$000007E0,d3                                  ; $0040AC | bits 9-5
    asr.l   #5,d3                                          ; $0040B2
    pea     ($000A).w                                      ; $0040B4 | consume 10 bits
    bra.s   .call_helper                                   ; $0040B8
.len_not_b10:
    move.w  (a3),d0                                        ; $0040BA
    andi.w  #$0200,d0                                      ; $0040BC | test bit 9
    beq.s   .len_default                                   ; $0040C0
    move.w  (a3),d3                                        ; $0040C2
    andi.l  #$000003F8,d3                                  ; $0040C4 | bits 8-3
    asr.l   #3,d3                                          ; $0040CA
    pea     ($000C).w                                      ; $0040CC | consume 12 bits
    bra.s   .call_helper                                   ; $0040D0
.len_default:
    move.w  (a3),d3                                        ; $0040D2
    andi.l  #$000001FC,d3                                  ; $0040D4 | bits 8-2
    asr.l   #2,d3                                          ; $0040DA
    addi.w  #$0080,d3                                      ; $0040DC | +128 bias
    cmpi.w  #$00FF,d3                                      ; $0040E0 | 255 = end marker
    beq.w   .done                                          ; $0040E4
    pea     ($000D).w                                      ; $0040E8 | consume 13 bits
.call_helper:
    jsr     (a4)                                           ; $0040EC | call bitstream helper
    addq.l  #4,sp                                          ; $0040EE
; --- Decode match distance from bitstream window ---
.decode_dist:
    andi.w  #$7FFF,(a3)                                    ; $0040F0 | clear bit 15
    cmpi.w  #$0800,(a3)                                    ; $0040F4
    bcc.s   .dist_ge_0800                                  ; $0040F8
    move.w  (a3),d2                                        ; $0040FA
    andi.l  #$00000600,d2                                  ; $0040FC | bits 10-9
    moveq   #9,d0                                          ; $004102
    asr.l   d0,d2                                          ; $004104
    pea     ($0007).w                                      ; $004106 | consume 7 bits
    bra.w   .do_copy                                       ; $00410A
.dist_ge_0800:
    cmpi.w  #$0C00,(a3)                                    ; $00410E
    bcc.s   .dist_ge_0C00                                  ; $004112
    move.w  (a3),d2                                        ; $004114
    andi.l  #$00000300,d2                                  ; $004116 | bits 9-8
    asr.l   #8,d2                                          ; $00411C
    addq.w  #4,d2                                          ; $00411E | +4 bias
    pea     ($0008).w                                      ; $004120 | consume 8 bits
    bra.w   .do_copy                                       ; $004124
.dist_ge_0C00:
    cmpi.w  #$1800,(a3)                                    ; $004128
    bcc.s   .dist_ge_1800                                  ; $00412C
    moveq   #0,d2                                          ; $00412E
    move.w  (a3),d2                                        ; $004130
    subi.l  #$00000C00,d2                                  ; $004132
    andi.l  #$00000F80,d2                                  ; $004138 | bits 10-7
    asr.l   #7,d2                                          ; $00413E
    addq.w  #8,d2                                          ; $004140 | +8 bias
    pea     ($0009).w                                      ; $004142 | consume 9 bits
    bra.w   .do_copy                                       ; $004146
.dist_ge_1800:
    cmpi.w  #$3000,(a3)                                    ; $00414A
    bcc.s   .dist_ge_3000                                  ; $00414E
    moveq   #0,d2                                          ; $004150
    move.w  (a3),d2                                        ; $004152
    subi.l  #$00001800,d2                                  ; $004154
    andi.l  #$00001FC0,d2                                  ; $00415A | bits 12-6
    asr.l   #6,d2                                          ; $004160
    addi.w  #$0020,d2                                      ; $004162 | +$20 bias
    pea     ($000A).w                                      ; $004166 | consume 10 bits
    bra.w   .do_copy                                       ; $00416A
.dist_ge_3000:
    cmpi.w  #$4000,(a3)                                    ; $00416E
    bcc.s   .dist_ge_4000                                  ; $004172
    move.w  (a3),d2                                        ; $004174
    andi.l  #$00001FFF,d2                                  ; $004176 | bits 12-0
    ori.l   #$00001000,d2                                  ; $00417C | set bit 12
    asr.l   #5,d2                                          ; $004182
    pea     ($000B).w                                      ; $004184 | consume 11 bits
    bra.s   .do_copy                                       ; $004188
.dist_ge_4000:
    cmpi.w  #$5000,(a3)                                    ; $00418A
    bcc.s   .dist_ge_5000                                  ; $00418E
    move.w  (a3),d2                                        ; $004190
    andi.l  #$00001FFF,d2                                  ; $004192
    ori.l   #$00001000,d2                                  ; $004198
    asr.l   #4,d2                                          ; $00419E
    pea     ($000C).w                                      ; $0041A0 | consume 12 bits
    bra.s   .do_copy                                       ; $0041A4
.dist_ge_5000:
    cmpi.w  #$6000,(a3)                                    ; $0041A6
    bcc.s   .dist_ge_6000                                  ; $0041AA
    move.w  (a3),d2                                        ; $0041AC
    andi.l  #$00001FFF,d2                                  ; $0041AE
    ori.l   #$00001000,d2                                  ; $0041B4
    asr.l   #3,d2                                          ; $0041BA
    pea     ($000D).w                                      ; $0041BC | consume 13 bits
    bra.s   .do_copy                                       ; $0041C0
.dist_ge_6000:
    cmpi.w  #$7000,(a3)                                    ; $0041C2
    bcc.s   .dist_ge_7000                                  ; $0041C6
    move.w  (a3),d2                                        ; $0041C8
    andi.l  #$00001FFF,d2                                  ; $0041CA
    ori.l   #$00001000,d2                                  ; $0041D0
    asr.l   #2,d2                                          ; $0041D6
    pea     ($000E).w                                      ; $0041D8 | consume 14 bits
    bra.s   .do_copy                                       ; $0041DC
.dist_ge_7000:
    move.w  (a3),d2                                        ; $0041DE
    andi.l  #$00001FFF,d2                                  ; $0041E0
    ori.l   #$00001000,d2                                  ; $0041E6
    asr.l   #1,d2                                          ; $0041EC
    pea     ($000F).w                                      ; $0041EE | consume 15 bits
; --- Copy match: D3+1 bytes from (A0 - D2 - 1) ---
.do_copy:
    jsr     (a4)                                           ; $0041F2 | call helper
    addq.l  #4,sp                                          ; $0041F4
    moveq   #0,d0                                          ; $0041F6
    move.w  d2,d0                                          ; $0041F8 | D0 = distance
    move.l  a0,d1                                          ; $0041FA
    sub.l   d0,d1                                          ; $0041FC | dest - distance
    subq.l  #1,d1                                          ; $0041FE | - 1
    movea.l d1,a2                                          ; $004200 | A2 = copy source
    clr.w   d2                                             ; $004202 | counter = 0
    bra.s   .copy_test                                     ; $004204
.copy_loop:
    move.b  (a2)+,(a0)+                                    ; $004206 | copy byte
    addq.w  #1,d2                                          ; $004208
.copy_test:
    moveq   #0,d0                                          ; $00420A
    move.w  d2,d0                                          ; $00420C | D0 = counter
    moveq   #0,d1                                          ; $00420E
    move.w  d3,d1                                          ; $004210 | D1 = length
    addq.l  #1,d1                                          ; $004212 | +1 (copy length+1 bytes)
    cmp.l   d1,d0                                          ; $004214
    blt.s   .copy_loop                                     ; $004216
; --- Advance control bit ---
.advance_bit:
    move.b  ($FFA78C).l,d0                                 ; $004218 | load control byte
    add.b   d0,($FFA78C).l                                 ; $00421E | double it (shift left 1)
    addq.w  #1,d4                                          ; $004224 | bit counter++
    cmpi.w  #$0008,d4                                      ; $004226 | 8 bits done?
    bcs.w   .process_bit                                   ; $00422A | no: next bit
    bra.w   .fetch_control                                 ; $00422E | yes: next control byte
; --- Return bytes written ---
.done:
    move.l  $1C(sp),d1                                     ; $004232 | original dest ptr
    move.l  a0,d0                                          ; $004236 | final dest ptr
    sub.l   d1,d0                                          ; $004238 | D0 = bytes written
    movem.l (sp)+,d2-d4/a2-a4                              ; $00423A
    rts                                                    ; $00423E
    dc.w    $48E7,$303C,$242F,$001C,$267C,$00FF,$BD50,$287C; $004240
    dc.w    $00FF,$88DA,$2A7C,$00FF,$88D8,$3014,$E568,$3880; $004250
    dc.w    $B453,$6332,$9453,$3013,$D040,$247C,$0004,$686E; $004260
    dc.w    $3632,$0000,$C655,$0283,$0000,$FFFF,$3003,$E568; $004270
    dc.w    $8154,$1029,$0001,$E148,$1011,$3A80,$5489,$7010; $004280
    dc.w    $9042,$3680,$6002,$9553,$7000,$3013,$7200,$3215; $004290
    dc.w    $E0A1,$2001,$3202,$D241,$247C,$0004,$686E,$C072; $0042A0
    dc.w    $1000,$8154,$4CDF,$3C0C,$4E75,$40E7,$007C,$0700; $0042B0
    dc.w    $2C0A,$2E06,$0286,$0000,$FFFE,$2A06,$E58D,$4845; $0042C0
    dc.w    $0285,$0000,$0003,$0286,$0000,$3FFF,$4846,$8C85; $0042D0
    dc.w    $2C86,$3015,$0807,$0000,$6602,$E048,$46DF,$4E75; $0042E0
    dc.w    $40E7,$007C,$0700,$2C08,$2E06,$0286,$0000,$FFFE; $0042F0
    dc.w    $2A06,$E58D,$4845,$0285,$0000,$0003,$0286,$0000; $004300
    dc.w    $3FFF,$4846,$8C85,$2C86,$3A15,$0807,$0000,$660A; $004310
    dc.w    $E148,$0245,$00FF,$6000,$000A,$0240,$00FF,$0245; $004320
    dc.w    $FF00,$8A40,$0086,$4000,$0000,$2C86,$3A85,$46DF; $004330
    dc.w    $4E75                                            ; $004340
; ============================================================================
; DecompressVDPTiles -- (TODO: describe)
; Called: ?? times.
; 624 bytes | $004342-$0045B1
; ============================================================================
DecompressVDPTiles:                                                  ; $004342
    movem.l d2-d7/a2-a6,-(sp)
    movea.l $0030(sp),a0
    movea.l $0034(sp),a1
    movea.l #$00ff88da,a3
    movea.l #$4240,a4
    movea.l #$00c00000,a5
    movea.l #$00c00004,a6
    clr.w   ($00FFBD50).l
    pea     ($0010).w
    jsr     (a4)
    addq.l  #$4,sp
.l4374:                                                 ; $004374
    move.b  (a1)+,($00FF128E).l
    clr.w   d4
.l437c:                                                 ; $00437C
    move.b  ($00FF128E).l,d0
    btst    #$07,d0
    beq.b   .l4394
    move.b  (a1)+,d0
    dc.w    $4eba,$ff64                                 ; jsr $0042F0
    addq.l  #$1,a0
    bra.w   .l458a
.l4394:                                                 ; $004394
    move.w  (a3),d0
    andi.w  #$8000,d0
    beq.b   .l43a2
    moveq   #$1,d3
    bra.w   .l4458
.l43a2:                                                 ; $0043A2
    move.w  (a3),d0
    andi.w  #$4000,d0
    beq.b   .l43be
    move.w  (a3),d3
    andi.l  #$6000,d3
    moveq   #$d,d0
    asr.l   d0,d3
    pea     ($0002).w
    bra.w   .l4454
.l43be:                                                 ; $0043BE
    move.w  (a3),d0
    andi.w  #$2000,d0
    beq.b   .l43d8
    move.w  (a3),d3
    andi.l  #$3800,d3
    moveq   #$b,d0
    asr.l   d0,d3
    pea     ($0004).w
    bra.b   .l4454
.l43d8:                                                 ; $0043D8
    move.w  (a3),d0
    andi.w  #$1000,d0
    beq.b   .l43f2
    move.w  (a3),d3
    andi.l  #$1e00,d3
    moveq   #$9,d0
    asr.l   d0,d3
    pea     ($0006).w
    bra.b   .l4454
.l43f2:                                                 ; $0043F2
    move.w  (a3),d0
    andi.w  #$0800,d0
    beq.b   .l440a
    move.w  (a3),d3
    andi.l  #$0f80,d3
    asr.l   #$7,d3
    pea     ($0008).w
    bra.b   .l4454
.l440a:                                                 ; $00440A
    move.w  (a3),d0
    andi.w  #$0400,d0
    beq.b   .l4422
    move.w  (a3),d3
    andi.l  #$07e0,d3
    asr.l   #$5,d3
    pea     ($000A).w
    bra.b   .l4454
.l4422:                                                 ; $004422
    move.w  (a3),d0
    andi.w  #$0200,d0
    beq.b   .l443a
    move.w  (a3),d3
    andi.l  #$03f8,d3
    asr.l   #$3,d3
    pea     ($000C).w
    bra.b   .l4454
.l443a:                                                 ; $00443A
    move.w  (a3),d3
    andi.l  #$01fc,d3
    asr.l   #$2,d3
    addi.w  #$80,d3
    cmpi.w  #$ff,d3
    beq.w   .l45a4
    pea     ($000D).w
.l4454:                                                 ; $004454
    jsr     (a4)
    addq.l  #$4,sp
.l4458:                                                 ; $004458
    andi.w  #$7fff,(a3)
    cmpi.w  #$0800,(a3)
    bcc.b   .l4476
    move.w  (a3),d2
    andi.l  #$0600,d2
    moveq   #$9,d0
    asr.l   d0,d2
    pea     ($0007).w
    bra.w   .l455a
.l4476:                                                 ; $004476
    cmpi.w  #$0c00,(a3)
    bcc.b   .l4490
    move.w  (a3),d2
    andi.l  #$0300,d2
    asr.l   #$8,d2
    addq.w  #$4,d2
    pea     ($0008).w
    bra.w   .l455a
.l4490:                                                 ; $004490
    cmpi.w  #$1800,(a3)
    bcc.b   .l44b2
    moveq   #$0,d2
    move.w  (a3),d2
    subi.l  #$0c00,d2
    andi.l  #$0f80,d2
    asr.l   #$7,d2
    addq.w  #$8,d2
    pea     ($0009).w
    bra.w   .l455a
.l44b2:                                                 ; $0044B2
    cmpi.w  #$3000,(a3)
    bcc.b   .l44d6
    moveq   #$0,d2
    move.w  (a3),d2
    subi.l  #$1800,d2
    andi.l  #$1fc0,d2
    asr.l   #$6,d2
    addi.w  #$20,d2
    pea     ($000A).w
    bra.w   .l455a
.l44d6:                                                 ; $0044D6
    cmpi.w  #$4000,(a3)
    bcc.b   .l44f2
    move.w  (a3),d2
    andi.l  #$1fff,d2
    ori.l   #$1000,d2
    asr.l   #$5,d2
    pea     ($000B).w
    bra.b   .l455a
.l44f2:                                                 ; $0044F2
    cmpi.w  #$5000,(a3)
    bcc.b   .l450e
    move.w  (a3),d2
    andi.l  #$1fff,d2
    ori.l   #$1000,d2
    asr.l   #$4,d2
    pea     ($000C).w
    bra.b   .l455a
.l450e:                                                 ; $00450E
    cmpi.w  #$6000,(a3)
    bcc.b   .l452a
    move.w  (a3),d2
    andi.l  #$1fff,d2
    ori.l   #$1000,d2
    asr.l   #$3,d2
    pea     ($000D).w
    bra.b   .l455a
.l452a:                                                 ; $00452A
    cmpi.w  #$7000,(a3)
    bcc.b   .l4546
    move.w  (a3),d2
    andi.l  #$1fff,d2
    ori.l   #$1000,d2
    asr.l   #$2,d2
    pea     ($000E).w
    bra.b   .l455a
.l4546:                                                 ; $004546
    move.w  (a3),d2
    andi.l  #$1fff,d2
    ori.l   #$1000,d2
    asr.l   #$1,d2
    pea     ($000F).w
.l455a:                                                 ; $00455A
    jsr     (a4)
    addq.l  #$4,sp
    moveq   #$0,d0
    move.w  d2,d0
    move.l  a0,d1
    sub.l   d0,d1
    subq.l  #$1,d1
    movea.l d1,a2
    clr.w   d2
    bra.b   .l457c
.l456e:                                                 ; $00456E
    dc.w    $4eba,$fd4a                                 ; jsr $0042BA
    dc.w    $4eba,$fd7c                                 ; jsr $0042F0
    addq.l  #$1,a0
    addq.l  #$1,a2
    addq.w  #$1,d2
.l457c:                                                 ; $00457C
    moveq   #$0,d0
    move.w  d2,d0
    moveq   #$0,d1
    move.w  d3,d1
    addq.l  #$1,d1
    cmp.l   d1,d0
    blt.b   .l456e
.l458a:                                                 ; $00458A
    move.b  ($00FF128E).l,d0
    add.b   d0,($00FF128E).l
    addq.w  #$1,d4
    cmpi.w  #$8,d4
    bcs.w   .l437c
    bra.w   .l4374
.l45a4:                                                 ; $0045A4
    move.l  $0030(sp),d1
    move.l  a0,d0
    sub.l   d1,d0
    movem.l (sp)+,d2-d7/a2-a6
    rts
; === MemMove ($0045B2, 52B) ===
MemMove:                                                              ; $0045B2
    MOVE.L  $C(SP),D1                                                 ; count
    MOVEA.L $8(SP),A1                                                 ; dest
    MOVEA.L $4(SP),A0                                                 ; src
    CMPA.W  A1,A0                                                     ; compare src vs dest
    BLS.S   .mm_backward                                              ; if src <= dest, copy backward
    BRA.S   .mm_fwd_check
.mm_fwd_loop:                                                         ; $0045C4
    MOVE.B  (A0)+,(A1)+                                               ; copy forward
    SUBQ.W  #1,D1
.mm_fwd_check:                                                        ; $0045C8
    TST.W   D1
    BNE.S   .mm_fwd_loop
    BRA.S   .mm_done
.mm_backward:                                                         ; $0045CE
    MOVEQ   #0,D0
    MOVE.W  D1,D0
    ADDA.L  D0,A1                                                     ; dest += count
    MOVEQ   #0,D0
    MOVE.W  D1,D0
    ADDA.L  D0,A0                                                     ; src += count
    BRA.S   .mm_bwd_check
.mm_bwd_loop:                                                         ; $0045DC
    MOVE.B  -(A0),-(A1)                                               ; copy backward
    SUBQ.W  #1,D1
.mm_bwd_check:                                                        ; $0045E0
    TST.W   D1
    BNE.S   .mm_bwd_loop
.mm_done:                                                             ; $0045E4
    RTS
; === CmdPlaceTile2 ($0045E6, 64B) ===
CmdPlaceTile2:                                                        ; $0045E6
    MOVE.L  D2,-(SP)
    MOVE.L  $10(SP),D2                                                ; arg3 (count)
    MOVE.L  $C(SP),D1                                                 ; arg2 (tile address)
    MOVEA.L $8(SP),A0                                                 ; arg1 (src)
    MOVE.W  D1,D0
    ANDI.L  #$000007FF,D0
    LSL.L   #5,D0                                                     ; * 32
    MOVEA.L D0,A1
    CLR.L   -(SP)                                                     ; push 0
    CLR.L   -(SP)                                                     ; push 0
    MOVEQ   #0,D0
    MOVE.W  D2,D0
    LSL.L   #4,D0                                                     ; count * 16
    MOVE.L  D0,-(SP)
    MOVE.L  A1,-(SP)
    MOVE.L  A0,-(SP)
    PEA     ($0002).W                                                 ; sub-command 2
    PEA     ($0008).W                                                 ; command 8
    dc.w    $4EB9,$0000,$0D64                                         ; jsr GameCommand
    LEA     $1C(SP),SP                                                ; pop 7 args
    MOVE.L  (SP)+,D2
    RTS
    dc.w    $2F02,$242F,$0010,$222F,$000C                             ; $004626
    dc.w    $206F,$0008,$3001,$0280,$0000,$07FF,$EB88,$2240; $004630
    dc.w    $4878,$0001,$42A7,$7000,$3002,$E988,$2F00,$2F09; $004640
    dc.w    $2F08,$4878,$0002,$4878,$0008,$4EB9,$0000,$0D64; $004650
    dc.w    $4FEF,$001C,$241F,$4E75                            ; $004660 (end of previous function)
; ---------------------------------------------------------------------------
; CmdPlaceTile -- Place tile block via GameCommand(5, 2, ...)
; Args: $8(SP) = src pointer, $C(SP) = tile address, $10(SP) = count
; Called 46 times
; ---------------------------------------------------------------------------
CmdPlaceTile:                                                  ; $004668
    MOVE.L  D2,-(SP)                                           ; save D2
    MOVE.L  $10(SP),D2                                         ; arg3 (count)
    MOVE.L  $C(SP),D1                                          ; arg2 (tile address)
    MOVEA.L $8(SP),A0                                          ; arg1 (src pointer)
    MOVE.W  D1,D0
    ANDI.L  #$000007FF,D0                                      ; lower 11 bits
    LSL.L   #5,D0                                              ; * 32
    MOVEA.L D0,A1                                              ; A1 = tile offset
    CLR.L   -(SP)                                              ; push 0
    MOVE.L  A1,-(SP)                                           ; push tile*32
    MOVE.L  A0,-(SP)                                           ; push src
    MOVEQ   #0,D0
    MOVE.W  D2,D0                                              ; zero-extend count
    LSL.L   #4,D0                                              ; count * 16
    MOVE.L  D0,-(SP)                                           ; push count*16
    PEA     ($0002).W                                          ; sub-command 2
    PEA     ($0005).W                                          ; command 5
    dc.w    $4EB9,$0000,$0D64                                  ; jsr GameCommand [$D64]
    LEA     $18(SP),SP                                         ; pop 6 args
    MOVE.L  (SP)+,D2                                           ; restore D2
    RTS
    dc.w    $48E7,$3E00,$242F,$0018,$262F                      ; $0046A6 (start of next function)
    dc.w    $001C,$282F,$0024,$2A2F,$0020,$206F,$0028,$0245; $0046B0
    dc.w    $0003,$0244,$0001,$0242,$07FF,$3005,$720D,$E368; $0046C0
    dc.w    $D042,$3204,$7C0F,$ED69,$D041,$3400,$6006,$2002; $0046D0
    dc.w    $5242,$30C0,$2003,$5343,$4A40,$66F2,$4CDF,$007C; $0046E0
    dc.w    $4E75,$2F02,$242F,$000C,$222F,$0008,$206F,$0010; $0046F0
    dc.w    $6002,$D358,$2002,$5342,$4A40,$66F6,$241F,$4E75; $004700
    dc.w    $48E7,$3C30,$242F,$0024,$262F,$0020,$282F,$002C; $004710
    dc.w    $2A2F,$0028,$246F,$0030,$266F,$001C,$3002,$2F00; $004720
    dc.w    $3003,$2F00,$2F0B,$6100,$FEAE,$2F0A,$3004,$2F00; $004730
    dc.w    $3005,$2F00,$3002,$2F00,$3003,$2F00,$6100,$FF58; $004740
    dc.w    $4FEF,$0020,$4CDF,$0C3C,$4E75,$48E7,$3C30,$242F; $004750
    dc.w    $0024,$262F,$0020,$282F,$002C,$2A2F,$0028,$246F; $004760
    dc.w    $0030,$266F,$001C,$3002,$2F00,$3003,$2F00,$2F0B; $004770
    dc.w    $6100,$FEE6,$2F0A,$3004,$2F00,$3005,$2F00,$3002; $004780
    dc.w    $2F00,$3003,$2F00,$6100,$FF0E,$4FEF,$0020,$4CDF; $004790
    dc.w    $0C3C,$4E75,$4E56,$FE00,$48E7,$3E30,$2A2E,$0010; $0047A0
    dc.w    $2C2E,$0014,$266E,$0008,$4244,$4243,$6044,$4242; $0047B0
    dc.w    $603A,$7000,$3002,$7200,$3205,$4EB9,$0003,$E05C; $0047C0
    dc.w    $7200,$3203,$D081,$EB88,$41F3,$0800,$2448,$4878; $0047D0
    dc.w    $0020,$2004,$5244,$EB48,$41EE,$FE00,$4870,$0000; $0047E0
    dc.w    $2F0A,$6100,$FDBE,$4FEF,$000C,$5242,$B446,$65C2; $0047F0
    dc.w    $5243,$B645,$65B8,$3005,$C0C6,$2F00,$302E,$000E; $004800
    dc.w    $0240,$07FF,$2F00,$486E,$FE00,$6100,$FE4C,$4CEE; $004810
    dc.w    $0C7C,$FDE4,$4E5E,$4E75,$4E56,$0000,$48E7,$3820; $004820
    dc.w    $242E,$0014,$262E,$0010,$282E,$000C,$246E,$001C; $004830
    dc.w    $3002,$2F00,$3003,$2F00,$3004,$2F00,$2F2E,$0008; $004840
    dc.w    $6100,$FF52,$425A,$3003,$D040,$207C,$0004,$734C; $004850
    dc.w    $3030,$0000,$3202,$D241,$207C,$0004,$7354,$8070; $004860
    dc.w    $1000,$0280,$0000,$FFFF,$34C0,$34C4,$4252,$4CEE; $004870
    dc.w    $041C,$FFF0,$4E5E,$4E75,$48E7,$3000,$242F,$0010; $004880
    dc.w    $262F,$000C,$206F,$0014,$4878,$0001,$42A7,$7000; $004890
    dc.w    $3002,$E588,$2F00,$7000,$3003,$E788,$7200,$3239; $0048A0
    dc.w    $00FF,$A778,$D081,$2F00,$2F08,$4878,$0002,$4878; $0048B0
    dc.w    $0008,$4EB9,$0000,$0D64,$4FEF,$001C,$4CDF,$000C; $0048C0
    dc.w    $4E75,$48E7,$3F20,$2E2F,$002C,$4246,$226F,$0020; $0048D0
    dc.w    $6050,$3411,$3A2F,$002A,$700C,$E16D,$3807,$700C; $0048E0
    dc.w    $E16C,$4243,$3003,$D040,$207C,$0004,$735E,$41F0; $0048F0
    dc.w    $0000,$2448,$3002,$C052,$B045,$660A,$3012,$4640; $004900
    dc.w    $C440,$3004,$8440,$548A,$5243,$3005,$E848,$3A00; $004910
    dc.w    $3004,$E848,$3800,$0C43,$0004,$65D8,$3282,$5246; $004920
    dc.w    $5489,$7000,$302F,$0026,$E988,$7200,$3206,$B081; $004930
    dc.w    $6EA0,$4CDF,$04FC,$4E75,$48E7,$3E38,$2C2F,$0028; $004940
    dc.w    $226F,$002C,$4245,$286F,$0024,$606E,$3814,$4243; $004950
    dc.w    $3003,$D040,$207C,$0004,$736E,$41F0,$0000,$2648; $004960
    dc.w    $3003,$D040,$207C,$0004,$7366,$41F0,$0000,$2448; $004970
    dc.w    $3404,$C452,$0282,$0000,$FFFF,$7000,$3013,$7200; $004980
    dc.w    $3202,$E0A1,$3401,$7000,$3002,$D080,$2040,$3431; $004990
    dc.w    $8800,$3013,$3202,$E169,$3401,$3012,$323C,$FFFF; $0049A0
    dc.w    $B340,$C044,$8042,$3800,$548A,$548B,$5243,$0C43; $0049B0
    dc.w    $0004,$65BC,$3884,$5245,$548C,$7000,$3006,$E988; $0049C0
    dc.w    $7200,$3205,$B081,$6E84,$4CDF,$1C7C,$4E75,$48E7; $0049D0
    dc.w    $3F20,$2E2F,$002C,$4246,$226F,$0020,$6062,$3411; $0049E0
    dc.w    $382F,$002A,$700C,$E16C,$3607,$700C,$E16B,$4245; $0049F0
    dc.w    $3005,$D040,$207C,$0004,$7376,$41F0,$0000,$2448; $004A00
    dc.w    $3002,$C052,$B044,$660A,$3012,$4640,$C440,$3003; $004A10
    dc.w    $6010,$3002,$C052,$B043,$660A,$3012,$4640,$C440; $004A20
    dc.w    $3004,$8440,$3004,$E848,$3800,$3003,$E848,$3600; $004A30
    dc.w    $548A,$5245,$0C45,$0004,$65C6,$3282,$5246,$5489; $004A40
    dc.w    $7000,$302F,$0026,$E988,$7200,$3206,$B081,$6E8E; $004A50
    dc.w    $4CDF,$04FC,$4E75,$4E56,$F800,$48E7,$3F30,$262E; $004A60
    dc.w    $001C,$282E,$0018,$2A2E,$0014,$2C2E,$0010,$2E2E; $004A70
    dc.w    $000C,$47EE,$F800,$0243,$0003,$700D,$E16B,$244B; $004A80
    dc.w    $2F0B,$7000,$3004,$2F00,$7000,$3005,$2F00,$7000; $004A90
    dc.w    $3006,$2F00,$7000,$3007,$2F00,$7000,$302E,$000A; $004AA0
    dc.w    $2F00,$4878,$001C,$4EB9,$0000,$0D64,$4FEF,$001C; $004AB0
    dc.w    $4242,$600C,$3012,$0240,$9FFF,$D043,$34C0,$5242; $004AC0
    dc.w    $7000,$3005,$7200,$3204,$4EB9,$0003,$E05C,$7200; $004AD0
    dc.w    $3202,$B081,$6EDE,$2F0B,$7000,$3004,$2F00,$7000; $004AE0
    dc.w    $3005,$2F00,$7000,$3006,$2F00,$7000,$3007,$2F00; $004AF0
    dc.w    $7000,$302E,$000A,$2F00,$4878,$001B,$4EB9,$0000; $004B00
    dc.w    $0D64,$4CEE,$0CFC,$F7E0,$4E5E,$4E75,$48E7,$3C00; $004B10
    dc.w    $222F,$0018,$202F,$001C,$226F,$0020,$206F,$0014; $004B20
    dc.w    $4244,$602E,$4242,$7A00,$3A04,$E78D,$0685,$0000; $004B30
    dc.w    $0080,$7600,$3602,$E78B,$0683,$0000,$0080,$600C; $004B40
    dc.w    $32C5,$4259,$32D8,$32C3,$5083,$5242,$B441,$65F0; $004B50
    dc.w    $5244,$B840,$65CE,$4CDF,$003C,$4E75,$48E7,$3030; $004B60
    dc.w    $242F,$001C,$262F,$0018,$246F,$0014,$7000,$3003; $004B70
    dc.w    $D080,$2640,$42A7,$4878,$0001,$7000,$3002,$2F00; $004B80
    dc.w    $2F0B,$2F0A,$4878,$0002,$4878,$0008,$4EB9,$0000; $004B90
    dc.w    $0D64,$3002,$D040,$2F00,$3003,$D040,$207C,$00FF; $004BA0
    dc.w    $1400,$4870,$0000,$2F0A,$6100,$F9F8,$4FEF,$0028; $004BB0
    dc.w    $4CDF,$0C0C,$4E75                                ; $004BC0
; ============================================================================
; FadePalette -- (TODO: describe)
; Called: ?? times.
; 240 bytes | $004BC6-$004CB5
; ============================================================================
FadePalette:                                                  ; $004BC6
    link    a6,#-$80
    movem.l d2-d7,-(sp)
    move.l  $0014(a6),d2
    move.l  $000c(a6),d7
    cmpi.w  #$7,d2
    bhi.w   .l4cac
    moveq   #$7,d0
    sub.w   d2,d0
    move.w  d0,d2
    move.w  d7,d6
    movea.l $0008(a6),a1
    bra.w   .l4c80
.l4bee:                                                 ; $004BEE
    move.w  (a1),d5
    andi.l  #$0e00,d5
    moveq   #$9,d0
    asr.l   d0,d5
    move.w  (a1),d4
    andi.l  #$e0,d4
    asr.l   #$5,d4
    move.w  (a1),d3
    andi.l  #$e,d3
    asr.l   #$1,d3
    moveq   #$0,d0
    move.w  d5,d0
    moveq   #$0,d1
    move.w  d2,d1
    sub.l   d1,d0
    ble.b   .l4c26
    moveq   #$0,d0
    move.w  d5,d0
    moveq   #$0,d1
    move.w  d2,d1
    sub.l   d1,d0
    bra.b   .l4c28
.l4c26:                                                 ; $004C26
    moveq   #$0,d0
.l4c28:                                                 ; $004C28
    move.w  d0,d5
    moveq   #$0,d0
    move.w  d4,d0
    moveq   #$0,d1
    move.w  d2,d1
    sub.l   d1,d0
    ble.b   .l4c42
    moveq   #$0,d0
    move.w  d4,d0
    moveq   #$0,d1
    move.w  d2,d1
    sub.l   d1,d0
    bra.b   .l4c44
.l4c42:                                                 ; $004C42
    moveq   #$0,d0
.l4c44:                                                 ; $004C44
    move.w  d0,d4
    moveq   #$0,d0
    move.w  d3,d0
    moveq   #$0,d1
    move.w  d2,d1
    sub.l   d1,d0
    ble.b   .l4c5e
    moveq   #$0,d0
    move.w  d3,d0
    moveq   #$0,d1
    move.w  d2,d1
    sub.l   d1,d0
    bra.b   .l4c60
.l4c5e:                                                 ; $004C5E
    moveq   #$0,d0
.l4c60:                                                 ; $004C60
    move.w  d0,d3
    move.w  d5,d0
    moveq   #$9,d1
    lsl.w   d1,d0
    move.w  d4,d1
    lsl.w   #$5,d1
    add.w   d1,d0
    move.w  d3,d1
    add.w   d1,d1
    add.w   d1,d0
    move.w  d6,d1
    add.w   d1,d1
    move.w  d0,-$80(a6,d1.w)
    addq.w  #$1,d6
    addq.l  #$2,a1
.l4c80:                                                 ; $004C80
    moveq   #$0,d0
    move.w  d7,d0
    moveq   #$0,d1
    move.w  $0012(a6),d1
    add.l   d1,d0
    moveq   #$0,d1
    move.w  d6,d1
    cmp.l   d1,d0
    bgt.w   .l4bee
    move.w  $0012(a6),d0
    move.l  d0,-(sp)
    move.w  d7,d0
    move.l  d0,-(sp)
    move.w  d7,d0
    add.w   d0,d0
    pea     -$80(a6,d0.w)
    dc.w    $6100,$fec2                                 ; bsr.w $004B6C
.l4cac:                                                 ; $004CAC
    movem.l -$0098(a6),d2-d7
    unlk    a6
    rts
; ============================================================================
; DrawLayersReverse -- (TODO: describe)
; Called: ?? times.
; 78 bytes | $004CB6-$004D03
; ============================================================================
DrawLayersReverse:                                                  ; $004CB6
    movem.l d2-d5/a2,-(sp)
    move.l  $0024(sp),d3
    move.l  $0020(sp),d4
    move.l  $001c(sp),d5
    movea.l $0018(sp),a2
    moveq   #$7,d2
.l4ccc:                                                 ; $004CCC
    move.w  d2,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d5,d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    dc.w    $6100,$feea                                 ; bsr.w $004BC6
    lea     $0010(sp),sp
    tst.w   d3
    beq.b   .l4cf8
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    addq.l  #$8,sp
.l4cf8:                                                 ; $004CF8
    subq.w  #$1,d2
    tst.w   d2
    bge.b   .l4ccc
    movem.l (sp)+,d2-d5/a2
    rts
; ============================================================================
; DrawLayersForward -- (TODO: describe)
; Called: ?? times.
; 80 bytes | $004D04-$004D53
; ============================================================================
DrawLayersForward:                                                  ; $004D04
    movem.l d2-d5/a2,-(sp)
    move.l  $0024(sp),d3
    move.l  $0020(sp),d4
    move.l  $001c(sp),d5
    movea.l $0018(sp),a2
    clr.w   d2
.l4d1a:                                                 ; $004D1A
    move.w  d2,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d5,d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    dc.w    $6100,$fe9c                                 ; bsr.w $004BC6
    lea     $0010(sp),sp
    tst.w   d3
    beq.b   .l4d46
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    addq.l  #$8,sp
.l4d46:                                                 ; $004D46
    addq.w  #$1,d2
    cmpi.w  #$8,d2
    blt.b   .l4d1a
    movem.l (sp)+,d2-d5/a2
    rts
    dc.w    $4E56,$FF78,$48E7,$3F3C,$2E2E,$000C; $004D54
    dc.w    $266E,$0008,$49EE,$FFFA,$4BEE,$FFFC,$4246,$3006; $004D60
    dc.w    $7209,$E368,$3D40,$FFFE,$3006,$EB48,$3A80,$3006; $004D70
    dc.w    $D040,$3880,$3407,$244B,$603E,$3A12,$0245,$0E00; $004D80
    dc.w    $3812,$0244,$00E0,$3612,$0243,$000E,$BA6E,$FFFE; $004D90
    dc.w    $6404,$3A2E,$FFFE,$B855,$6402,$3815,$B654,$6402; $004DA0
    dc.w    $3614,$3005,$D044,$D043,$3202,$D241,$41EE,$FF7A; $004DB0
    dc.w    $3180,$1000,$5242,$548A,$7000,$3007,$7200,$322E; $004DC0
    dc.w    $0012,$D081,$7200,$3202,$B081,$6EAE,$302E,$0012; $004DD0
    dc.w    $2F00,$3007,$2F00,$3007,$D040,$41EE,$FF7A,$4870; $004DE0
    dc.w    $0000,$6100,$FD78,$4FEF,$000C,$4A6E,$0016,$6714; $004DF0
    dc.w    $7000,$302E,$0016,$2F00,$4878,$000E,$4EB9,$0000; $004E00
    dc.w    $0D64,$508F,$5246,$0C46,$0008,$6D00,$FF52,$4CEE; $004E10
    dc.w    $3CFC,$FF50,$4E5E,$4E75,$4E56,$FF78,$48E7,$3F3C; $004E20
    dc.w    $2E2E,$000C,$266E,$0008,$49EE,$FFFA,$4BEE,$FFFC; $004E30
    dc.w    $7C07,$3006,$7209,$E368,$3D40,$FFFE,$3006,$EB48; $004E40
    dc.w    $3A80,$3006,$D040,$3880,$3407,$244B,$603E,$3A12; $004E50
    dc.w    $0245,$0E00,$3812,$0244,$00E0,$3612,$0243,$000E; $004E60
    dc.w    $BA6E,$FFFE,$6404,$3A2E,$FFFE,$B855,$6402,$3815; $004E70
    dc.w    $B654,$6402,$3614,$3005,$D044,$D043,$3202,$D241; $004E80
    dc.w    $41EE,$FF7A,$3180,$1000,$5242,$548A,$7000,$3007; $004E90
    dc.w    $7200,$322E,$0012,$D081,$7200,$3202,$B081,$6EAE; $004EA0
    dc.w    $302E,$0012,$2F00,$3007,$2F00,$3007,$D040,$41EE; $004EB0
    dc.w    $FF7A,$4870,$0000,$6100,$FCA4,$4FEF,$000C,$4A6E; $004EC0
    dc.w    $0016,$6714,$7000,$302E,$0016,$2F00,$4878,$000E; $004ED0
    dc.w    $4EB9,$0000,$0D64,$508F,$5346,$4A46,$6C00,$FF54; $004EE0
    dc.w    $4CEE,$3CFC,$FF50,$4E5E,$4E75,$4E56,$FF78,$48E7; $004EF0
    dc.w    $3F3C,$286E,$000C,$4BEE,$FFFA,$302E,$0016,$D040; $004F00
    dc.w    $2F00,$486E,$FF7A,$2F2E,$0008,$6100,$F696,$4FEF; $004F10
    dc.w    $000C,$426E,$FFFC,$7007,$906E,$FFFC,$3D40,$FFFE; $004F20
    dc.w    $4245,$3005,$D040,$41EE,$FF7A,$43F0,$0000,$2449; $004F30
    dc.w    $7000,$3005,$D080,$41F4,$0800,$2648,$6000,$00C0; $004F40
    dc.w    $3013,$0280,$0000,$0E00,$7209,$E2A0,$3A80,$3E13; $004F50
    dc.w    $0287,$0000,$00E0,$EA87,$3C13,$0286,$0000,$000E; $004F60
    dc.w    $E286,$3812,$0284,$0000,$0E00,$7009,$E0A4,$3612; $004F70
    dc.w    $0283,$0000,$00E0,$EA83,$3412,$0282,$0000,$000E; $004F80
    dc.w    $E282,$B855,$6304,$5344,$601A,$B855,$6416,$302E; $004F90
    dc.w    $FFFE,$B055,$6408,$7000,$3004,$5280,$6004,$7000; $004FA0
    dc.w    $3004,$3800,$B647,$6304,$5343,$6018,$B647,$6414; $004FB0
    dc.w    $BE6E,$FFFE,$6308,$7000,$3003,$5280,$6004,$7000; $004FC0
    dc.w    $3003,$3600,$B446,$6304,$5342,$6018,$B446,$6414; $004FD0
    dc.w    $BC6E,$FFFE,$6308,$7000,$3002,$5280,$6004,$7000; $004FE0
    dc.w    $3002,$3400,$3004,$7209,$E368,$3203,$EB49,$D041; $004FF0
    dc.w    $3202,$D241,$D041,$3480,$548B,$548A,$5245,$BA6E; $005000
    dc.w    $0016,$6500,$FF3C,$302E,$0016,$2F00,$302E,$0012; $005010
    dc.w    $2F00,$486E,$FF7A,$6100,$FB44,$4FEF,$000C,$4A6E; $005020
    dc.w    $001A,$6714,$7000,$302E,$001A,$2F00,$4878,$000E; $005030
    dc.w    $4EB9,$0000,$0D64,$508F,$526E,$FFFC,$0C6E,$0008; $005040
    dc.w    $FFFC,$6500,$FED2,$4CEE,$3CFC,$FF50,$4E5E,$4E75; $005050
; ---------------------------------------------------------------------------
; InitTileBuffer -- (TODO: describe)
; 50 bytes | $005060-$005091
; ---------------------------------------------------------------------------
InitTileBuffer:                                                  ; $005060
    pea     ($0040).w
    pea     ($00FF14BC).l
    pea     ($000472CE).l
    dc.w    $4eb9,$0001,$e16c                           ; jsr $01E16C
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($00FF14BC).l
    dc.w    $6100,$fae8                                 ; bsr.w $004B6C
    lea     $0018(sp),sp
    clr.w   ($00FFA7DC).l
    rts
; ---------------------------------------------------------------------------
; DisplaySetup -- Load resource into dest buffer, optionally call init
; Args: $10(SP)=dest ptr, $14(SP)=resource index, $18(SP)=size
; Called 101 times
; ---------------------------------------------------------------------------
DisplaySetup:                                                  ; $005092
    MOVEM.L D2-D3/A2,-(SP)
    MOVE.L  $18(SP),D2                                         ; arg3 (size)
    MOVE.L  $14(SP),D3                                         ; arg2 (resource index)
    MOVEA.L $10(SP),A2                                         ; arg1 (dest pointer)
    MOVEQ   #0,D0
    MOVE.W  D2,D0                                              ; zero-extend size
    MOVE.L  D0,-(SP)
    MOVE.W  D3,D0
    ADD.W   D0,D0                                              ; index * 2
    MOVEA.L #$00FF14BC,A0                                      ; resource table base
    PEA     0(A0,D0.W)                                         ; push table[index]
    MOVE.L  A2,-(SP)                                           ; push dest
    dc.w    $4EB9,$0001,$E16C                                  ; jsr ResourceLoad [$1E16C]
    LEA     $C(SP),SP                                          ; pop 3 args
    TST.W   ($FFA7DC).L                                        ; display init flag
    BNE.S   .ds_done                                           ; if set, skip init
    MOVE.W  D2,D0
    MOVE.L  D0,-(SP)                                           ; push size
    MOVE.W  D3,D0
    MOVE.L  D0,-(SP)                                           ; push index
    MOVE.L  A2,-(SP)                                           ; push dest
    dc.w    $6100,$FA96                                        ; bsr.w $004B6C
    LEA     $C(SP),SP
.ds_done:                                                      ; $0050DC
    MOVEM.L (SP)+,D2-D3/A2
    RTS
; ---------------------------------------------------------------------------
; DisplayInitRows -- Set display row configuration and init flag
; Args: $C(SP)=row count
; ---------------------------------------------------------------------------
DisplayInitRows:                                               ; $0050E2
    MOVEM.L D2-D3,-(SP)
    MOVE.L  $C(SP),D2                                          ; arg (row count)
    MOVEQ   #0,D0
    MOVE.W  D2,D0                                              ; zero-extend
    BGE.S   .dir_noadj                                         ; if >= 0, skip adjustment
    ADDQ.L  #1,D0                                              ; signed round toward zero
.dir_noadj:                                                    ; $0050F2
    ASR.L   #1,D0                                              ; rows / 2
    MOVE.W  D0,D3                                              ; D3 = half rows
    MOVE.L  D0,-(SP)                                           ; push half rows
    PEA     ($0040).W                                          ; push 64 (width)
    CLR.L   -(SP)                                              ; push 0 (index)
    PEA     ($00FF14BC).L                                      ; push table address
    dc.w    $6100,$FAC0                                        ; bsr.w $004BC6
    LEA     $10(SP),SP                                         ; pop 4 args
    TST.W   D2
    BEQ.S   .dir_setzero                                       ; if row count == 0
    CLR.W   ($FFA7DC).L                                        ; clear flag (initialized)
    BRA.S   .dir_exit
.dir_setzero:                                                  ; $005118
    MOVE.W  #1,($FFA7DC).L                                     ; set flag (not initialized)
.dir_exit:                                                     ; $005120
    MOVEM.L (SP)+,D2-D3
    RTS
; ---------------------------------------------------------------------------
; DisplayInit15 -- Initialize display with 15 rows
; ---------------------------------------------------------------------------
DisplayInit15:                                                 ; $005126
    PEA     ($000F).W                                          ; push 15
    dc.w    $6100,$FFB6                                        ; bsr.w DisplayInitRows
    ADDQ.L  #4,SP
    RTS
; ---------------------------------------------------------------------------
; DisplayInit0 -- Initialize display with 0 rows (sets flag)
; ---------------------------------------------------------------------------
DisplayInit0:                                                  ; $005132
    CLR.L   -(SP)                                              ; push 0
    dc.w    $6100,$FFAC                                        ; bsr.w DisplayInitRows
    ADDQ.L  #4,SP
    RTS
; ---------------------------------------------------------------------------
; DisplaySetupScaled -- Load resource with size/4, scaled index
; Args: $C(SP)=dest ptr, $10(SP)=size
; ---------------------------------------------------------------------------
DisplaySetupScaled:                                            ; $00513C
    MOVEM.L D2/A2,-(SP)
    MOVE.L  $10(SP),D2                                         ; arg2 (size)
    MOVEA.L $C(SP),A2                                          ; arg1 (dest ptr)
    MOVEQ   #0,D0
    MOVE.W  D2,D0                                              ; zero-extend
    MOVEQ   #4,D1
    dc.w    $4EB9,$0003,$E146                                  ; jsr SignedDiv [$3E146]
    MOVE.W  D0,D2                                              ; D2 = size / 4
    PEA     ($0010).W                                          ; push 16
    MOVE.W  D2,D0
    LSL.W   #4,D0                                              ; D0 = (size/4) * 16
    MOVE.L  D0,-(SP)                                           ; push scaled index
    MOVE.L  A2,-(SP)                                           ; push dest
    dc.w    $6100,$FF2E                                        ; bsr.w DisplaySetup
    LEA     $C(SP),SP
    MOVEM.L (SP)+,D2/A2
    RTS
; ---------------------------------------------------------------------------
; DisplayTileSetup -- Set up tile map via GameCommand #6
; Args: $C(SP)=src1, $10(SP)=count, $14(SP)=src2 (all scaled by *32)
; ---------------------------------------------------------------------------
DisplayTileSetup:                                              ; $005170
    MOVEM.L D2-D3,-(SP)
    MOVE.L  $C(SP),D2                                          ; arg1
    MOVE.L  $14(SP),D3                                         ; arg3
    MOVE.L  $10(SP),D1                                         ; arg2 (count)
    MOVEQ   #0,D0
    MOVE.W  D2,D0
    LSL.L   #5,D0                                              ; arg1 * 32
    MOVEA.L D0,A0
    MOVEQ   #0,D0
    MOVE.W  D3,D0
    LSL.L   #5,D0                                              ; arg3 * 32
    MOVEA.L D0,A1
    MOVE.W  D1,D2
    LSL.W   #5,D2                                              ; arg2 * 32
    MOVE.L  A1,-(SP)                                           ; push src2*32
    MOVE.L  A0,-(SP)                                           ; push src1*32
    MOVEQ   #0,D0
    MOVE.W  D2,D0
    MOVE.L  D0,-(SP)                                           ; push count*32
    PEA     ($0001).W                                          ; push sub-command 1
    PEA     ($0006).W                                          ; push command 6
    dc.w    $4EB9,$0000,$0D64                                  ; jsr GameCommand [$D64]
    LEA     $14(SP),SP                                         ; pop 5 args
    MOVEM.L (SP)+,D2-D3
    RTS
    dc.w    $4E56,$0000,$48E7,$3F38,$242E                      ; $0051B6 (start of next function)
    dc.w    $000C,$262E,$0008,$282E,$0018,$2A2E,$0024,$2C2E; $0051C0
    dc.w    $0020,$2E2E,$001C,$287C,$00FF,$A77E,$4A43,$660A; $0051D0
    dc.w    $7000,$3039,$00FF,$88D6,$6008,$7000,$3039,$00FF; $0051E0
    dc.w    $A6B4,$2640,$7000,$302E,$0012,$7200,$3214,$4EB9; $0051F0
    dc.w    $0003,$E05C,$7200,$3202,$D081,$D080,$D7C0,$4A47; $005200
    dc.w    $660A,$7000,$3039,$00FF,$88D6,$6008,$7000,$3039; $005210
    dc.w    $00FF,$A6B4,$2440,$7000,$3005,$7200,$3214,$4EB9; $005220
    dc.w    $0003,$E05C,$7200,$3206,$D081,$D080,$D5C0,$362E; $005230
    dc.w    $0016,$D643,$4242,$602E,$2F0A,$2F0B,$7000,$3003; $005240
    dc.w    $2F00,$4878,$0001,$4878,$0006,$4EB9,$0000,$0D64; $005250
    dc.w    $4FEF,$0014,$7000,$3014,$D080,$D7C0,$7000,$3014; $005260
    dc.w    $D080,$D5C0,$5242,$B444,$65CE,$4CEE,$1CFC,$FFDC; $005270
    dc.w    $4E5E,$4E75,$48E7,$3F00,$242F,$0030,$262F,$002C; $005280
    dc.w    $282F,$0028,$2A2F,$0024,$2C2F,$0020,$2E2F,$001C; $005290
    dc.w    $3002,$2F00,$3003,$2F00,$42A7,$3004,$2F00,$3005; $0052A0
    dc.w    $2F00,$3006,$2F00,$3007,$2F00,$42A7,$6100,$FEF8; $0052B0
    dc.w    $4FEF,$0020,$3002,$2F00,$3003,$2F00,$4878,$0001; $0052C0
    dc.w    $3004,$2F00,$3005,$2F00,$3006,$2F00,$3007,$2F00; $0052D0
    dc.w    $4878,$0001,$6100,$FED0,$4FEF,$0020,$4CDF,$00FC; $0052E0
    dc.w    $4E75,$4E56,$FE00,$48E7,$3F30,$2E2E,$0008,$266E; $0052F0
    dc.w    $001C,$4243,$4245,$604C,$4242,$3003,$E748,$41EE; $005300
    dc.w    $FE00,$43F0,$0000,$2449,$7C00,$3C05,$E78E,$7800; $005310
    dc.w    $3802,$E78C,$6026,$3486,$426A,$0002,$355B,$0004; $005320
    dc.w    $3544,$0006,$508A,$7000,$5243,$3003,$7200,$3207; $005330
    dc.w    $D081,$7240,$B280,$6F12,$5084,$5242,$B46E,$0016; $005340
    dc.w    $65D4,$5245,$BA6E,$001A,$65AE,$7000,$302E,$0012; $005350
    dc.w    $2F00,$7000,$302E,$000E,$2F00,$486E,$FE00,$7000; $005360
    dc.w    $3003,$2F00,$7000,$3007,$2F00,$4878,$000F,$4EB9; $005370
    dc.w    $0000,$0D64,$4CEE,$0CFC,$FDE0,$4E5E,$4E75         ; $005380 (end of previous function)
; ---------------------------------------------------------------------------
; CmdSetBackground -- Set background display via GameCommand #26
; Args: $4(SP) = layer/mode parameter
; Called 46 times
; ---------------------------------------------------------------------------
CmdSetBackground:                                              ; $00538E
    MOVE.L  $4(SP),D1                                          ; arg (layer/mode)
    MOVE.L  #$00008000,-(SP)                                   ; push VRAM base
    PEA     ($0020).W                                          ; push 32 (height)
    PEA     ($0020).W                                          ; push 32 (width)
    CLR.L   -(SP)                                              ; push 0
    CLR.L   -(SP)                                              ; push 0
    MOVEQ   #0,D0
    MOVE.W  D1,D0                                              ; zero-extend arg
    MOVE.L  D0,-(SP)                                           ; push arg
    PEA     ($001A).W                                          ; command 26
    dc.w    $4EB9,$0000,$0D64                                  ; jsr GameCommand [$D64]
    LEA     $1C(SP),SP                                         ; pop 7 args
    RTS
; ============================================================================
; ClearScreen -- (TODO: describe)
; Called: ?? times.
; 98 bytes | $0053BA-$00541B
; ============================================================================
ClearScreen:                                                  ; $0053BA
    move.l  a2,-(sp)
    movea.l #$0d64,a2
    pea     ($000D).w
    jsr     (a2)
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($0010).w
    jsr     (a2)
    move.l  #$8000,-(sp)
    pea     ($0020).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a2)
    lea     $002c(sp),sp
    move.l  #$8000,-(sp)
    pea     ($0020).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a2)
    pea     ($000C).w
    jsr     (a2)
    lea     $0020(sp),sp
    movea.l (sp)+,a2
    rts
    dc.w    $4E56,$FFFC; $00541C
    dc.w    $222E,$0008,$33C1,$00FF,$A784,$3001,$4440,$0240; $005420
    dc.w    $03FF,$3D40,$FFFE,$42A7,$42A7,$4878,$0001,$7000; $005430
    dc.w    $3039,$00FF,$A78A,$5480,$2F00,$486E,$FFFE,$4878; $005440
    dc.w    $0002,$4878,$0008,$4EB9,$0000,$0D64,$4E5E,$4E75; $005450
    dc.w    $4E56,$FFFC,$222E,$0008,$33C1,$00FF,$A788,$3001; $005460
    dc.w    $4440,$0240,$03FF,$3D40,$FFFE,$42A7,$42A7,$4878; $005470
    dc.w    $0001,$7000,$3039,$00FF,$A78A,$2F00,$486E,$FFFE; $005480
    dc.w    $4878,$0002,$4878,$0008,$4EB9,$0000,$0D64,$4E5E; $005490
    dc.w    $4E75,$4E56,$FFFC,$222E,$0008,$33C1,$00FF,$A782; $0054A0
    dc.w    $3001,$0240,$03FF,$3D40,$FFFE,$42A7,$4878,$0002; $0054B0
    dc.w    $4878,$0001,$4878,$0002,$486E,$FFFE,$4878,$0002; $0054C0
    dc.w    $4878,$0008,$4EB9,$0000,$0D64,$4E5E,$4E75,$4E56; $0054D0
    dc.w    $FFFC,$222E,$0008,$33C1,$00FF,$A786,$3001,$0240; $0054E0
    dc.w    $03FF,$3D40,$FFFE,$42A7,$4878,$0002,$4878,$0001; $0054F0
    dc.w    $42A7,$486E,$FFFE,$4878,$0002,$4878,$0008,$4EB9; $005500
    dc.w    $0000,$0D64,$4E5E,$4E75                          ; $005510
; ============================================================================
; SetScrollQuadrant -- (TODO: describe)
; Called: ?? times.
; 114 bytes | $005518-$005589
; ============================================================================
SetScrollQuadrant:                                                  ; $005518
    movem.l d2-d4,-(sp)
    move.l  $0014(sp),d2
    move.l  $0010(sp),d3
    cmpi.w  #$3,d3
    bhi.b   .l5530
    cmpi.w  #$3,d2
    bls.b   .l5534
.l5530:                                                 ; $005530
    clr.w   d3
    clr.w   d2
.l5534:                                                 ; $005534
    move.w  d2,d0
    lsl.w   #$2,d0
    add.w   d3,d0
    movea.l #$0004737e,a0
    move.b  (a0,d0.w),d4
    andi.l  #$ff,d4
    tst.w   d4
    bne.b   .l5552
    clr.w   d3
    clr.w   d2
.l5552:                                                 ; $005552
    moveq   #$0,d0
    move.w  d4,d0
    ori.l   #$9000,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    addq.l  #$8,sp
    move.w  d3,d0
    lsl.w   #$5,d0
    addi.w  #$20,d0
    move.w  d0,($00FFA77E).l
    move.w  d2,d0
    lsl.w   #$5,d0
    addi.w  #$20,d0
    move.w  d0,($00FFA77C).l
    movem.l (sp)+,d2-d4
    rts
    dc.w    $2F02,$242F,$0008; $00558A
    dc.w    $4A42,$6708,$2F3C,$0000,$8C08,$6006,$2F3C,$0000; $005590
    dc.w    $8C00,$42A7,$4EB9,$0000,$0D64,$508F,$241F,$4E75; $0055A0
    dc.w    $2F0A,$247C,$0000,$0D64,$2F3C,$0000,$8004,$42A7; $0055B0
    dc.w    $4E92,$2F3C,$0000,$8104,$42A7,$4E92,$2F3C,$0000; $0055C0
    dc.w    $8600,$42A7,$4E92,$2F3C,$0000,$8700,$42A7,$4E92; $0055D0
    dc.w    $2F3C,$0000,$8800,$42A7,$4E92,$2F3C,$0000,$8900; $0055E0
    dc.w    $42A7,$4E92,$4FEF,$0030,$2F3C,$0000,$8A3F,$42A7; $0055F0
    dc.w    $4E92,$2F3C,$0000,$8B00,$42A7,$4E92,$2F3C,$0000; $005600
    dc.w    $8C00,$42A7,$4E92,$2F3C,$0000,$8E00,$42A7,$4E92; $005610
    dc.w    $2F3C,$0000,$8F02,$42A7,$4E92,$2F3C,$0000,$9030; $005620
    dc.w    $42A7,$4E92,$4FEF,$0030,$2F3C,$0000,$9100,$42A7; $005630
    dc.w    $4E92,$2F3C,$0000,$9200,$42A7,$4E92,$4FEF,$0010; $005640
    dc.w    $245F,$4E75,$48E7,$0030,$247C,$0000,$0D64,$267C; $005650
    dc.w    $00FF,$A6B4,$2F3C,$0000,$8B00,$42A7,$4E92,$2F3C; $005660
    dc.w    $0000,$8C00,$42A7,$4E92,$2F3C,$0000,$9030,$42A7; $005670
    dc.w    $4E92,$33FC,$C000,$00FF,$88D6,$33FC,$FC00,$00FF; $005680
    dc.w    $A78A,$33FC,$F800,$00FF,$A778,$36BC,$E000,$33FC; $005690
    dc.w    $FC00,$00FF,$161C,$4279,$00FF,$A780,$2F3C,$0000; $0056A0
    dc.w    $C000,$42A7,$4878,$0001,$4E92,$7000,$3013,$2F00; $0056B0
    dc.w    $4878,$0001,$4878,$0001,$4E92,$4FEF,$0030,$7000; $0056C0
    dc.w    $3039,$00FF,$161C,$2F00,$4878,$0002,$4878,$0001; $0056D0
    dc.w    $4E92,$7000,$3039,$00FF,$A778,$2F00,$4878,$0003; $0056E0
    dc.w    $4878,$0001,$4E92,$7000,$3039,$00FF,$A78A,$2F00; $0056F0
    dc.w    $4878,$0004,$4878,$0001,$4E92,$7000,$3013,$2F00; $005700
    dc.w    $7000,$3039,$00FF,$88D6,$2F00,$4878,$001D,$4E92; $005710
    dc.w    $4FEF,$0030,$4878,$0003,$42A7,$6100,$FDEC,$508F; $005720
    dc.w    $4CDF,$0C00,$4E75,$2F0A,$247C,$0000,$0D64,$4878; $005730
    dc.w    $000D,$4E92,$42A7,$4878,$7000,$2F3C,$00FF,$0000; $005740
    dc.w    $4EB9,$0001,$D550,$42A7,$42A7,$2F3C,$0001,$0000; $005750
    dc.w    $4878,$0001,$4878,$0007,$4E92,$6100,$FE44,$6100; $005760
    dc.w    $FEE4,$4878,$000C,$4E92,$4FEF,$0028,$245F,$4E75; $005770
    dc.w    $4878,$000D,$4EB9,$0000,$0D64,$6100,$FE24,$6100; $005780
    dc.w    $FEC4,$4878,$000C,$4EB9,$0000,$0D64,$508F,$4E75; $005790
    dc.w    $48E7,$3000,$242F,$0010,$262F,$000C,$0C79,$0020; $0057A0
    dc.w    $00FF,$A77E,$6636,$7000,$3002,$720B,$E3A8,$7200; $0057B0
    dc.w    $3239,$00FF,$A6B4,$D081,$2F00,$7000,$3003,$720B; $0057C0
    dc.w    $E3A8,$7200,$3239,$00FF,$88D6,$D081,$2F00,$4878; $0057D0
    dc.w    $001D,$4EB9,$0000,$0D64,$4FEF,$000C,$4CDF,$000C; $0057E0
    dc.w    $4E75,$2F02,$222F,$000C,$202F,$0008,$D080,$0680; $0057F0
    dc.w    $0020,$0003,$2040,$7400,$6006,$4210,$5488,$5282; $005800
    dc.w    $B481,$65F6,$241F,$4E75,$48E7,$3800,$222F,$0018; $005810
    dc.w    $226F,$0010,$202F,$0014,$D080,$0680,$0020,$0003; $005820
    dc.w    $2040,$7400,$7800,$6010,$1611,$1083,$7000,$1003; $005830
    dc.w    $D880,$5488,$5289,$5282,$B481,$65EC,$2004,$4CDF; $005840
    dc.w    $001C,$4E75,$48E7,$3800,$222F,$0018,$226F,$0010; $005850
    dc.w    $202F,$0014,$D080,$0680,$0020,$0003,$2040,$7400; $005860
    dc.w    $7800,$6010,$1610,$1283,$7000,$1003,$D880,$5488; $005870
    dc.w    $5289,$5282,$B481,$65EC,$2004,$4CDF,$001C,$4E75; $005880
    dc.w    $48E7,$3800,$222F,$0014,$202F,$0010,$D080,$0680; $005890
    dc.w    $0020,$0003,$2040,$7400,$7600,$600C,$1810,$7000; $0058A0
    dc.w    $1004,$D680,$5488,$5282,$B481,$65F0,$2003,$4CDF; $0058B0
    dc.w    $001C,$4E75,$48E7,$3800,$222F,$0014,$206F,$0010; $0058C0
    dc.w    $7400,$7600,$600A,$1818,$7000,$1004,$D680,$5282; $0058D0
    dc.w    $B481,$65F2,$2003,$4CDF,$001C,$4E75,$4E75,$4878; $0058E0
    dc.w    $001E,$4EB9,$0000,$0D64,$588F,$4E75              ; $0058F0
; ============================================================================
; PlaceIconPair -- (TODO: describe)
; Called: 8 times.
; 98 bytes | $0058FC-$00595D
; ============================================================================
PlaceIconPair:                                                  ; $0058FC
    link    a6,#-$4
    lea     -$0004(a6),a0
    move.w  #$8404,d1
    tst.w   $000a(a6)
    bne.b   .l5920
    move.w  d1,d0
    addi.w  #$011d,d0
    move.w  d0,-$0004(a6)
    move.w  d1,d0
    addi.w  #$011e,d0
    bra.b   .l5930
.l5920:                                                 ; $005920
    move.w  d1,d0
    addi.w  #$011f,d0
    move.w  d0,-$0004(a6)
    move.w  d1,d0
    addi.w  #$0120,d0
.l5930:                                                 ; $005930
    move.w  d0,$0002(a0)
    move.l  a0,-(sp)
    pea     ($0002).w
    pea     ($0001).w
    move.w  $0012(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000e(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    unlk    a6
    rts
; ============================================================================
; PlaceIconTiles -- Place tile icons by game element type (switch on type 1-4)
; Called: 13 times.
; 166 bytes | $00595E-$005A03
; ============================================================================
PlaceIconTiles:                                                  ; $00595E
    link    a6,#-$4
    movem.l d2-d7,-(sp)
    move.l  $000c(a6),d6
    move.l  $0008(a6),d7
    move.w  #$8404,d3
    move.w  d7,d0
    ext.l   d0
    moveq   #$1,d1
    cmp.w   d1,d0
    beq.b   .l598a
    moveq   #$2,d1
    cmp.w   d1,d0
    beq.b   .l5990
    moveq   #$3,d1
    cmp.w   d1,d0
    beq.b   .l5996
    bra.b   .l599a
.l598a:                                                 ; $00598A
    move.w  #$010f,d2
    bra.b   .l599a
.l5990:                                                 ; $005990
    move.w  #$0117,d2
    bra.b   .l599a
.l5996:                                                 ; $005996
    move.w  #$0113,d2
.l599a:                                                 ; $00599A
    move.w  d2,d5
    addq.w  #$2,d5
    move.w  d2,d4
    addq.w  #$3,d4
    cmpi.w  #$4,d7
    bne.b   .l59b0
    move.w  #$011b,d5
    move.w  #$011c,d4
.l59b0:                                                 ; $0059B0
    cmpi.w  #$1,d6
    bne.b   .l59c0
    move.w  d2,d0
    add.w   d3,d0
    move.w  d0,-$0004(a6)
    bra.b   .l59d0
.l59c0:                                                 ; $0059C0
    move.w  d5,d0
    add.w   d3,d0
    move.w  d0,-$0004(a6)
    move.w  d4,d0
    add.w   d3,d0
    move.w  d0,-$0002(a6)
.l59d0:                                                 ; $0059D0
    pea     -$0004(a6)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0001).w
    move.w  $0016(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $0012(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    movem.l -$001c(a6),d2-d7
    unlk    a6
    rts
; ============================================================================
; DrawBox -- Draw a bordered dialog box with corner, edge, and fill tiles
; Called: 42 times.
; Args (stack, link -4): $08(A6)=x (l), $0C(A6)=y (l), $10(A6)=width (l), $14(A6)=height (l)
; Sets win_left/top/right/bottom. A2=GameCommand, A3/A4=&local_tile, A5=&win_bottom
; Tile sequence: $8527=TL, $8528=BL, $8529=TR, $852A=BR, $852B/C=L/R edge, $852D/E=T/B edge
; ============================================================================
DrawBox:                                                     ; $005A04
    link    a6,#-4
    movem.l d2-d6/a2-a5,-(sp)
    move.l  $0008(a6),d2                    ; D2 = x (col)
    move.l  $0010(a6),d3                    ; D3 = width
    move.l  $000C(a6),d4                    ; D4 = y (row)
    move.l  $0014(a6),d5                    ; D5 = height
    movea.l #$00000D64,a2                   ; A2 = GameCommand
    lea     -$2(a6),a3                      ; A3 = &local_tile word (A6-2)
    lea     -$2(a6),a4                      ; A4 = same (tile ptr arg to GameCommand)
    movea.l #$00FFBD48,a5                   ; A5 = &win_bottom
    ; Set text window boundary variables
    move.w  d2,d0
    addq.w  #1,d0
    move.w  d0,($00FFBD68).l               ; win_left = x+1
    move.w  d4,d0
    addq.w  #1,d0
    move.w  d0,($00FFB9E4).l               ; win_top = y+1
    move.w  d2,d0
    ext.l   d0
    move.w  d3,d1
    ext.l   d1
    add.l   d1,d0
    subq.l  #2,d0                          ; D0 = x+width-2 = win_right
    move.l  d0,d6                          ; D6 = win_right (save)
    move.w  d0,($00FFBDA8).l              ; win_right = x+width-2
    move.w  d4,d0
    add.w   d5,d0
    addi.w  #$FFFE,d0                      ; D0 = y+height-2 = win_bottom
    move.w  d0,(a5)                        ; win_bottom
    move.w  d2,d0
    addq.w  #1,d0
    move.w  d0,($00FF1290).l
    move.w  d6,($00FF1000).l
    ; Cursor setup helpers: x+1 and y+1
    move.w  d2,d0
    ext.l   d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    dc.w    $4EB9,$0003,$AAFE             ; jsr $3AAFE (cursor width setup)
    move.w  d4,d0
    ext.l   d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    dc.w    $4EB9,$0003,$AAF4             ; jsr $3AAF4 (cursor height setup)
    addq.l  #8,a7                         ; clean 2 args
    ; Bounds check: exit if window is degenerate
    move.w  ($00FFBD68).l,d0
    cmp.w   ($00FFBDA8).l,d0
    bcc.w   .exit                         ; win_left >= win_right
    move.w  ($00FFB9E4).l,d0
    cmp.w   (a5),d0
    bcc.w   .exit                         ; win_top >= win_bottom
    ; Fill interior: GameCommand(#$1A, 0, win_left, win_top, width-2, height-2, $8000)
    move.l  #$00008000,-(sp)
    move.w  d5,d0
    ext.l   d0
    subq.l  #2,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    subq.l  #2,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  ($00FFB9E4).l,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  ($00FFBD68).l,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a2)
    lea     $001C(sp),sp
    ; --- Draw 4 corners ---
    move.w  #$8527,(a3)                   ; local_tile = $8527 (TL corner)
    ; Top-left corner at (x, y)
    move.l  a4,-(sp)
    pea     ($0001).w
    pea     ($0001).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    addq.w  #1,(a3)                       ; tile = $8528 (BL corner)
    ; Bottom-left corner at (x, win_bottom+1)
    move.l  a4,-(sp)
    pea     ($0001).w
    pea     ($0001).w
    moveq   #0,d0
    move.w  (a5),d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    addq.w  #1,(a3)                       ; tile = $8529 (TR corner)
    ; Top-right corner at (win_right+1, y)
    move.l  a4,-(sp)
    pea     ($0001).w
    pea     ($0001).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  ($00FFBDA8).l,d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    addq.w  #1,(a3)                       ; tile = $852A (BR corner)
    ; Bottom-right corner at (win_right+1, win_bottom+1)
    move.l  a4,-(sp)
    pea     ($0001).w
    pea     ($0001).w
    moveq   #0,d0
    move.w  (a5),d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  ($00FFBDA8).l,d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    ; --- Row loop: draw left/right edges (tile $852B/$852C) ---
    move.w  d4,d3                          ; D3 = y (row counter)
    addq.w  #1,d3                          ; D3 = y+1 (first interior row)
    addq.w  #1,(a3)                        ; tile = $852B (left edge)
    bra.s   .row_check
.row_body:                                 ; $005B8C
    ; Left edge at (x, D3)
    move.l  a4,-(sp)
    pea     ($0001).w
    pea     ($0001).w
    moveq   #0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    ; Right edge at (win_right+1, D3) with tile+1 in -4(a6)
    move.w  (a3),d0
    addq.w  #1,d0
    move.w  d0,-$4(a6)
    pea     -$4(a6)
    pea     ($0001).w
    pea     ($0001).w
    moveq   #0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  ($00FFBDA8).l,d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    addq.w  #1,d3
.row_check:                                ; $005BE2
    moveq   #0,d0
    move.w  d3,d0
    moveq   #0,d1
    move.w  (a5),d1
    addq.l  #1,d1
    cmp.l   d1,d0
    blt.s   .row_body
    ; --- Column loop: draw top/bottom edges (tile $852D/$852E) ---
    addq.w  #1,d2
    addq.w  #2,(a3)                        ; tile = $852D (top edge)
    bra.s   .col_check
.col_body:                                 ; $005BF6
    ; Top edge at (D2, y)
    move.l  a4,-(sp)
    pea     ($0001).w
    pea     ($0001).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    ; Bottom edge at (D2, win_bottom+1) with tile+1 in -4(a6)
    move.w  (a3),d0
    addq.w  #1,d0
    move.w  d0,-$4(a6)
    pea     -$4(a6)
    pea     ($0001).w
    pea     ($0001).w
    moveq   #0,d0
    move.w  (a5),d0
    addq.l  #1,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    lea     $001C(sp),sp
    addq.w  #1,d2
.col_check:                                ; $005C48
    moveq   #0,d0
    move.w  d2,d0
    moveq   #0,d1
    move.w  ($00FFBDA8).l,d1
    addq.l  #1,d1
    cmp.l   d1,d0
    blt.s   .col_body
.exit:                                     ; $005C5A
    movem.l -$28(a6),d2-d6/a2-a5
    unlk    a6
    rts
; ============================================================================
; DrawTileStrip -- (TODO: describe)
; Called: ?? times.
; 154 bytes | $005C64-$005CFD
; ============================================================================
DrawTileStrip:                                                  ; $005C64
    link    a6,#-$2c
    movem.l d2-d6/a2,-(sp)
    move.l  $0010(a6),d4
    move.l  $000c(a6),d5
    move.l  $0008(a6),d6
    lea     -$002a(a6),a2
    move.w  d4,d0
    ext.l   d0
    bge.b   .l5c84
    addq.l  #$1,d0
.l5c84:                                                 ; $005C84
    asr.l   #$1,d0
    move.l  d0,d3
    moveq   #$0,d2
    bra.b   .l5c9a
.l5c8c:                                                 ; $005C8C
    move.l  d2,d0
    add.l   d0,d0
    movea.l d0,a0
    move.w  #$852f,(a2,a0.l)
    addq.l  #$1,d2
.l5c9a:                                                 ; $005C9A
    cmp.l   d3,d2
    blt.b   .l5c8c
    move.w  d4,d0
    ext.l   d0
    moveq   #$2,d1
    dc.w    $4eb9,$0003,$e146                           ; jsr $03E146
    tst.l   d0
    beq.b   .l5cba
    move.l  d2,d0
    add.l   d0,d0
    movea.l d0,a0
    move.w  #$8530,(a2,a0.l)
.l5cba:                                                 ; $005CBA
    move.l  d2,d0
    add.l   d0,d0
    movea.l d0,a0
    clr.w   (a2,a0.l)
    tst.l   d3
    ble.b   .l5cd2
    move.l  a2,-(sp)
    pea     ($0001).w
    move.l  d3,-(sp)
    bra.b   .l5cdc
.l5cd2:                                                 ; $005CD2
    move.l  a2,-(sp)
    pea     ($0001).w
    pea     ($0001).w
.l5cdc:                                                 ; $005CDC
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    movem.l -$0044(a6),d2-d6/a2
    unlk    a6
    rts
; ============================================================================
; RenderTileStrip -- (TODO: describe)
; Called: ?? times.
; 480 bytes | $005CFE-$005EDD
; ============================================================================
RenderTileStrip:                                                  ; $005CFE
    link    a6,#-$24
    movem.l d2-d7/a2-a4,-(sp)
    move.l  $0010(a6),d2
    move.l  $000c(a6),d4
    move.l  $0008(a6),d5
    move.l  $0014(a6),d6
    move.l  $0018(a6),d7
    lea     -$0002(a6),a3
    movea.l #$0d64,a4
    move.w  d2,d3
    ext.l   d3
    asr.l   #$3,d3
    move.w  d6,d0
    ext.l   d0
    cmp.l   d0,d3
    bge.b   .l5d3a
    move.w  d2,d3
    ext.l   d3
    asr.l   #$3,d3
    bra.b   .l5d3e
.l5d3a:                                                 ; $005D3A
    move.w  d6,d3
    ext.l   d3
.l5d3e:                                                 ; $005D3E
    cmpi.w  #$2,d7
    bgt.b   .l5dba
    cmpi.w  #$1,d7
    bne.b   .l5d50
    move.w  #$8531,(a3)
    bra.b   .l5d54
.l5d50:                                                 ; $005D50
    move.w  #$8539,(a3)
.l5d54:                                                 ; $005D54
    tst.w   d3
    ble.b   .l5d80
    moveq   #$0,d0
    move.w  (a3),d0
    move.l  d0,-(sp)
    pea     ($0001).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a4)
    lea     $001c(sp),sp
.l5d80:                                                 ; $005D80
    move.w  d2,d0
    andi.w  #$7,d0
    beq.w   .l5ed4
    move.w  d2,d0
    andi.w  #$7,d0
    add.w   d0,(a3)
    pea     -$0002(a6)
    pea     ($0001).w
    pea     ($0001).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.w  d3,d1
    ext.l   d1
    add.l   d1,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    bra.w   .l5ed2
.l5dba:                                                 ; $005DBA
    tst.w   d3
    ble.b   .l5dea
    move.w  #$8531,(a3)
    moveq   #$0,d0
    move.w  (a3),d0
    move.l  d0,-(sp)
    pea     ($0001).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a4)
    lea     $001c(sp),sp
.l5dea:                                                 ; $005DEA
    move.w  d2,d0
    andi.w  #$7,d0
    beq.w   .l5e9c
    lea     -$0022(a6),a2
    move.w  d2,d0
    andi.w  #$7,d0
    move.w  d0,(a3)
    pea     ($0020).w
    move.l  a2,-(sp)
    clr.l   -(sp)
    move.w  (a3),d0
    lsl.w   #$5,d0
    movea.l #$00048a7c,a0
    pea     (a0,d0.w)
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$d538                           ; jsr $01D538
    addq.w  #$8,(a3)
    clr.w   d2
.l5e22:                                                 ; $005E22
    move.w  (a3),d0
    lsl.w   #$5,d0
    move.w  d2,d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00048a7c,a0
    move.w  (a0,d0.w),d0
    move.w  #$6666,d1
    eor.w   d1,d0
    move.w  d2,d1
    ext.l   d1
    add.l   d1,d1
    movea.l d1,a0
    or.w    d0,(a2,a0.l)
    addq.w  #$1,d2
    cmpi.w  #$10,d2
    blt.b   .l5e22
    move.w  #$8531,(a3)
    clr.l   -(sp)
    move.l  #$a820,-(sp)
    move.l  a2,-(sp)
    pea     ($0010).w
    pea     ($0002).w
    pea     ($0005).w
    jsr     (a4)
    lea     $002c(sp),sp
    pea     -$0002(a6)
    pea     ($0001).w
    pea     ($0001).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.w  d3,d1
    ext.l   d1
    add.l   d1,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a4)
    lea     $001c(sp),sp
    addq.w  #$1,d3
.l5e9c:                                                 ; $005E9C
    cmp.w   d6,d3
    bge.b   .l5ed4
    move.w  #$8539,(a3)
    moveq   #$0,d0
    move.w  (a3),d0
    move.l  d0,-(sp)
    pea     ($0001).w
    move.w  d6,d0
    ext.l   d0
    move.w  d3,d1
    ext.l   d1
    sub.l   d1,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.w  d3,d1
    ext.l   d1
    add.l   d1,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001A).w
.l5ed2:                                                 ; $005ED2
    jsr     (a4)
.l5ed4:                                                 ; $005ED4
    movem.l -$0048(a6),d2-d7/a2-a4
    unlk    a6
    rts
; ============================================================================
; FillSequentialWords -- (TODO: describe)
; Called: ?? times.
; 34 bytes | $005EDE-$005EFF
; ============================================================================
FillSequentialWords:                                                  ; $005EDE
    move.l  d2,-(sp)
    move.l  $000c(sp),d1
    move.l  $0010(sp),d0
    movea.l $0008(sp),a0
    clr.w   d2
    bra.b   .l5ef8
.l5ef0:                                                 ; $005EF0
    move.w  d1,(a0)
    addq.w  #$1,d2
    addq.l  #$2,a0
    addq.w  #$1,d1
.l5ef8:                                                 ; $005EF8
    cmp.w   d0,d2
    bcs.b   .l5ef0
    move.l  (sp)+,d2
    rts
LoadTileGraphics:                                                  ; $005F00
    link    a6,#-$3c
    movem.l d2-d5,-(sp)
    move.l  $0008(a6),d2
    move.l  $0014(a6),d3
    move.l  $0018(a6),d4
    moveq   #$0,d0
    move.w  d2,d0
    lsl.l   #$2,d0
    movea.l #$000ae0c4,a0
    move.l  (a0,d0.l),-(sp)
    pea     ($00FF899C).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    move.w  d3,d5
    moveq   #$d,d0
    lsl.w   d0,d5
    or.w    d4,d5
    pea     ($001E).w
    move.w  d5,d0
    move.l  d0,-(sp)
    pea     -$003c(a6)
    dc.w    $6100,$ff98                                 ; bsr.w $005EDE
    move.w  d2,d0
    add.w   d0,d0
    movea.l #$000473d0,a0
    move.w  (a0,d0.w),d2
    cmpi.w  #$10,d2
    beq.b   .l5f74
    pea     ($0010).w
    moveq   #$0,d0
    move.w  d3,d0
    lsl.l   #$4,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    lsl.w   #$2,d0
    movea.l #$00047390,a0
    bra.b   .l5f8c
.l5f74:                                                 ; $005F74
    pea     ($0010).w
    moveq   #$0,d0
    move.w  d3,d0
    lsl.l   #$4,d0
    move.l  d0,-(sp)
    move.w  $0022(a6),d0
    lsl.w   #$2,d0
    movea.l #$00ff03e0,a0
.l5f8c:                                                 ; $005F8C
    move.l  (a0,d0.w),-(sp)
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    pea     ($001E).w
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    pea     ($00FF899C).l
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
    lea     $002c(sp),sp
    pea     -$003c(a6)
    pea     ($0006).w
    pea     ($0005).w
    moveq   #$0,d0
    move.w  $0012(a6),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  $000e(a6),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  $001e(a6),d0
    move.l  d0,-(sp)
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    pea     ($0001).w
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    movem.l -$004c(a6),d2-d5
    unlk    a6
    rts
; ============================================================================
; LoadCompressedGfx -- (TODO: describe)
; Called: 7 times.
; 174 bytes | $005FF6-$0060A3
; ============================================================================
LoadCompressedGfx:                                                  ; $005FF6
    movem.l d2-d4,-(sp)
    move.l  $0010(sp),d2
    move.l  $0018(sp),d3
    move.l  $0014(sp),d4
    cmpi.w  #$12,d2
    bcs.w   .l609e
    cmpi.w  #$19,d2
    bhi.w   .l609e
    cmpi.w  #$18,d2
    bne.b   .l602c
    pea     ($0010).w
    pea     ($0030).w
    pea     ($0007675E).l
    bra.b   .l603a
.l602c:                                                 ; $00602C
    pea     ($0010).w
    pea     ($0030).w
    pea     ($0007673E).l
.l603a:                                                 ; $00603A
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    moveq   #$0,d0
    move.w  d2,d0
    lsl.l   #$2,d0
    movea.l #$00088c90,a0
    move.l  (a0,d0.l),-(sp)
    pea     ($00FF1804).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    pea     ($0078).w
    pea     ($0640).w
    pea     ($00FF1804).l
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
    lea     $0020(sp),sp
    pea     ($000700A8).l
    pea     ($000A).w
    pea     ($000C).w
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $001c(sp),sp
.l609e:                                                 ; $00609E
    movem.l (sp)+,d2-d4
    rts
    dc.w    $48E7,$2020,$247C,$00FF,$BDAE,$5252              ; $0060A4
    dc.w    $3012,$B06A,$0002,$655A,$7000,$302A,$0004,$D080; $0060B0
    dc.w    $D0AA,$000E,$2040,$342A,$0008,$C4D0,$42A7,$2F2A; $0060C0
    dc.w    $0012,$7000,$3002,$D080,$D0AA,$000A,$2F00,$7000; $0060D0
    dc.w    $302A,$0008,$2F00,$4878,$0002,$4878,$0005,$4EB9; $0060E0
    dc.w    $0000,$0D64,$4FEF,$0018,$4252,$7000,$302A,$0004; $0060F0
    dc.w    $5280,$7200,$322A,$0006,$4EB9,$0003,$E146,$3540; $006100
    dc.w    $0004,$4CDF,$0404,$4E75,$48E7,$2020,$247C,$00FF; $006110
    dc.w    $BDC4,$5252,$3012,$B06A,$0002,$655A,$7000,$302A; $006120
    dc.w    $0004,$D080,$D0AA,$000E,$2040,$342A,$0008,$C4D0; $006130
    dc.w    $42A7,$2F2A,$0012,$7000,$3002,$D080,$D0AA,$000A; $006140
    dc.w    $2F00,$7000,$302A,$0008,$2F00,$4878,$0002,$4878; $006150
    dc.w    $0005,$4EB9,$0000,$0D64,$4FEF,$0018,$4252,$7000; $006160
    dc.w    $302A,$0004,$5280,$7200,$322A,$0006,$4EB9,$0003; $006170
    dc.w    $E146,$3540,$0004,$4CDF,$0404,$4E75,$4E56,$FFFC; $006180
    dc.w    $2F02,$7000,$302E,$000A,$7200,$3239,$00FF,$A77E; $006190
    dc.w    $E789,$2401,$4EB9,$0003,$E146,$33C0,$00FF,$A788; $0061A0
    dc.w    $3D40,$FFFC,$7000,$302E,$000E,$2202,$4EB9,$0003; $0061B0
    dc.w    $E146,$33C0,$00FF,$A784,$3D40,$FFFE,$42A7,$7000; $0061C0
    dc.w    $3039,$00FF,$A78A,$2F00,$486E,$FFFC,$4878,$0002; $0061D0
    dc.w    $4878,$0002,$4878,$0005,$4EB9,$0000,$0D64,$242E; $0061E0
    dc.w    $FFF8,$4E5E,$4E75,$2F0A,$247C,$00FF,$BDDA,$526A; $0061F0
    dc.w    $0004,$302A,$0004,$B052,$650A,$5279,$00FF,$A788; $006200
    dc.w    $426A,$0004,$526A,$0006,$302A,$0006,$B06A,$0002; $006210
    dc.w    $650A,$5279,$00FF,$A784,$426A,$0006,$4A6A,$0004; $006220
    dc.w    $6706,$4A6A,$0006,$6616,$3039,$00FF,$A784,$2F00; $006230
    dc.w    $3039,$00FF,$A788,$2F00,$6100,$FF42,$508F,$245F; $006240
    dc.w    $4E75,$207C,$00FF,$BDE2,$5250,$4E75,$2F0A,$247C; $006250
    dc.w    $00FF,$BDAC,$3012,$0240,$0001,$6704,$6100,$FE36; $006260
    dc.w    $3012,$0240,$0002,$6704,$6100,$FE9E,$3012,$0240; $006270
    dc.w    $0004,$6704,$6100,$FF70,$3012,$0240,$0008,$6704; $006280
    dc.w    $6100,$FFC0,$245F,$4E75                          ; $006290
; ============================================================================
; ConfigScrollBar -- (TODO: describe)
; Called: ?? times.
; 178 bytes | $006298-$006349
; ============================================================================
ConfigScrollBar:                                                  ; $006298
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $0030(sp),d3
    move.l  $003c(sp),d4
    move.l  $0038(sp),d5
    move.l  $0034(sp),d6
    move.l  $002c(sp),d7
    movea.l $0048(sp),a3
    movea.l $0044(sp),a4
    movea.l $0040(sp),a5
    tst.w   d3
    beq.b   .l62c4
    moveq   #$2,d2
    bra.b   .l62c6
.l62c4:                                                 ; $0062C4
    moveq   #$1,d2
.l62c6:                                                 ; $0062C6
    tst.w   d3
    beq.b   .l62d2
    move.l  #$00ffbdc4,d0
    bra.b   .l62d8
.l62d2:                                                 ; $0062D2
    move.l  #$00ffbdae,d0
.l62d8:                                                 ; $0062D8
    movea.l d0,a2
    moveq   #$0,d0
    move.w  d7,d0
    beq.b   .l62e8
    moveq   #$1,d1
    cmp.w   d1,d0
    beq.b   .l6304
    bra.b   .l6344
.l62e8:                                                 ; $0062E8
    move.w  d2,d0
    not.w   d0
    and.w   d0,($00FFBDAC).l
    pea     ($0001).w
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    addq.l  #$8,sp
    bra.b   .l6344
.l6304:                                                 ; $006304
    move.w  d2,d0
    not.w   d0
    and.w   d0,($00FFBDAC).l
    pea     ($0001).w
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    addq.l  #$8,sp
    clr.w   (a2)
    move.w  d6,$0002(a2)
    clr.w   $0004(a2)
    move.w  d5,$0006(a2)
    move.w  d4,$0008(a2)
    move.l  a5,$000a(a2)
    move.l  a4,$000e(a2)
    move.l  a3,$0012(a2)
    move.w  d2,d0
    or.w    d0,($00FFBDAC).l
.l6344:                                                 ; $006344
    movem.l (sp)+,d2-d7/a2-a5
    rts
; ---------------------------------------------------------------------------
; SetScrollBarMode -- (TODO: describe)
; 124 bytes | $00634A-$0063C5
; ---------------------------------------------------------------------------
SetScrollBarMode:                                                  ; $00634A
    link    a6,#$0
    movem.l a2-a3,-(sp)
    movea.l #$00ffbdac,a3
    movea.l #$00ffbdda,a2
    moveq   #$0,d0
    move.w  $000a(a6),d0
    beq.b   .l636e
    moveq   #$1,d1
    cmp.w   d1,d0
    beq.b   .l6384
    bra.b   .l63bc
.l636e:                                                 ; $00636E
    andi.w  #$fffb,(a3)
    pea     ($0001).w
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    addq.l  #$8,sp
    bra.b   .l63bc
.l6384:                                                 ; $006384
    andi.w  #$fffb,(a3)
    pea     ($0001).w
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    move.w  $0012(a6),d0
    move.l  d0,-(sp)
    move.w  $000e(a6),d0
    move.l  d0,-(sp)
    dc.w    $6100,$fde8                                 ; bsr.w $00618C
    move.w  $0016(a6),(a2)
    move.w  $001a(a6),$0002(a2)
    clr.w   $0004(a2)
    clr.w   $0006(a2)
    ori.w   #$4,(a3)
.l63bc:                                                 ; $0063BC
    movem.l -$0008(a6),a2-a3
    unlk    a6
    rts
    dc.w    $48E7,$3038,$262F,$0018,$267C; $0063C6
    dc.w    $00FF,$BDAC,$287C,$0000,$0D64,$247C,$00FF,$BDE2; $0063D0
    dc.w    $7401,$7000,$3003,$6708,$7201,$B041,$6714,$6026; $0063E0
    dc.w    $0253,$FFF7,$4878,$0001,$4878,$000E,$4E94,$508F; $0063F0
    dc.w    $6032,$0253,$FFF7,$4878,$0001,$4878,$000E,$4E94; $006400
    dc.w    $508F,$4252,$601A,$3013,$0240,$0008,$6716,$0253; $006410
    dc.w    $FFF7,$4878,$0001,$4878,$000E,$4E94,$508F,$3412; $006420
    dc.w    $0053,$0008,$3002,$4CDF,$1C0C,$4E75              ; $006430
; ============================================================================
; DrawCharInfoPanel -- (TODO: describe)
; Called: ?? times.
; 804 bytes | $00643C-$00675F
; ============================================================================
DrawCharInfoPanel:                                                  ; $00643C
    link    a6,#-$34
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $0010(a6),d4
    move.l  $0008(a6),d5
    move.l  $0018(a6),d6
    movea.l #$0d64,a3
    lea     -$0030(a6),a4
    movea.l #$0004743c,a5
    tst.w   $0022(a6)
    beq.b   .l646a
    moveq   #$19,d0
    bra.b   .l646c
.l646a:                                                 ; $00646A
    moveq   #$2,d0
.l646c:                                                 ; $00646C
    move.w  d0,-$0032(a6)
    tst.w   $0022(a6)
    beq.b   .l647a
    moveq   #$2,d3
    bra.b   .l647c
.l647a:                                                 ; $00647A
    moveq   #$7,d3
.l647c:                                                 ; $00647C
    tst.w   $001e(a6)
    beq.b   .l6486
    moveq   #$13,d2
    bra.b   .l6488
.l6486:                                                 ; $006486
    moveq   #$2,d2
.l6488:                                                 ; $006488
    moveq   #$0,d0
    move.w  d5,d0
    moveq   #$36,d1
    dc.w    $4eb9,$0003,$e146                           ; jsr $03E146
    move.w  d0,d5
    moveq   #$0,d0
    move.w  d4,d0
    moveq   #$4,d1
    dc.w    $4eb9,$0003,$e146                           ; jsr $03E146
    move.w  d0,d4
    moveq   #$0,d0
    move.w  d6,d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e146                           ; jsr $03E146
    move.w  d0,d6
    pea     ($0004DFB8).l
    pea     ($00FF1804).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    pea     ($0001).w
    clr.l   -(sp)
    pea     ($00FF1804).l
    pea     ($000F).w
    pea     ($02E1).w
    dc.w    $4eb9,$0001,$d568                           ; jsr $01D568
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a3)
    lea     $0024(sp),sp
    pea     ($0004DD9C).l
    pea     ($0009).w
    pea     ($001E).w
    moveq   #$0,d0
    move.w  d2,d0
    subq.l  #$1,d0
    move.l  d0,-(sp)
    pea     ($0001).w
    pea     ($0001).w
    pea     ($001B).w
    jsr     (a3)
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a3)
    lea     $0024(sp),sp
    pea     ($077E).w
    pea     ($0006).w
    pea     ($001C).w
    moveq   #$0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    pea     ($0002).w
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a3)
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a3)
    lea     $0024(sp),sp
    pea     ($0006).w
    pea     ($0017).w
    moveq   #$0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$a942                           ; jsr $03A942
    pea     ($077E).w
    pea     ($0006).w
    pea     ($0017).w
    moveq   #$0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a3)
    lea     $002c(sp),sp
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a3)
    move.w  $0016(a6),d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    move.w  $000e(a6),d0
    move.l  d0,-(sp)
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    move.l  d0,-(sp)
    move.w  -$0032(a6),d0
    move.l  d0,-(sp)
    move.w  d5,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$5f00                           ; jsr $005F00
    moveq   #$0,d0
    move.w  d5,d0
    lsl.l   #$2,d0
    movea.l #$000ae19c,a0
    move.l  (a0,d0.l),-(sp)
    pea     ($00FF899C).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    lea     $002c(sp),sp
    pea     ($0018).w
    pea     ($07E8).w
    pea     ($00FF899C).l
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
    pea     ($0018).w
    move.w  d4,d0
    moveq   #$d,d1
    lsl.w   d1,d0
    ori.w   #$07e8,d0
    move.l  d0,-(sp)
    move.l  a4,-(sp)
    dc.w    $4eb9,$0000,$5ede                           ; jsr $005EDE
    lea     $0018(sp),sp
    move.w  -$0032(a6),d3
    move.w  d2,d7
    addq.w  #$2,d7
    moveq   #$0,d0
    move.w  ($00FF88D6).l,d0
    movea.l d0,a2
    moveq   #$0,d0
    move.w  d7,d0
    moveq   #$0,d1
    move.w  ($00FFA77E).l,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$0,d1
    move.w  d3,d1
    add.l   d1,d0
    add.l   d0,d0
    adda.l  d0,a2
    move.l  a2,-(sp)
    moveq   #$0,d0
    move.w  d6,d0
    lsl.l   #$3,d0
    pea     (a5,d0.l)
    move.l  a4,-(sp)
    pea     ($0005).w
    pea     ($0004).w
    pea     ($000C).w
    clr.l   -(sp)
    pea     ($0001).w
    dc.w    $4eb9,$0000,$6298                           ; jsr $006298
    lea     $0020(sp),sp
    move.w  -$0032(a6),d3
    addq.w  #$1,d3
    move.w  d2,d7
    addq.w  #$4,d7
    moveq   #$0,d0
    move.w  ($00FF88D6).l,d0
    movea.l d0,a2
    moveq   #$0,d0
    move.w  d7,d0
    moveq   #$0,d1
    move.w  ($00FFA77E).l,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$0,d1
    move.w  d3,d1
    add.l   d1,d0
    add.l   d0,d0
    adda.l  d0,a2
    move.l  a2,-(sp)
    move.l  a5,d0
    moveq   #$18,d1
    add.l   d1,d0
    move.l  d0,-(sp)
    move.l  a4,d0
    moveq   #$1e,d1
    add.l   d1,d0
    move.l  d0,-(sp)
    pea     ($0003).w
    pea     ($0004).w
    pea     ($0008).w
    pea     ($0001).w
    pea     ($0001).w
    dc.w    $4eb9,$0000,$6298                           ; jsr $006298
    move.l  $0024(a6),-(sp)
    pea     ($0003E182).l
    dc.w    $4eb9,$0003,$b246                           ; jsr $03B246
    lea     $0028(sp),sp
    move.l  a2,-(sp)
    moveq   #$0,d0
    move.w  d6,d0
    lsl.l   #$3,d0
    pea     (a5,d0.l)
    move.l  a4,-(sp)
    pea     ($0005).w
    pea     ($0004).w
    pea     ($0010).w
    clr.l   -(sp)
    clr.l   -(sp)
    dc.w    $4eb9,$0000,$6298                           ; jsr $006298
    lea     $0020(sp),sp
    move.l  a2,-(sp)
    move.l  a5,d0
    moveq   #$18,d1
    add.l   d1,d0
    move.l  d0,-(sp)
    move.l  a4,d0
    moveq   #$1e,d1
    add.l   d1,d0
    move.l  d0,-(sp)
    pea     ($0003).w
    pea     ($0004).w
    pea     ($000A).w
    pea     ($0001).w
    clr.l   -(sp)
    dc.w    $4eb9,$0000,$6298                           ; jsr $006298
    lea     $0020(sp),sp
    move.w  $0016(a6),d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    move.w  $000e(a6),d0
    move.l  d0,-(sp)
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    move.l  d0,-(sp)
    tst.w   $0022(a6)
    beq.b   .l6748
    moveq   #$19,d0
    bra.b   .l674a
.l6748:                                                 ; $006748
    moveq   #$2,d0
.l674a:                                                 ; $00674A
    move.l  d0,-(sp)
    move.w  d5,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$5f00                           ; jsr $005F00
    movem.l -$005c(a6),d2-d7/a2-a5
    unlk    a6
    rts
; ============================================================================
; FillTileRect -- Fill rectangular VRAM area with repeating tile pattern
; Called: 17 times.
; 362 bytes | $006760-$0068C9
; ============================================================================
FillTileRect:                                                  ; $006760
    link    a6,#-$24
    movem.l d2-d7/a2-a4,-(sp)
    move.l  $0020(a6),d2
    move.l  $0014(a6),d4
    move.l  $000c(a6),d5
    move.l  $0008(a6),d6
    move.l  $0024(a6),d7
    lea     -$0020(a6),a2
    lea     -$0022(a6),a3
    lea     $001a(a6),a4
    tst.w   d4
    ble.w   .l68c0
    tst.w   (a4)
    ble.w   .l68c0
    move.w  d5,d0
    ext.l   d0
    move.w  d4,d1
    ext.l   d1
    add.l   d1,d0
    moveq   #$20,d1
    cmp.l   d0,d1
    bge.w   .l6846
    moveq   #$20,d0
    sub.w   d5,d0
    move.w  d0,(a3)
    move.w  d2,d3
    moveq   #$c,d0
    lsl.w   d0,d3
    move.w  d2,d0
    lsl.w   #$8,d0
    or.l    d0,d3
    move.w  d2,d0
    lsl.w   #$4,d0
    or.l    d0,d3
    or.w    d2,d3
    pea     ($0020).w
    move.w  d3,d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    dc.w    $4eb9,$0001,$d520                           ; jsr $01D520
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    pea     ($0001).w
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$d568                           ; jsr $01D568
    lea     $001c(sp),sp
    move.w  d6,d0
    add.w   d0,d0
    movea.l #$0005f92e,a0
    move.w  (a0,d0.w),d3
    andi.l  #$ffff,d3
    asr.l   #$5,d3
    add.w   d7,d3
    move.w  $001e(a6),d0
    moveq   #$d,d1
    lsl.w   d1,d0
    or.l    d0,d3
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  (a4),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  (a3),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $0012(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($001A).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $001c(sp),sp
    sub.w   (a3),d4
    clr.w   d5
.l6846:                                                 ; $006846
    move.w  d2,d3
    moveq   #$c,d0
    lsl.w   d0,d3
    move.w  d2,d0
    lsl.w   #$8,d0
    or.l    d0,d3
    move.w  d2,d0
    lsl.w   #$4,d0
    or.l    d0,d3
    or.w    d2,d3
    pea     ($0020).w
    move.w  d3,d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    dc.w    $4eb9,$0001,$d520                           ; jsr $01D520
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    pea     ($0001).w
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$d568                           ; jsr $01D568
    lea     $001c(sp),sp
    move.w  $001e(a6),d3
    moveq   #$d,d0
    lsl.w   d0,d3
    or.w    d7,d3
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  (a4),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $0012(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($001A).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
.l68c0:                                                 ; $0068C0
    movem.l -$0048(a6),d2-d7/a2-a4
    unlk    a6
    rts
; ============================================================================
; LoadScreenGfx -- Load and display compressed screen graphics
; Called: 21 times.
; 356 bytes | $0068CA-$006A2D
; ============================================================================
LoadScreenGfx:                                                  ; $0068CA
    link    a6,#$0
    movem.l d2/a2-a3,-(sp)
    move.l  $0008(a6),d2
    movea.l #$0d64,a2
    movea.l #$00ff1804,a3
    move.w  #$7,($00FF9A1C).l
    pea     ($0010).w
    pea     ($0010).w
    pea     ($0007677E).l
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    move.l  ($00095118).l,-(sp)
    move.l  a3,-(sp)
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    lea     $0014(sp),sp
    cmpi.w  #$4,d2
    bge.b   .l6924
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$98d2                           ; jsr $0098D2
    addq.l  #$4,sp
.l6924:                                                 ; $006924
    pea     ($02C0).w
    pea     ($0001).w
    move.l  a3,-(sp)
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
    pea     ($00070198).l
    pea     ($0016).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001B).w
    jsr     (a2)
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a2)
    lea     $0030(sp),sp
    cmpi.w  #$1,$0012(a6)
    bne.b   .l69a2
    pea     ($077F).w
    pea     ($0001).w
    pea     ($0020).w
    pea     ($0016).w
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a2)
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a2)
    lea     $0024(sp),sp
    pea     ($077D).w
    pea     ($0009).w
    pea     ($0020).w
    pea     ($0017).w
    bra.b   .l69b2
.l69a2:                                                 ; $0069A2
    pea     ($21E1).w
    pea     ($000A).w
    pea     ($0020).w
    pea     ($0016).w
.l69b2:                                                 ; $0069B2
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a2)
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a2)
    lea     $0024(sp),sp
    cmpi.w  #$1,$000e(a6)
    bne.b   .l6a24
    pea     ($0010).w
    pea     ($0030).w
    pea     ($0007679E).l
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    pea     ($00070758).l
    pea     ($0016).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a2)
    move.l  ($00095138).l,-(sp)
    move.l  a3,-(sp)
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    lea     $0030(sp),sp
    pea     ($00C0).w
    pea     ($0640).w
    move.l  a3,-(sp)
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
.l6a24:                                                 ; $006A24
    movem.l -$000c(a6),d2/a2-a3
    unlk    a6
    rts
; ============================================================================
; LoadScreen -- Load and initialize a game screen
; Called: 38 times. Args (stack, no link): $10(sp)=screen_type, $14(sp)=screen_id
; ============================================================================
LoadScreen:                                                  ; $006A2E
    movem.l d2-d3/a2,-(sp)
    move.l  $0014(sp),d2                                 ; D2 = screen_id
    move.l  $0010(sp),d3                                 ; D3 = screen_type
    movea.l #$00000D64,a2                                ; A2 = GameCommand
    move.w  d2,($00FF9A1C).l                             ; store screen_id
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($0010).w
    jsr     (a2)                                         ; GameCommand($10,0,$40)
    clr.l   -(sp)
    dc.w    $4EB9,$0000,$538E                            ; jsr CmdSetBackground
    clr.l   -(sp)
    pea     ($0004E1EC).l
    pea     ($0001).w
    pea     ($077F).w
    dc.w    $4EB9,$0001,$D568                            ; jsr VRAMBulkLoad
    lea     $20(sp),sp
    pea     ($077F).w
    pea     ($0001).w
    pea     ($0020).w
    pea     ($0016).w
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a2)                                         ; GameCommand($1A,...)
    lea     $1C(sp),sp
    pea     ($077D).w
    pea     ($0009).w
    pea     ($0020).w
    pea     ($0017).w
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a2)                                         ; GameCommand($1A,...)
    pea     ($0010).w
    pea     ($0010).w
    pea     ($0007677E).l
    dc.w    $4EB9,$0000,$5092                            ; jsr $5092
    lea     $28(sp),sp
    pea     ($00070198).l
    pea     ($0016).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001B).w
    jsr     (a2)                                         ; GameCommand($1B,...)
    move.w  d2,d0
    ext.l   d0
    lsl.l   #2,d0                                        ; D0 = screen_id * 4
    movea.l #$0009511C,a0                                ; A0 = screen table base
    move.l  (a0,d0.l),-(sp)                              ; push table[screen_id]
    pea     ($00FF1804).l
    dc.w    $4EB9,$0000,$3FEC                            ; jsr $3FEC
    lea     $24(sp),sp
    cmpi.w  #$0004,d3                                    ; screen_type >= 4?
    bge.s   .skip_calc
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)                                     ; push screen_id
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)                                     ; push screen_type
    dc.w    $4EB9,$0000,$9C9E                            ; jsr $9C9E
    addq.l  #8,sp
.skip_calc:                                              ; $006B1E
    pea     ($02C0).w
    pea     ($0001).w
    pea     ($00FF1804).l
    dc.w    $4EB9,$0000,$45E6                            ; jsr $45E6
    pea     ($077F).w
    pea     ($0001).w
    pea     ($0020).w
    pea     ($0016).w
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a2)                                         ; GameCommand($1A,...)
    lea     $28(sp),sp
    pea     ($077D).w
    pea     ($0009).w
    pea     ($0020).w
    pea     ($0017).w
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a2)                                         ; GameCommand($1A,...)
    lea     $1C(sp),sp
    movem.l (sp)+,d2-d3/a2
    rts
; ============================================================================
; ShowRelPanel -- Display character relationship/affinity panel
; Called: 40 times.
; Args: $0a(a6)=player_index (l), $0e(a6)=char_index (l)
; Regs: D2-D5/A0-A5 saved. A2=result buf (A6-$C4). A5=player rec ($FF0018+p*36).
; char<7: 2 loops over char record data; char>=7: 32-entry acquaintance scan.
; ============================================================================
ShowRelPanel:                                                ; $006B78
    link    a6,#-$c4
    movem.l d2-d7/a2-a5,-(sp)
    move.w  $000a(a6),d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a5
    moveq   #$1f,d7
    move.w  #$0660,d6
    pea     ($0030).w
    pea     ($0007).w
    pea     ($0010).w
    dc.w    $4eb9,$0000,$0d64            ; jsr GameCommand
    lea     $000c(sp),sp
    lea     -$c4(a6),a2
    cmpi.w  #$7,$000e(a6)
    bge.w   .alt_path
    move.w  $000e(a6),d0
    lsl.w   #2,d0
    movea.l #$0005ecbc,a0
    lea     (a0,d0.w),a0
    move.l  a0,-$4(a6)
    move.b  (a0),d3
    andi.l  #$ff,d3
    move.w  $000e(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$02fe                  ; jsr BitFieldSearch (PC-rel)
    nop
    addq.l  #8,sp
    move.w  d0,d4
    movea.l -$4(a6),a0
    move.b  (a0),d0
    andi.l  #$ff,d0
    add.w   d0,d0
    movea.l #$0005e9fa,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    movea.l -$4(a6),a0
    move.b  $1(a0),d5
    andi.l  #$ff,d5
    bra.w   .loop1_check
.loop1_body:                             ; $006C20
    move.w  d3,d0
    ext.l   d0
    moveq   #0,d1
    move.b  $1(a5),d1
    cmp.l   d1,d0
    bne.b   .l1_b
    move.w  #$0760,d2
    bra.b   .l1_commit
.l1_b:                                   ; $006C34
    cmp.w   d4,d3
    bne.b   .l1_c
    move.w  #$0761,d2
    bra.b   .l1_commit
.l1_c:                                   ; $006C3E
    move.w  d3,d0
    ext.l   d0
    moveq   #1,d1
    lsl.l   d0,d1
    move.l  d1,d0
    move.w  $000a(a6),d1
    lsl.w   #2,d1
    movea.l #$00ffa6a0,a0
    and.l   (a0,d1.w),d0
    beq.b   .l1_d
    move.w  #$0762,d2
    bra.b   .l1_commit
.l1_d:                                   ; $006C60
    move.w  #$0763,d2
.l1_commit:                              ; $006C64
    moveq   #0,d0
    move.b  $1(a3),d0
    addi.w  #$0080,d0
    move.w  d0,(a2)+
    clr.w   (a2)+
    move.w  d2,(a2)+
    moveq   #0,d0
    move.b  (a3),d0
    addi.w  #$0080,d0
    move.w  d0,(a2)+
    move.w  d3,d0
    lsl.w   #3,d0
    move.w  $000a(a6),d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00ffba80,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    moveq   #0,d0
    move.b  (a4),d0
    moveq   #0,d1
    move.b  $1(a4),d1
    sub.w   d1,d0
    move.w  d0,d2
    ble.b   .l1_nobar
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.b  $1(a3),d0
    addq.l  #8,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.b  (a3),d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$dfbe            ; jsr $1DFBE
    lea     $0014(sp),sp
    addq.w  #1,d6
.l1_nobar:                               ; $006CD4
    addq.w  #1,d7
    addq.l  #2,a3
    subq.w  #1,d5
    addq.w  #1,d3
.loop1_check:                            ; $006CDC
    tst.w   d5
    bgt.w   .loop1_body
    movea.l -$4(a6),a0
    move.b  $2(a0),d0
    andi.l  #$ff,d0
    add.w   d0,d0
    movea.l #$0005e9fa,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    movea.l -$4(a6),a0
    move.b  $2(a0),d3
    andi.l  #$ff,d3
    movea.l -$4(a6),a0
    move.b  $3(a0),d5
    andi.l  #$ff,d5
    clr.w   d4
    bra.w   .loop2_check
.loop2_body:                             ; $006D20
    move.w  d4,d0
    ext.l   d0
    moveq   #1,d1
    lsl.l   d0,d1
    move.l  d1,d0
    move.w  $000a(a6),d1
    mulu.w  #$000e,d1
    movea.l d7,a0
    move.w  $000e(a6),d7
    add.w   d7,d7
    exg     d7,a0
    add.w   a0,d1
    movea.l #$00ffbd6c,a0
    move.w  (a0,d1.w),d1
    andi.l  #$ffff,d1
    and.l   d1,d0
    beq.b   .l2_b
    move.w  #$0764,d2
    bra.b   .l2_commit
.l2_b:                                   ; $006D58
    move.w  #$0765,d2
.l2_commit:                              ; $006D5C
    moveq   #0,d0
    move.b  $1(a3),d0
    addi.w  #$0080,d0
    move.w  d0,(a2)+
    clr.w   (a2)+
    move.w  d2,(a2)+
    moveq   #0,d0
    move.b  (a3),d0
    addi.w  #$0080,d0
    move.w  d0,(a2)+
    move.w  d3,d0
    lsl.w   #3,d0
    move.w  $000a(a6),d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00ffba80,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    moveq   #0,d0
    move.b  (a4),d0
    moveq   #0,d1
    move.b  $1(a4),d1
    sub.w   d1,d0
    move.w  d0,d2
    ble.b   .l2_nobar
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.b  $1(a3),d0
    addq.l  #8,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.b  (a3),d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$dfbe            ; jsr $1DFBE
    pea     ($0002).w
    pea     ($000e).w
    dc.w    $4eb9,$0000,$0d64            ; jsr GameCommand
    lea     $001c(sp),sp
    addq.w  #1,d6
.l2_nobar:                               ; $006DDA
    addq.w  #1,d7
    addq.l  #2,a3
    subq.w  #1,d5
    addq.w  #1,d3
    addq.w  #1,d4
.loop2_check:                            ; $006DE4
    tst.w   d5
    bgt.w   .loop2_body
    clr.l   -(sp)
    clr.l   -(sp)
    pea     -$c4(a6)
    movea.l -$4(a6),a0
    move.b  $1(a0),d0
    andi.l  #$ff,d0
    movea.l -$4(a6),a0
    move.b  $3(a0),d1
    andi.l  #$ff,d1
    add.w   d1,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0007).w
    pea     ($000f).w
    dc.w    $4eb9,$0000,$0d64            ; jsr GameCommand
    move.w  $000e(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$9e1c            ; jsr $9E1C
    move.w  $000e(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$03e0                  ; jsr $722A (PC-rel)
    nop
    lea     $0028(sp),sp
    bra.w   .exit
.alt_path:                               ; $006E56
    movea.l #$0005e948,a3
    clr.w   d4
    clr.w   d3
    bra.b   .alt_check
.alt_body:                               ; $006E62
    moveq   #0,d0
    move.b  $1(a5),d0
    cmp.w   d4,d0
    bne.b   .alt_b
    move.w  #$0760,d2
    bra.b   .alt_commit
.alt_b:                                  ; $006E72
    move.w  d4,d0
    ext.l   d0
    moveq   #1,d1
    lsl.l   d0,d1
    move.l  d1,d0
    move.w  $000a(a6),d1
    lsl.w   #2,d1
    movea.l #$00ff08ec,a0
    and.l   (a0,d1.w),d0
    beq.b   .alt_c
    move.w  #$0761,d2
    bra.b   .alt_commit
.alt_c:                                  ; $006E94
    clr.w   d2
.alt_commit:                             ; $006E96
    tst.w   d2
    beq.b   .alt_skip
    moveq   #0,d0
    move.b  $1(a3),d0
    addi.w  #$007c,d0
    move.w  d0,(a2)+
    clr.w   (a2)+
    moveq   #0,d0
    move.w  d2,d0
    move.w  d0,(a2)+
    moveq   #0,d0
    move.b  (a3),d0
    addi.w  #$007c,d0
    move.w  d0,(a2)+
    addq.w  #1,d3
.alt_skip:                               ; $006EBA
    addq.l  #2,a3
    addq.w  #1,d4
.alt_check:                              ; $006EBE
    cmpi.w  #$20,d4
    blt.b   .alt_body
    clr.l   -(sp)
    clr.l   -(sp)
    pea     -$c4(a6)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0007).w
    pea     ($000f).w
    dc.w    $4eb9,$0000,$0d64            ; jsr GameCommand
.exit:                                   ; $006EE0
    movem.l -$ec(a6),d2-d7/a2-a5
    unlk    a6
    rts
; ---------------------------------------------------------------------------
; BitFieldSearch -- Search bitfield in RAM for a set bit
; Args: $C(SP) = entity index (long), $12(SP) = table index (word)
; Returns: D0 = bit position if found, $FF if not
; Uses ROM table at $5ECBC (byte[0]=start bit, byte[1]=count)
; and RAM table at $FF08EC (longwords indexed by entity)
; Called 47 times
; ---------------------------------------------------------------------------
BitFieldSearch:                                                ; $006EEA
    MOVEM.L D2-D3,-(SP)
    MOVE.L  $C(SP),D1                                          ; entity index
    MOVE.W  $12(SP),D0                                         ; table index
    LSL.W   #2,D0                                              ; * 4 (entry size)
    MOVEA.L #$0005ECBC,A0                                      ; ROM lookup table
    LEA     0(A0,D0.W),A0                                      ; point to entry
    MOVEA.L A0,A1                                              ; A1 = entry pointer
    MOVEQ   #0,D0
    MOVE.B  (A1),D0                                            ; start bit position
    MOVEQ   #1,D3
    LSL.L   D0,D3                                              ; D3 = 1 << start_bit (mask)
    CLR.W   D2                                                 ; counter = 0
    BRA.S   .bfs_check
.bfs_loop:                                                     ; $006F10
    MOVE.W  D1,D0
    LSL.W   #2,D0                                              ; entity * 4
    MOVEA.L #$00FF08EC,A0                                      ; RAM bitfield table
    MOVE.L  0(A0,D0.W),D0                                      ; load entity bits
    AND.L   D3,D0                                              ; test current bit
    BEQ.S   .bfs_next                                          ; not set, continue
    MOVEQ   #0,D0
    MOVE.B  (A1),D0                                            ; start bit
    ADD.W   D2,D0                                              ; + offset = actual position
    BRA.S   .bfs_exit                                          ; found
.bfs_next:                                                     ; $006F2A
    ADD.L   D3,D3                                              ; shift mask left by 1
    ADDQ.W  #1,D2                                              ; counter++
.bfs_check:                                                    ; $006F2E
    MOVEQ   #0,D0
    MOVE.B  $1(A1),D0                                          ; bit count limit
    CMP.W   D2,D0                                              ; limit > counter?
    BGT.S   .bfs_loop                                          ; continue searching
    MOVE.W  #$00FF,D0                                          ; not found sentinel
.bfs_exit:                                                     ; $006F3C
    MOVEM.L (SP)+,D2-D3
    RTS
; ============================================================================
; CharCodeCompare -- Compare two character codes, compute compatibility index
; Called: 22 times. Args (stack, no link): $18(SP)=code1 (l), $1C(SP)=code2 (l)
; Returns: D0.W = compatibility index, $FFFF if incompatible, 0 if equal
; Uses tables at $5E356, $5ECBC, $5E546/$5E5BE/$5E5C8/$5E5D8/$5E61E/$5E630/$5E670
; ============================================================================
CharCodeCompare:                                             ; $006F42
    movem.l d2-d5/a2,-(sp)
    move.l  $0018(sp),d2                                 ; D2 = code1
    move.l  $001C(sp),d3                                 ; D3 = code2
    ; Sort so D2 <= D3
    cmp.w   d3,d2
    bls.s   .sorted
    move.w  d2,d4
    move.w  d3,d2
    move.w  d4,d3
.sorted:                                                 ; $006F58
    cmp.w   d3,d2
    bne.s   .not_equal
    clr.w   d2                                           ; equal  return 0
    bra.w   .exit
.not_equal:                                              ; $006F62
    cmpi.w  #$0020,d2
    bcc.s   .check_high                                  ; D2 >= 32  high path
    cmpi.w  #$0020,d3
    bcc.s   .check_high                                  ; D3 >= 32  high path
    ; Both < 32: call CharPairIndex(code2, code1, #$20)
    moveq   #0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    moveq   #0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    pea     ($0020).w
    dc.w    $4EBA,$025E                                  ; jsr (d16,pc)  CharPairIndex ($0071DE)
    nop
    lea     $000C(sp),sp                                 ; clean 3 args
    move.w  d0,d2                                        ; D2 = pair index result
    movea.l #$0005E356,a0                                ; A0 = char range score table
    move.b  (a0,d2.w),d0                                 ; D0 = table[D2]
.exit_mask:                                              ; $006F94
    andi.l  #$000000FF,d0                                ; zero-extend
    move.w  d0,d2                                        ; D2 = score byte
    bra.w   .exit
.check_high:                                             ; $006FA0
    cmpi.w  #$0059,d2
    bcc.w   .fail                                        ; D2 >= 89  fail
    cmpi.w  #$0059,d3
    bcc.w   .fail                                        ; D3 >= 89  fail
    ; [32..88]: RangeLookup both codes, compare categories
    moveq   #0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    dc.w    $4EB9,$0000,$D648                            ; jsr RangeLookup(D2)  D0=cat(D2)
    move.w  d0,d4                                        ; D4 = category(D2)
    moveq   #0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    dc.w    $4EB9,$0000,$D648                            ; jsr RangeLookup(D3)  D0=cat(D3)
    addq.l  #8,sp                                        ; clean 2 args
    move.w  d0,d5                                        ; D5 = category(D3)
    cmp.w   d5,d4
    bne.w   .fail                                        ; different categories  fail
    cmpi.w  #$0020,d2
    bcc.w   .fail                                        ; mixed-class  fail
    ; Same category, D2 < 32: look up range entry at $5ECBC[D4*4]
    move.w  d4,d0
    lsl.w   #2,d0                                        ; D0 = D4 * 4
    movea.l #$0005ECBC,a0                                ; A0 = range entries
    lea     (a0,d0.w),a0                                 ; A0 = &RangeEntry[D4]
    movea.l a0,a2                                        ; A2 = save entry pointer
    move.b  (a0),d0                                      ; D0 = entry base byte [+0]
    andi.l  #$000000FF,d0
    move.w  d2,d1
    sub.w   d0,d1                                        ; D1 = code1 - base
    move.w  d1,d2                                        ; D2 = adjusted code1
    moveq   #0,d0
    move.b  $0002(a2),d0                                 ; D0 = entry byte [+2]
    move.w  d3,d1
    sub.w   d0,d1                                        ; D1 = code2 - base
    move.w  d1,d3                                        ; D3 = adjusted code2
    ; Dispatch via 7-entry jump table (category D4, 0-6)
    moveq   #0,d0
    move.w  d4,d0
    moveq   #6,d1
    cmp.l   d1,d0
    bhi.w   .fail                                        ; category > 6  fail
    add.l   d0,d0                                        ; D0 *= 2 (word index)
    dc.w    $303B,$0806                                  ; move.w ($06,pc,d0.w),d0
    dc.w    $4EFB,$0002                                  ; jmp ($02,pc,d0.w)
.jtab:
    dc.w    .case0-.jtab
    dc.w    .case1-.jtab
    dc.w    .case2-.jtab
    dc.w    .case3-.jtab
    dc.w    .case4-.jtab
    dc.w    .case5-.jtab
    dc.w    .case6-.jtab
.case0:                                                  ; $00702A
    move.w  d2,d0
    dc.w    $C0FC,$0011                                  ; and.w #$0011,d0
    add.w   d3,d0
    movea.l #$0005E546,a0
.shared_lookup:                                          ; $007038 (shared by all cases)
    move.b  (a0,d0.w),d0                                 ; look up score in category table
    bra.w   .exit_mask                                   ;  mask + assign + exit
.case1:                                                  ; $007040
    move.w  d2,d0
    dc.w    $C0FC,$0005                                  ; and.w #$0005,d0
    add.w   d3,d0
    movea.l #$0005E5BE,a0
    bra.s   .shared_lookup
.case2:                                                  ; $007050
    move.w  d2,d0
    dc.w    $C0FC,$0005                                  ; and.w #$0005,d0
    add.w   d3,d0
    movea.l #$0005E5C8,a0
    bra.s   .shared_lookup
.case3:                                                  ; $007060
    move.w  d2,d0
    dc.w    $C0FC,$000A                                  ; and.w #$000A,d0
    add.w   d3,d0
    movea.l #$0005E5D8,a0
    bra.s   .shared_lookup
.case4:                                                  ; $007070
    move.w  d2,d0
    dc.w    $C0FC,$0006                                  ; and.w #$0006,d0
    add.w   d3,d0
    movea.l #$0005E61E,a0
    bra.s   .shared_lookup
.case5:                                                  ; $007080
    move.w  d2,d0
    dc.w    $C0FC,$0009                                  ; and.w #$0009,d0
    add.w   d3,d0
    movea.l #$0005E630,a0
    bra.s   .shared_lookup
.case6:                                                  ; $007090
    move.w  d2,d0
    dc.w    $C0FC,$0005                                  ; and.w #$0005,d0
    add.w   d3,d0
    movea.l #$0005E670,a0
    bra.s   .shared_lookup
.fail:                                                   ; $0070A0
    move.w  #$FFFF,d2
.exit:                                                   ; $0070A4
    cmpi.w  #$FFFF,d2
    beq.s   .final                                       ; fail  skip scaling, return $FFFF
    move.w  d2,d0
    dc.w    $C0FC,$0064                                  ; and.w #$0064,d0 (mask to 0-100)
    move.w  d0,d2
    moveq   #0,d0
    move.w  d2,d0                                        ; zero-extend D2
    bge.s   .no_round                                    ; non-negative  no adjustment
    moveq   #$0F,d1
    add.l   d1,d0                                        ; round toward zero
.no_round:                                               ; $0070BC
    asr.l   #4,d0                                        ; D0 /= 16 (arithmetic)
    move.l  d0,d1
    lsl.l   #2,d0                                        ; D0 *= 4
    add.l   d1,d0                                        ; D0 = D0*4 + D0 = D0*5
    add.l   d0,d0                                        ; D0 *= 2 = D0*10
    moveq   #$0A,d1
    dc.w    $4EB9,$0003,$E08A                            ; jsr SignedDiv (D0/10)
    dc.w    $C0FC,$000A                                  ; and.w #$000A,d0
    move.w  d0,d2                                        ; D2 = scaled result
.final:                                                  ; $0070D4
    move.w  d2,d0                                        ; D0 = return value
    movem.l (sp)+,d2-d5/a2
    rts
; ============================================================================
; CharCodeScore -- Compute percentage match score for two character codes
; Called: 12 times. Args (stack, no link): $C(SP)=code1 (w), $10(SP)=code2 (w)
; Returns: D0.W = percentage score, or $FFFF if no match
; ============================================================================
CharCodeScore:                                               ; $0070DC
    movem.l d2-d3,-(sp)
    move.l  $000C(sp),d2                                 ; D2 = code1
    move.l  $0010(sp),d3                                 ; D3 = code2
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)                                     ; push D3 sign-extended
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)                                     ; push D2 sign-extended
    dc.w    $6100,$FE4C                                  ; bsr.w $006F42 (CharCodeCompare)
    addq.l  #8,sp                                        ; clean 2 args
    move.w  d0,d2                                        ; D2 = compare result
    tst.w   d2                                           ; result == 0?
    beq.s   .no_match
    cmpi.w  #$FFFF,d2
    bne.s   .has_result
.no_match:                                               ; $007106
    move.w  #$FFFF,d2
    bra.s   .scale
.has_result:                                             ; $00710C
    moveq   #0,d0
    move.w  d2,d0
    asr.l   #2,d0
    addi.l  #$78,d0
    moveq   #$0A,d1
    dc.w    $4EB9,$0003,$E08A                             ; jsr $03E08A
    dc.w    $C0FC,$000A                                  ; and.w #$000A,d0
    move.w  d0,d2
.scale:                                                  ; $007126
    move.w  ($00FF0002).l,d0
    ext.l   d0
    moveq   #3,d1
    sub.l   d0,d1
    move.l  d1,d0
    add.l   d0,d0
    add.l   d1,d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #0,d1
    move.w  d2,d1
    dc.w    $4EB9,$0003,$E05C                             ; jsr Multiply32
    moveq   #$64,d1
    dc.w    $4EB9,$0003,$E08A                             ; jsr $03E08A
    move.w  d0,d2                                        ; D2 = final result
    movem.l (sp)+,d2-d3
    rts
; ============================================================================
; RangeMatch -- Check if two char codes map to the same range category
; Called: 10 times. Args (stack, no link): $14(SP)=code1 (w), $18(SP)=code2 (w)
; Returns: D0.W = 1 (same range), 0 (different range), $FF (out of range)
; Uses A2 = RangeLookup ($0000D648)
; ============================================================================
RangeMatch:                                              ; $007158
    movem.l d2-d4/a2,-(sp)
    move.l  $0014(sp),d2                                 ; D2 = code1
    move.l  $0018(sp),d3                                 ; D3 = code2
    movea.l #$0000D648,a2                                ; A2 = RangeLookup
    cmp.w   d3,d2                                        ; D2 <= D3?
    ble.s   .sorted
    move.w  d2,d4                                        ; swap D2, D3 to ensure D2 <= D3
    move.w  d3,d2
    move.w  d4,d3
.sorted:                                                 ; $007174
    cmp.w   d3,d2                                        ; D2 == D3?
    beq.s   .return_ff                                   ; equal  not comparable
    cmpi.w  #$0020,d2
    bge.s   .check_high                                  ; D2 >= 32  check upper range
    cmpi.w  #$0020,d3
    bge.s   .check_high                                  ; D3 >= 32  check upper range
    ; both codes < 32: compare via RangeLookup
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    jsr     (a2)                                         ; RangeLookup(D2)
    move.w  d0,d4                                        ; D4 = RangeLookup(D2)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    jsr     (a2)                                         ; RangeLookup(D3)
    addq.l  #8,sp
    move.w  d0,d3                                        ; D3 = RangeLookup(D3)
    cmp.w   d3,d4                                        ; same range?
    bne.s   .return_zero
.return_one:                                             ; $00719E
    moveq   #1,d2
    bra.s   .return_d2
.return_zero:                                            ; $0071A2
    clr.w   d2
    bra.s   .return_d2
.check_high:                                             ; $0071A6
    cmpi.w  #$0059,d2
    bge.s   .return_ff
    cmpi.w  #$0059,d3
    bge.s   .return_ff
    ; 32 <= code < 89: compare via RangeLookup
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    jsr     (a2)                                         ; RangeLookup(D2)
    move.w  d0,d4
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    jsr     (a2)                                         ; RangeLookup(D3)
    addq.l  #8,sp
    move.w  d0,d3
    cmp.w   d3,d4
    bne.s   .return_ff
    cmpi.w  #$0020,d2
    blt.s   .return_one                                  ; D2 < 32  return 1
.return_ff:                                              ; $0071D2
    move.w  #$00FF,d2
.return_d2:                                              ; $0071D6
    move.w  d2,d0
    movem.l (sp)+,d2-d4/a2
    rts
; ============================================================================
; CharPairIndex -- Compute triangular index for a pair of character codes
; Called: 1 time (from CharCodeCompare low path).
; Args (stack, no link): $14(SP)=limit (l), $18(SP)=code1 (l), $1C(SP)=code2 (l)
; Returns: D0.W = triangular/pair index, or $FFFF if out of range
; ============================================================================
CharPairIndex:                                               ; $0071DE
    movem.l d2-d5,-(sp)
    move.l  $0014(sp),d2                                 ; D2 = limit ($0020)
    move.l  $0018(sp),d4                                 ; D4 = code1 (arg2)
    move.l  $001C(sp),d5                                 ; D5 = code2 (arg3)
    clr.w   d3                                           ; D3 = 0 (result accumulator)
    cmp.w   d4,d2                                        ; limit vs code1
    ble.s   .fail                                        ; if limit <= code1, fail
    cmp.w   d5,d2                                        ; limit vs code2
    ble.s   .fail                                        ; if limit <= code2, fail
    cmp.w   d5,d4                                        ; code1 vs code2
    bne.s   .compare                                     ; if code1 != code2, compare
.fail:                                                   ; $0071FC
    move.w  #$FFFF,d3
    bra.s   .return
.compare:                                                ; $007202
    cmp.w   d5,d4                                        ; re-check code1 vs code2
    bge.s   .sorted                                      ; if code1 >= code2 (signed), sorted
    move.w  d4,d2                                        ; swap step 1: D2 = code1 (min)
    move.w  d5,d4                                        ; swap step 2: D4 = code2 (max)
    move.w  d2,d5                                        ; swap step 3: D5 = code1 (min saved)
.sorted:                                                 ; $00720A
    clr.w   d2                                           ; D2 = 0 (loop counter)
    bra.s   .check                                       ; enter loop at check
.loop:                                                   ; $007210
    add.w   d2,d3                                        ; D3 += D2
    addq.w  #1,d2                                        ; D2++
.check:                                                  ; $007214
    moveq   #0,d0
    move.w  d2,d0                                        ; D0 = counter
    move.w  d4,d1                                        ; D1 = loop bound (D4)
    ext.l   d1
    cmp.l   d1,d0
    blt.s   .loop                                        ; if D0 < D4, continue
    add.w   d5,d3                                        ; D3 += loop start offset
.return:                                                 ; $007222
    move.w  d3,d0                                        ; D0 = result
    movem.l (sp)+,d2-d5
    rts
    dc.w    $4E56,$FFFC,$48E7                            ; $00722A (start of next function)
    dc.w    $3F30,$2E2E,$000C,$47EE,$000A,$3013,$C0FC,$0007; $007230
    dc.w    $D047,$207C,$00FF,$A7BC,$1030,$0000,$0280,$0000; $007240
    dc.w    $00FF,$3D40,$FFFE,$4242,$7602,$6000,$0122,$B447; $007250
    dc.w    $6700,$011A,$3002,$48C0,$7201,$E1A9,$2001,$7200; $007260
    dc.w    $322E,$FFFE,$C081,$6700,$0104,$3002,$48C0,$2F00; $007270
    dc.w    $3013,$48C0,$2F00,$6100,$FC62,$508F,$3800,$0C40; $007280
    dc.w    $00FF,$6616,$3002,$48C0,$2F00,$3013,$48C0,$2F00; $007290
    dc.w    $4EB9,$0000,$9DC4,$508F,$3800,$3007,$C0FC,$000E; $0072A0
    dc.w    $3202,$D241,$D041,$207C,$0005,$E234,$41F0,$0000; $0072B0
    dc.w    $2448,$3A03,$DA45,$0645,$0670,$3004,$ED48,$207C; $0072C0
    dc.w    $0005,$1942,$4870,$0000,$4878,$0001,$4878,$0002; $0072D0
    dc.w    $7000,$3005,$2F00,$4EB9,$0001,$D7BE,$4FEF,$0010; $0072E0
    dc.w    $0C12,$00F0,$6406,$7800,$1812,$6006,$283C,$0000; $0072F0
    dc.w    $00F0,$0C2A,$009F,$0001,$6408,$7C00,$1C2A,$0001; $007300
    dc.w    $6006,$2C3C,$0000,$009F,$0C43,$0006,$6E1E,$42A7; $007310
    dc.w    $4878,$0001,$4878,$0002,$3006,$48C0,$2F00,$3004; $007320
    dc.w    $48C0,$2F00,$3003,$48C0,$2F00,$6020,$0C43,$0007; $007330
    dc.w    $6638,$42A7,$4878,$0001,$4878,$0002,$3006,$48C0; $007340
    dc.w    $2F00,$3004,$48C0,$2F00,$4878,$003F,$7000,$3005; $007350
    dc.w    $2F00,$4EB9,$0001,$E044,$4878,$0001,$4878,$000E; $007360
    dc.w    $4EB9,$0000,$0D64,$4FEF,$0024,$5243,$5242,$0C42; $007370
    dc.w    $0007,$6D00,$FEDA,$4CEE,$0CFC,$FFDC,$4E5E,$4E75; $007380
; ============================================================================
; SetHighNibble -- (TODO: describe)
; Called: ?? times.
; 22 bytes | $007390-$0073A5
; ============================================================================
SetHighNibble:                                                  ; $007390
    movea.l $0004(sp),a0
    andi.b  #$0f,$0002(a0)
    move.b  $000b(sp),d0
    lsl.b   #$04,d0
    or.b    d0,$0002(a0)
    rts
; ============================================================================
; UpdateCharField -- (TODO: describe)
; Called: 8 times.
; 92 bytes | $0073A6-$007401
; ============================================================================
UpdateCharField:                                                  ; $0073A6
    movem.l d2/a2,-(sp)
    move.l  $0010(sp),d2
    movea.l $000c(sp),a2
    andi.b  #$f0,$0002(a2)
    move.b  d2,d0
    or.b    d0,$0002(a2)
    move.l  a2,-(sp)
    dc.w    $4eba,$0050                                 ; jsr $007412
    nop
    addq.l  #$4,sp
    ext.l   d0
    move.w  d2,d1
    ext.l   d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$14,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.b  d0,$000b(a2)
    move.b  $0003(a2),d0
    cmp.b   $000b(a2),d0
    bcc.b   .l73f2
    moveq   #$0,d0
    move.b  $0003(a2),d0
    bra.b   .l73f8
.l73f2:                                                 ; $0073F2
    moveq   #$0,d0
    move.b  $000b(a2),d0
.l73f8:                                                 ; $0073F8
    move.b  d0,$0003(a2)
    movem.l (sp)+,d2/a2
    rts
; === GetLowNibble ($007402, 16B) ===
GetLowNibble:                                                         ; $007402
    MOVEA.L $4(SP),A0
    MOVE.B  $2(A0),D1
    ANDI.W  #$000F,D1
    MOVE.W  D1,D0
    RTS
; ============================================================================
; CalcCompatScore -- (TODO: describe)
; Called: 8 times.
; 206 bytes | $007412-$0074DF
; ============================================================================
CalcCompatScore:                                                  ; $007412
    movem.l d2-d3/a2,-(sp)
    movea.l $0010(sp),a2
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  (a2),d0
    move.l  d0,-(sp)
    dc.w    $6100,$fb18                                 ; bsr.w $006F42
    move.w  d0,d2
    cmpi.w  #$3200,d2
    bls.b   .l7438
    moveq   #$1e,d3
    bra.b   .l7466
.l7438:                                                 ; $007438
    cmpi.w  #$1900,d2
    bls.b   .l7442
    moveq   #$23,d3
    bra.b   .l7466
.l7442:                                                 ; $007442
    cmpi.w  #$0c80,d2
    bls.b   .l744c
    moveq   #$32,d3
    bra.b   .l7466
.l744c:                                                 ; $00744C
    cmpi.w  #$0640,d2
    bls.b   .l7456
    moveq   #$64,d3
    bra.b   .l7466
.l7456:                                                 ; $007456
    cmpi.w  #$0320,d2
    bls.b   .l7462
    move.w  #$96,d3
    bra.b   .l7466
.l7462:                                                 ; $007462
    move.w  #$c8,d3
.l7466:                                                 ; $007466
    move.l  a2,-(sp)
    dc.w    $4eba,$0076                                 ; jsr $0074E0
    nop
    lea     $000c(sp),sp
    movea.l #$00ff1278,a0
    move.b  (a0,d0.w),d2
    andi.l  #$ff,d2
    cmpi.w  #$3,d2
    bcc.b   .l7492
    move.w  d3,d0
    ext.l   d0
    move.l  d0,d1
    lsl.l   #$3,d0
    bra.b   .l74be
.l7492:                                                 ; $007492
    cmpi.w  #$18,d2
    beq.b   .l74b6
    cmpi.w  #$19,d2
    beq.b   .l74b6
    cmpi.w  #$2f,d2
    beq.b   .l74b6
    cmpi.w  #$32,d2
    beq.b   .l74b6
    cmpi.w  #$33,d2
    beq.b   .l74b6
    cmpi.w  #$34,d2
    bne.b   .l74ca
.l74b6:                                                 ; $0074B6
    move.w  d3,d0
    ext.l   d0
    move.l  d0,d1
    lsl.l   #$4,d0
.l74be:                                                 ; $0074BE
    sub.l   d1,d0
    moveq   #$a,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.w  d0,d3
.l74ca:                                                 ; $0074CA
    cmpi.w  #$1e,d3
    ble.b   .l74d6
    move.w  d3,d0
    ext.l   d0
    bra.b   .l74d8
.l74d6:                                                 ; $0074D6
    moveq   #$1e,d0
.l74d8:                                                 ; $0074D8
    move.w  d0,d3
    movem.l (sp)+,d2-d3/a2
    rts
; ---------------------------------------------------------------------------
; GetByteField4 -- Extract high nibble from byte[2] of structure
; Args: $4(SP) = pointer to structure
; Returns: D0 = high nibble (bits 7-4) of byte at offset 2
; Called 36 times
; ---------------------------------------------------------------------------
GetByteField4:                                                 ; $0074E0
    MOVEA.L $4(SP),A0                                          ; load structure pointer
    MOVE.B  $2(A0),D1                                          ; get byte at offset 2
    ANDI.L  #$000000FF,D1                                      ; mask to unsigned byte
    ASR.L   #4,D1                                              ; shift right 4 (high nibble)
    ANDI.W  #$000F,D1                                          ; mask to 4 bits
    MOVE.W  D1,D0                                              ; return in D0
    RTS
; ============================================================================
; CountMatchingChars -- (TODO: describe)
; Called: ?? times.
; 166 bytes | $0074F8-$00759D
; ============================================================================
CountMatchingChars:                                                  ; $0074F8
    movem.l d2-d5/a2-a3,-(sp)
    move.l  $001c(sp),d3
    move.l  $0020(sp),d4
    clr.w   d2
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$d648                           ; jsr $00D648
    move.w  d0,d5
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $6100,$f9c8                                 ; bsr.w $006EEA
    lea     $000c(sp),sp
    move.w  d0,d5
    cmpi.w  #$ff,d5
    bne.b   .l7534
    clr.w   d2
    bra.b   .l7596
.l7534:                                                 ; $007534
    move.w  d3,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    moveq   #$0,d0
    move.b  $0004(a3),d0
    mulu.w  #$14,d0
    move.w  d3,d1
    mulu.w  #$0320,d1
    add.w   d1,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d3
    bra.b   .l758c
.l7568:                                                 ; $007568
    moveq   #$0,d0
    move.b  (a2),d0
    cmp.w   d4,d0
    bne.b   .l7574
.l7570:                                                 ; $007570
    addq.w  #$1,d2
    bra.b   .l7586
.l7574:                                                 ; $007574
    moveq   #$0,d0
    move.b  $0001(a2),d0
    cmp.w   d4,d0
    beq.b   .l7570
    moveq   #$0,d0
    move.b  (a2),d0
    cmp.w   d5,d0
    bhi.b   .l7596
.l7586:                                                 ; $007586
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d3
.l758c:                                                 ; $00758C
    moveq   #$0,d0
    move.b  $0005(a3),d0
    cmp.w   d3,d0
    bhi.b   .l7568
.l7596:                                                 ; $007596
    move.w  d2,d0
    movem.l (sp)+,d2-d5/a2-a3
    rts
; ============================================================================
; FindCharSlot -- (TODO: describe)
; Called: ?? times.
; 114 bytes | $00759E-$00760F
; ============================================================================
FindCharSlot:                                                  ; $00759E
    movem.l d2-d6/a2,-(sp)
    move.l  $001c(sp),d2
    move.l  $0020(sp),d4
    clr.w   d5
    move.w  d2,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a1
    moveq   #$0,d3
    move.b  $0004(a1),d3
    move.w  d3,d6
    move.w  d2,d0
    mulu.w  #$0320,d0
    move.w  d6,d1
    mulu.w  #$14,d1
    add.w   d1,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
    bra.b   .l75f8
.l75e4:                                                 ; $0075E4
    moveq   #$0,d0
    move.b  (a2),d0
    cmp.w   d4,d0
    bne.b   .l75f0
    moveq   #$1,d5
    bra.b   .l7602
.l75f0:                                                 ; $0075F0
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d3
    addq.w  #$1,d2
.l75f8:                                                 ; $0075F8
    moveq   #$0,d0
    move.b  $0005(a1),d0
    cmp.w   d2,d0
    bhi.b   .l75e4
.l7602:                                                 ; $007602
    tst.w   d5
    bne.b   .l7608
    moveq   #$ff,d3
.l7608:                                                 ; $007608
    move.w  d3,d0
    movem.l (sp)+,d2-d6/a2
    rts
; ============================================================================
; CalcTypeDistance -- (TODO: describe)
; Called: 10 times.
; 140 bytes | $007610-$00769B
; ============================================================================
CalcTypeDistance:                                                  ; $007610
    movem.l d2-d3,-(sp)
    move.w  $000e(sp),d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    move.b  (a0,d0.w),d2
    andi.l  #$ff,d2
    move.w  $0012(sp),d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    move.b  (a0,d0.w),d1
    andi.l  #$ff,d1
    cmp.w   d1,d2
    bne.b   .l7648
    clr.w   d2
    bra.b   .l7694
.l7648:                                                 ; $007648
    movea.l #$00ff99a4,a0
    move.b  (a0,d2.w),d3
    andi.l  #$ff,d3
    movea.l #$00ff99a4,a0
    move.b  (a0,d1.w),d2
    andi.l  #$ff,d2
    cmpi.w  #$4,d3
    beq.b   .l7692
    cmpi.w  #$4,d2
    beq.b   .l7692
    move.w  d3,d0
    sub.w   d2,d0
    move.w  d0,d2
    tst.w   d2
    bge.b   .l7682
    neg.w   d2
    bra.b   .l7694
.l7682:                                                 ; $007682
    tst.w   d2
    bne.b   .l7694
    cmpi.w  #$1,d3
    beq.b   .l7692
    cmpi.w  #$2,d3
    bne.b   .l7694
.l7692:                                                 ; $007692
    moveq   #$1,d2
.l7694:                                                 ; $007694
    move.w  d2,d0
    movem.l (sp)+,d2-d3
    rts
CalcCharRating:                                                  ; $00769C
    link    a6,#-$4
    movem.l d2-d6,-(sp)
    move.l  $000c(a6),d2
    move.l  $0008(a6),d4
    clr.w   d3
    moveq   #$0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    dc.w    $4eba,$26d6                                 ; jsr $009D92
    nop
    move.w  d0,d6
    moveq   #$0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$d648                           ; jsr $00D648
    move.w  d0,d5
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6eea                           ; jsr $006EEA
    lea     $0014(sp),sp
    ext.l   d0
    moveq   #$0,d1
    move.w  d2,d1
    cmp.l   d1,d0
    beq.b   .l7708
    moveq   #$0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    dc.w    $4eba,$002a                                 ; jsr $007728
    nop
    cmpi.w  #$1,d0
    bne.b   .l770a
.l7708:                                                 ; $007708
    moveq   #$1,d3
.l770a:                                                 ; $00770A
    move.w  d6,d2
    mulu.w  #$19,d2
    move.w  d3,d0
    mulu.w  #$19,d0
    sub.w   d0,d2
    addi.w  #$32,d2
    move.w  d2,d0
    movem.l -$0018(a6),d2-d6
    unlk    a6
    rts
; ============================================================================
; FindSlotByChar -- (TODO: describe)
; Called: ?? times.
; 92 bytes | $007728-$007783
; ============================================================================
FindSlotByChar:                                                  ; $007728
    movem.l d2-d4,-(sp)
    move.l  $0014(sp),d2
    move.l  $0010(sp),d4
    cmpi.w  #$20,d2
    bcc.b   .l7750
    move.w  d2,d0
    mulu.w  #$6,d0
    movea.l #$00ff0420,a0
    lea     (a0,d0.w),a0
    movea.l a0,a1
    moveq   #$6,d3
    bra.b   .l7762
.l7750:                                                 ; $007750
    move.w  d2,d0
    lsl.w   #$2,d0
    movea.l #$00ff0460,a0
    lea     (a0,d0.w),a0
    movea.l a0,a1
    moveq   #$4,d3
.l7762:                                                 ; $007762
    clr.w   d1
    clr.w   d2
    bra.b   .l7778
.l7768:                                                 ; $007768
    moveq   #$0,d0
    move.b  (a1),d0
    cmp.w   d4,d0
    bne.b   .l7774
    moveq   #$1,d1
    bra.b   .l777c
.l7774:                                                 ; $007774
    addq.l  #$1,a1
    addq.w  #$1,d2
.l7778:                                                 ; $007778
    cmp.w   d3,d2
    bcs.b   .l7768
.l777c:                                                 ; $00777C
    move.w  d1,d0
    movem.l (sp)+,d2-d4
    rts
; ============================================================================
; SelectPreviewPage -- (TODO: describe)
; Called: ?? times.
; 398 bytes | $007784-$007911
; ============================================================================
SelectPreviewPage:                                                  ; $007784
    link    a6,#-$c
    movem.l d2-d7/a2-a4,-(sp)
    move.l  $000c(a6),d6
    move.l  $0008(a6),d7
    movea.l #$0004745c,a2
    movea.l #$0001d568,a3
    movea.l #$0d64,a4
    moveq   #$1,d3
    move.w  #$0754,d5
    clr.w   d2
    moveq   #$0,d4
    move.w  d5,d4
    move.w  d2,d0
    ext.l   d0
    add.l   d0,d4
.l77b8:                                                 ; $0077B8
    move.w  d2,d0
    add.w   d0,d0
    move.w  d4,-$c(a6,d0.w)
    addq.l  #$1,d4
    addq.w  #$1,d2
    cmpi.w  #$6,d2
    blt.b   .l77b8
    clr.l   -(sp)
    clr.l   -(sp)
    move.l  a2,-(sp)
    pea     ($0006).w
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d0,-(sp)
    jsr     (a3)
    pea     -$000c(a6)
    pea     ($0001).w
    pea     ($0006).w
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a4)
    lea     $0030(sp),sp
.l7800:                                                 ; $007800
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$e1ec                           ; jsr $01E1EC
    addq.l  #$4,sp
    andi.w  #$0fff,d0
    bne.b   .l7800
.l7810:                                                 ; $007810
    pea     ($0001).w
    pea     ($0003).w
    dc.w    $4eb9,$0001,$d62c                           ; jsr $01D62C
    addq.l  #$8,sp
    move.w  d0,d2
    andi.l  #$3c,d0
    beq.b   .l7810
    pea     ($0003).w
    pea     ($000E).w
    jsr     (a4)
    addq.l  #$8,sp
    move.w  d2,d0
    andi.w  #$c,d0
    beq.b   .l788a
    move.w  d2,d0
    andi.w  #$4,d0
    beq.b   .l7866
    cmpi.w  #$1,d3
    beq.b   .l7862
    clr.l   -(sp)
    clr.l   -(sp)
    move.l  a2,-(sp)
    pea     ($0006).w
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d0,-(sp)
    jsr     (a3)
    lea     $0014(sp),sp
.l7862:                                                 ; $007862
    moveq   #$1,d3
    bra.b   .l788a
.l7866:                                                 ; $007866
    tst.w   d3
    beq.b   .l7888
    clr.l   -(sp)
    clr.l   -(sp)
    move.l  a2,d0
    addi.l  #$c0,d0
    move.l  d0,-(sp)
    pea     ($0006).w
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d0,-(sp)
    jsr     (a3)
    lea     $0014(sp),sp
.l7888:                                                 ; $007888
    clr.w   d3
.l788a:                                                 ; $00788A
    move.w  d2,d0
    andi.w  #$30,d0
    beq.w   .l7810
    cmpi.w  #$1,d3
    bne.b   .l78a6
    move.w  d2,d0
    andi.w  #$20,d0
    beq.b   .l78a6
    moveq   #$1,d3
    bra.b   .l78b0
.l78a6:                                                 ; $0078A6
    move.w  d2,d0
    andi.w  #$10,d0
    beq.b   .l78b0
    clr.w   d3
.l78b0:                                                 ; $0078B0
    cmpi.w  #$1,d3
    bne.b   .l78be
    clr.l   -(sp)
    clr.l   -(sp)
    move.l  a2,-(sp)
    bra.b   .l78cc
.l78be:                                                 ; $0078BE
    clr.l   -(sp)
    clr.l   -(sp)
    move.l  a2,d0
    addi.l  #$c0,d0
    move.l  d0,-(sp)
.l78cc:                                                 ; $0078CC
    pea     ($0006).w
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d0,-(sp)
    jsr     (a3)
    pea     ($0004).w
    pea     ($000E).w
    jsr     (a4)
    lea     $001c(sp),sp
    pea     ($02EC).w
    pea     ($0001).w
    pea     ($0006).w
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a4)
    move.w  d3,d0
    movem.l -$0030(a6),d2-d7/a2-a4
    unlk    a6
    rts
; ============================================================================
; ShowDialog -- Display dialog with table lookup and optional input (38 calls)
; No link frame. Args via sp: d2=index, a2=data ptr, d6=row, d5=flag1, d4=flag2
; Returns result in d0 (from $7784 if flag1, else d3 default).
; ============================================================================
ShowDialog:                                                  ; $007912
    movem.l d2-d6/a2,-(sp)
    move.l  $001C(sp),d2                                     ; arg1: index
    move.l  $002C(sp),d4                                     ; arg5: flag2
    move.l  $0028(sp),d5                                     ; arg4: flag1
    move.l  $0024(sp),d6                                     ; arg3: row
    movea.l $0020(sp),a2                                     ; arg2: data pointer
    pea     ($0020).w                                        ; width = 32
    pea     ($0020).w                                        ; height = 32
    clr.l   -(sp)                                            ; left = 0
    clr.l   -(sp)                                            ; top = 0
    dc.w    $4EB9,$0003,$A942                                ; jsr SetTextWindow
    move.l  a2,-(sp)                                         ; data pointer
    pea     ($0001).w
    pea     ($0001).w
    move.w  d6,d0
    move.l  d0,-(sp)                                         ; row (extended)
    move.w  d2,d0
    move.l  d0,-(sp)                                         ; index (extended)
    pea     ($0002).w
    pea     ($0780).w
    move.w  d2,d0
    mulu.w  #$000A,d0                                        ; index * 10
    movea.l #$00FF03C0,a0                                    ; lookup table base
    move.w  (a0,d0.w),d1                                     ; table[index*10]
    move.l  d1,-(sp)
    dc.w    $4EB9,$0000,$643C                                ; jsr $643C (display fn)
    lea     $30(sp),sp                                       ; clean 48 bytes
    cmpi.w  #$0001,d5                                        ; flag1 == 1?
    bne.s   .check_f2                                        ; no, check flag2
    pea     ($001A).w
    pea     ($0008).w
    dc.w    $6100,$FE02                                      ; bsr.w $007784 (input fn)
    addq.l  #8,sp                                            ; clean args
    move.w  d0,d3                                            ; d3 = result
    bra.s   .epilogue
.check_f2:                                                   ; $00798A
    cmpi.w  #$0001,d4                                        ; flag2 == 1?
    bne.s   .epilogue                                        ; no, skip
    pea     ($0001).w
    pea     ($0003).w
    dc.w    $4EB9,$0001,$D62C                                ; jsr PollAction
    addq.l  #8,sp                                            ; clean args
.epilogue:                                                   ; $0079A0
    move.w  d3,d0                                            ; return value
    movem.l (sp)+,d2-d6/a2
    rts
    dc.w    $48E7,$3E00,$242F,$0020                          ; $0079A8 (next fn)
    dc.w    $282F,$001C,$2A2F,$0018,$4243,$0C42,$0020,$6C1A; $0079B0
    dc.w    $3002,$48C0,$7201,$E1A9,$2001,$3205,$E549,$207C; $0079C0
    dc.w    $00FF,$A6A0,$C0B0,$1000,$603E,$0C44,$00FF,$6610; $0079D0
    dc.w    $3002,$48C0,$2F00,$4EB9,$0000,$D648,$588F,$3800; $0079E0
    dc.w    $3002,$48C0,$7201,$E1A9,$2001,$3205,$C2FC,$000E; $0079F0
    dc.w    $3C04,$DC46,$D246,$207C,$00FF,$BD6C,$3230,$1000; $007A00
    dc.w    $0281,$0000,$FFFF,$C081,$6702,$7601,$3003,$4CDF; $007A10
    dc.w    $007C,$4E75                                      ; $007A20
; ============================================================================
; CheckBitField -- (TODO: describe)
; Called: ?? times.
; 80 bytes | $007A24-$007A73
; ============================================================================
CheckBitField:                                                  ; $007A24
    movem.l d2-d5,-(sp)
    move.l  $0018(sp),d2
    move.l  $001c(sp),d4
    move.l  $0014(sp),d5
    clr.w   d3
    cmpi.w  #$ff,d2
    bne.b   .l7a4c
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$d648                           ; jsr $00D648
    addq.l  #$4,sp
    move.w  d0,d2
.l7a4c:                                                 ; $007A4C
    move.w  d5,d0
    lsl.w   #$2,d0
    movea.l #$00ffa6a0,a0
    move.l  (a0,d0.w),d0
    move.w  d2,d1
    lsl.w   #$2,d1
    movea.l #$0005ecdc,a0
    and.l   (a0,d1.w),d0
    beq.b   .l7a6c
    moveq   #$1,d3
.l7a6c:                                                 ; $007A6C
    move.w  d3,d0
    movem.l (sp)+,d2-d5
    rts
AdjustScrollPos:                                                  ; $007A74
    movem.l d2/a2,-(sp)
    move.l  $0010(sp),d2
    movea.l $000c(sp),a2
    move.w  d2,d0
    andi.w  #$f,d0
    beq.w   .l7b18
    move.w  d2,d0
    andi.w  #$1,d0
    beq.b   .l7ab0
    moveq   #$0,d0
    move.w  $0002(a2),d0
    subq.l  #$2,d0
    moveq   #$1,d1
    cmp.l   d0,d1
    bge.b   .l7aaa
    moveq   #$0,d0
    move.w  $0002(a2),d0
    subq.l  #$2,d0
    bra.b   .l7aac
.l7aaa:                                                 ; $007AAA
    moveq   #$1,d0
.l7aac:                                                 ; $007AAC
    move.w  d0,$0002(a2)
.l7ab0:                                                 ; $007AB0
    move.w  d2,d0
    andi.w  #$2,d0
    beq.b   .l7adc
    moveq   #$0,d0
    move.w  $0002(a2),d0
    addq.l  #$2,d0
    cmpi.l  #$90,d0
    bge.b   .l7ad2
    moveq   #$0,d0
    move.w  $0002(a2),d0
    addq.l  #$2,d0
    bra.b   .l7ad8
.l7ad2:                                                 ; $007AD2
    move.l  #$90,d0
.l7ad8:                                                 ; $007AD8
    move.w  d0,$0002(a2)
.l7adc:                                                 ; $007ADC
    move.w  d2,d0
    andi.w  #$8,d0
    beq.b   .l7af8
    moveq   #$0,d0
    move.w  (a2),d0
    addq.l  #$2,d0
    move.l  #$0100,d1
    dc.w    $4eb9,$0003,$e146                           ; jsr $03E146
    move.w  d0,(a2)
.l7af8:                                                 ; $007AF8
    move.w  d2,d0
    andi.w  #$4,d0
    beq.b   .l7b18
    moveq   #$0,d0
    move.w  (a2),d0
    addi.l  #$fe,d0
    move.l  #$0100,d1
    dc.w    $4eb9,$0003,$e146                           ; jsr $03E146
    move.w  d0,(a2)
.l7b18:                                                 ; $007B18
    movem.l (sp)+,d2/a2
    rts
; ============================================================================
; HitTestMapTile -- (TODO: describe)
; Called: ?? times.
; 286 bytes | $007B1E-$007C3B
; ============================================================================
HitTestMapTile:                                                  ; $007B1E
    movem.l d2-d4/a2-a3,-(sp)
    movea.l $0018(sp),a1
    move.w  $001e(sp),d0
    lsl.w   #$2,d0
    movea.l #$0005ecbc,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    moveq   #$0,d0
    move.b  (a3),d0
    add.w   d0,d0
    movea.l #$0005e9fa,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
    move.w  $0002(a1),d4
    move.w  (a1),d3
    bra.b   .l7ba6
.l7b54:                                                 ; $007B54
    moveq   #$0,d0
    move.w  d3,d0
    moveq   #$0,d1
    move.b  (a2),d1
    subq.l  #$2,d1
    cmp.l   d1,d0
    blt.b   .l7ba2
    moveq   #$0,d0
    move.w  d4,d0
    moveq   #$0,d1
    move.b  $0001(a2),d1
    subq.l  #$2,d1
    cmp.l   d1,d0
    blt.b   .l7ba2
    moveq   #$0,d0
    move.w  d3,d0
    moveq   #$0,d1
    move.b  (a2),d1
    addi.l  #$a,d1
    cmp.l   d1,d0
    bge.b   .l7ba2
    moveq   #$0,d0
    move.w  d4,d0
    moveq   #$0,d1
    move.b  $0001(a2),d1
    addi.l  #$a,d1
    cmp.l   d1,d0
    bge.b   .l7ba2
    moveq   #$0,d0
    move.b  (a3),d0
.l7b9c:                                                 ; $007B9C
    add.w   d2,d0
    bra.w   .l7c36
.l7ba2:                                                 ; $007BA2
    addq.l  #$2,a2
    addq.w  #$1,d2
.l7ba6:                                                 ; $007BA6
    move.w  d2,d0
    ext.l   d0
    moveq   #$0,d1
    move.b  $0001(a3),d1
    cmp.l   d1,d0
    blt.b   .l7b54
    moveq   #$0,d0
    move.b  $0002(a3),d0
    add.w   d0,d0
    movea.l #$0005e9fa,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
    move.w  $0002(a1),d4
    move.w  (a1),d3
    bra.b   .l7c24
.l7bd2:                                                 ; $007BD2
    moveq   #$0,d0
    move.w  d3,d0
    moveq   #$0,d1
    move.b  (a2),d1
    subq.l  #$2,d1
    cmp.l   d1,d0
    ble.b   .l7c20
    moveq   #$0,d0
    move.w  d4,d0
    moveq   #$0,d1
    move.b  $0001(a2),d1
    subq.l  #$2,d1
    cmp.l   d1,d0
    ble.b   .l7c20
    moveq   #$0,d0
    move.w  d3,d0
    moveq   #$0,d1
    move.b  (a2),d1
    addi.l  #$a,d1
    cmp.l   d1,d0
    bge.b   .l7c20
    moveq   #$0,d0
    move.w  d4,d0
    moveq   #$0,d1
    move.b  $0001(a2),d1
    addi.l  #$a,d1
    cmp.l   d1,d0
    bge.b   .l7c20
    moveq   #$0,d0
    move.b  $0002(a3),d0
    bra.w   .l7b9c
.l7c20:                                                 ; $007C20
    addq.l  #$2,a2
    addq.w  #$1,d2
.l7c24:                                                 ; $007C24
    move.w  d2,d0
    ext.l   d0
    moveq   #$0,d1
    move.b  $0003(a3),d1
    cmp.l   d1,d0
    blt.b   .l7bd2
    move.w  #$ff,d0
.l7c36:                                                 ; $007C36
    movem.l (sp)+,d2-d4/a2-a3
    rts
; ============================================================================
; ShowCharProfile -- (TODO: describe)
; Called: ?? times.
; 342 bytes | $007C3C-$007D91
; ============================================================================
ShowCharProfile:                                                  ; $007C3C
    link    a6,#$0
    movem.l d2-d7/a2,-(sp)
    move.l  $0018(a6),d3
    move.l  $0014(a6),d4
    move.l  $001c(a6),d5
    move.l  $000c(a6),d6
    move.l  $0008(a6),d7
    movea.l #$0004978c,a2
    cmpi.w  #$1,d3
    bne.b   .l7cca
    moveq   #$1,d2
    pea     ($0010).w
    pea     ($0010).w
    move.l  a2,d0
    addq.l  #$2,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    move.l  a2,d0
    moveq   #$22,d1
    add.l   d1,d0
    move.l  d0,-(sp)
    pea     ($000A).w
    pea     ($001E).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0001).w
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $0028(sp),sp
    pea     ($0001).w
    clr.l   -(sp)
    move.l  a2,d0
    addi.l  #$027a,d0
    move.l  d0,-(sp)
    pea     ($0009).w
    pea     ($0001).w
    dc.w    $4eb9,$0001,$d568                           ; jsr $01D568
    lea     $0014(sp),sp
.l7cca:                                                 ; $007CCA
    cmpi.w  #$1,d3
    bne.b   .l7cee
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    move.w  d4,d0
    ext.l   d0
    addq.l  #$1,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$1,d0
    bra.b   .l7d06
.l7cee:                                                 ; $007CEE
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
.l7d06:                                                 ; $007D06
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$a5a8                           ; jsr $03A5A8
    pea     ($0020).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    dc.w    $4eb9,$0003,$a942                           ; jsr $03A942
    lea     $0028(sp),sp
    cmpi.w  #$1,d3
    bne.b   .l7d50
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    addq.l  #$1,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    addi.l  #$f,d0
    bra.b   .l7d6c
.l7d50:                                                 ; $007D50
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    addi.l  #$e,d0
.l7d6c:                                                 ; $007D6C
    move.l  d0,-(sp)
    move.w  $0012(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d7,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$000e                                 ; jsr $007D92
    nop
    movem.l -$001c(a6),d2-d7/a2
    unlk    a6
    rts
; ============================================================================
; ShowCharDetail -- (TODO: describe)
; Called: ?? times.
; 644 bytes | $007D92-$008015
; ============================================================================
ShowCharDetail:                                                  ; $007D92
    link    a6,#-$80
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $0018(a6),d2
    move.l  $0014(a6),d3
    move.l  $0020(a6),d4
    move.l  $000c(a6),d5
    move.l  $001c(a6),d6
    move.l  $0008(a6),d7
    lea     -$0080(a6),a4
    movea.l #$0003b270,a5
    move.w  d5,d0
    mulu.w  #$c,d0
    movea.l #$00ffa6b8,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  d7,d0
    lsl.w   #$5,d0
    move.w  d5,d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00ffb9e8,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($0010).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $000c(sp),sp
    cmpi.w  #$1,d6
    bne.b   .l7e50
    move.l  ($000A1AE8).l,-(sp)
    pea     ($00FF1804).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    pea     ($0037).w
    pea     ($06B4).w
    pea     ($00FF1804).l
    dc.w    $4eb9,$0000,$4668                           ; jsr $004668
    pea     ($00070F78).l
    pea     ($0008).w
    pea     ($000E).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0001).w
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $0030(sp),sp
.l7e50:                                                 ; $007E50
    pea     ($0008).w
    pea     ($000F).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$a942                           ; jsr $03A942
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addq.l  #$8,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    moveq   #$0,d0
    move.w  $0002(a2),d0
    move.l  d0,-(sp)
    pea     ($0003E1A2).l
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    cmpi.w  #$2,d4
    move.l  a4,-(sp)
    jsr     (a5)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$2,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addi.l  #$9,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    lea     $0030(sp),sp
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.l  d0,d1
    lsl.l   #$2,d0
    add.l   d1,d0
    add.l   d0,d0
    move.l  d0,-(sp)
    pea     ($0003E19E).l
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    cmpi.w  #$2,d4
    move.l  a4,-(sp)
    jsr     (a5)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    moveq   #$0,d0
    move.b  $0008(a2),d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,-(sp)
    pea     ($0003E19A).l
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    cmpi.w  #$2,d4
    move.l  a4,-(sp)
    jsr     (a5)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addi.l  #$b,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    lea     $0030(sp),sp
    moveq   #$0,d0
    move.b  $0009(a2),d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,-(sp)
    pea     ($0003E196).l
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    cmpi.w  #$2,d4
    move.l  a4,-(sp)
    jsr     (a5)
    lea     $0010(sp),sp
    cmpi.w  #$1,d6
    bne.b   .l7fca
    move.w  d2,d0
    ext.l   d0
    addq.l  #$6,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    moveq   #$0,d0
    move.b  (a3),d0
    moveq   #$0,d1
    move.b  $0001(a3),d1
    sub.l   d1,d0
    move.l  d0,-(sp)
    pea     ($0003E192).l
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    cmpi.w  #$2,d4
    move.l  a4,-(sp)
    jsr     (a5)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$6,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addi.l  #$b,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    lea     $0020(sp),sp
    moveq   #$0,d0
    move.b  $0001(a3),d0
    move.l  d0,-(sp)
    pea     ($0003E18E).l
    bra.b   .l8000
.l7fca:                                                 ; $007FCA
    move.w  d2,d0
    ext.l   d0
    addq.l  #$6,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addq.l  #$5,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    addq.l  #$8,sp
    move.w  d5,d0
    move.l  d0,-(sp)
    move.w  d7,d0
    move.l  d0,-(sp)
    dc.w    $4eba,$002a                                 ; jsr $008016
    nop
    addq.l  #$8,sp
    andi.l  #$ffff,d0
    move.l  d0,-(sp)
    pea     ($0003E188).l
.l8000:                                                 ; $008000
    move.l  a4,-(sp)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    move.l  a4,-(sp)
    jsr     (a5)
    movem.l -$00a8(a6),d2-d7/a2-a5
    unlk    a6
    rts
; ============================================================================
; CalcWeightedStat -- (TODO: describe)
; Called: 8 times.
; 180 bytes | $008016-$0080C9
; ============================================================================
CalcWeightedStat:                                                  ; $008016
    movem.l d2-d4/a2,-(sp)
    move.l  $0018(sp),d3
    move.l  $0014(sp),d4
    moveq   #$64,d2
    move.w  d3,d0
    mulu.w  #$c,d0
    movea.l #$00ffa6b8,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    moveq   #$0,d0
    move.b  (a2),d0
    movea.l #$0005f07c,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    ext.l   d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    dc.w    $4eba,$1d3c                                 ; jsr $009D92
    nop
    addq.l  #$8,sp
    move.w  d0,d3
    cmpi.w  #$3,d3
    bne.b   .l806a
    move.w  #$ffff,d4
    bra.b   .l80c2
.l806a:                                                 ; $00806A
    tst.w   d3
    bne.b   .l8072
    moveq   #$5a,d2
    bra.b   .l8084
.l8072:                                                 ; $008072
    cmpi.w  #$1,d3
    bne.b   .l807c
    moveq   #$64,d2
    bra.b   .l8084
.l807c:                                                 ; $00807C
    cmpi.w  #$2,d3
    bne.b   .l8084
    moveq   #$6e,d2
.l8084:                                                 ; $008084
    moveq   #$0,d0
    move.b  (a2),d0
    andi.l  #$ffff,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    dc.w    $4eba,$0032                                 ; jsr $0080CA
    nop
    addq.l  #$8,sp
    cmpi.w  #$1,d0
    bne.b   .l80a8
    subi.w  #$a,d2
.l80a8:                                                 ; $0080A8
    moveq   #$0,d0
    move.w  $0004(a2),d0
    moveq   #$0,d1
    move.w  d2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.w  d0,d4
.l80c2:                                                 ; $0080C2
    move.w  d4,d0
    movem.l (sp)+,d2-d4/a2
    rts
    dc.w    $48E7,$3C30,$2A2F                                ; $0080CA
    dc.w    $0020,$4243,$4244,$267C,$00FF,$A6B8,$302F,$001E; $0080D0
    dc.w    $EB48,$207C,$00FF,$B9E8,$41F0,$0000,$2448,$4242; $0080E0
    dc.w    $7000,$1012,$D640,$7000,$1013,$7200,$3205,$B081; $0080F0
    dc.w    $6606,$7000,$1012,$D840,$700C,$D7C0,$548A,$5242; $008100
    dc.w    $0C42,$0010,$65DA,$4A43,$671A,$7000,$3004,$7264; $008110
    dc.w    $4EB9,$0003,$E05C,$7200,$3203,$4EB9,$0003,$E08A; $008120
    dc.w    $3400,$6002,$4242,$0C42,$0032,$6504,$7A01,$6002; $008130
    dc.w    $4245,$3005,$4CDF,$0C3C,$4E75                    ; $008140
; ============================================================================
; ClearBothPlanes -- Clear both scroll planes via GameCommand #$1A
; Called: 15 times.
; 64 bytes | $00814A-$008189
; ============================================================================
ClearBothPlanes:                                                  ; $00814A
    clr.l   -(sp)
    pea     ($0020).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($001A).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $001c(sp),sp
    clr.l   -(sp)
    pea     ($0020).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $001c(sp),sp
    rts
; ============================================================================
; CheckCharCompat -- (TODO: describe)
; Called: ?? times.
; 72 bytes | $00818A-$0081D1
; ============================================================================
CheckCharCompat:                                                  ; $00818A
    movem.l d2-d5/a2,-(sp)
    move.l  $0020(sp),d3
    move.l  $001c(sp),d4
    move.l  $0018(sp),d5
    clr.w   d2
    move.w  d5,d0
    mulu.w  #$c,d0
    movea.l #$00ffa6b8,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6f42                           ; jsr $006F42
    addq.l  #$8,sp
    cmp.w   $0002(a2),d0
    bhi.b   .l81ca
    moveq   #$1,d2
.l81ca:                                                 ; $0081CA
    move.w  d2,d0
    movem.l (sp)+,d2-d5/a2
    rts
; ============================================================================
; FindRelationRecord -- (TODO: describe)
; Called: ?? times.
; 274 bytes | $0081D2-$0082E3
; ============================================================================
FindRelationRecord:                                                  ; $0081D2
    movem.l d2-d4/a2-a3,-(sp)
    move.l  $0018(sp),d2
    move.l  $0020(sp),d3
    move.l  $001c(sp),d4
    move.w  d2,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$7158                           ; jsr $007158
    addq.l  #$8,sp
    tst.w   d0
    bne.b   .l8272
    move.w  d2,d0
    mulu.w  #$0320,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
    bra.b   .l8262
.l8222:                                                 ; $008222
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l823c
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    beq.b   .l8256
.l823c:                                                 ; $00823C
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l825c
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l825c
.l8256:                                                 ; $008256
    move.l  a2,d0
    bra.w   .l82de
.l825c:                                                 ; $00825C
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d2
.l8262:                                                 ; $008262
    move.w  d2,d0
    ext.l   d0
    moveq   #$0,d1
    move.b  $0004(a3),d1
    cmp.l   d1,d0
    blt.b   .l8222
    bra.b   .l82dc
.l8272:                                                 ; $008272
    moveq   #$0,d0
    move.b  $0004(a3),d0
    mulu.w  #$14,d0
    move.w  d2,d1
    mulu.w  #$0320,d1
    add.w   d1,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
    bra.b   .l82ce
.l8294:                                                 ; $008294
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l82ae
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    beq.b   .l8256
.l82ae:                                                 ; $0082AE
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l82c8
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    beq.b   .l8256
.l82c8:                                                 ; $0082C8
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d2
.l82ce:                                                 ; $0082CE
    move.w  d2,d0
    ext.l   d0
    moveq   #$0,d1
    move.b  $0005(a3),d1
    cmp.l   d1,d0
    blt.b   .l8294
.l82dc:                                                 ; $0082DC
    moveq   #$0,d0
.l82de:                                                 ; $0082DE
    movem.l (sp)+,d2-d4/a2-a3
    rts
; ============================================================================
; sub_0082E4 -- (TODO: describe)
; Called: ?? times.
; 372 bytes | $0082E4-$008457
; ============================================================================
InsertRelationRecord:                                                  ; $0082E4
    movem.l d2-d3/a2-a5,-(sp)
    move.l  $001c(sp),d2
    movea.l $0020(sp),a2
    movea.l #$0001d538,a5
    move.w  d2,d0
    mulu.w  #$0320,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    move.w  d2,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    moveq   #$0,d0
    move.b  $0001(a2),d0
    moveq   #$1,d1
    lsl.l   d0,d1
    move.l  d1,d0
    move.w  d2,d1
    lsl.w   #$2,d1
    movea.l #$00ff08ec,a0
    and.l   (a0,d1.w),d0
    beq.b   .l834a
    move.b  (a2),d0
    cmp.b   $0001(a2),d0
    bls.b   .l834a
    moveq   #$0,d2
    move.b  $0001(a2),d2
    move.b  (a2),$0001(a2)
    move.b  d2,(a2)
.l834a:                                                 ; $00834A
    pea     ($0320).w
    pea     ($00FF1804).l
    clr.l   -(sp)
    move.l  a3,-(sp)
    clr.l   -(sp)
    jsr     (a5)
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  (a2),d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$7158                           ; jsr $007158
    lea     $001c(sp),sp
    cmpi.w  #$1,d0
    bne.b   .l83a0
    moveq   #$0,d2
    move.b  $0004(a4),d2
    moveq   #$0,d0
    move.b  $0004(a4),d0
    move.l  d0,d1
    lsl.l   #$2,d0
    add.l   d1,d0
    lsl.l   #$2,d0
    adda.l  d0,a3
    moveq   #$0,d3
    move.b  $0004(a4),d3
    moveq   #$0,d0
    move.b  $0005(a4),d0
    add.w   d0,d3
    bra.b   .l83a8
.l83a0:                                                 ; $0083A0
    clr.w   d2
    moveq   #$0,d3
    move.b  $0004(a4),d3
.l83a8:                                                 ; $0083A8
    addi.w  #$ffff,d3
    tst.w   d3
    ble.b   .l83f0
    bra.b   .l83e8
.l83b2:                                                 ; $0083B2
    move.b  (a2),d0
    cmp.b   (a3),d0
    bne.b   .l83d6
    move.b  $0001(a2),d0
    cmp.b   $0001(a3),d0
    bcc.b   .l83e2
.l83c2:                                                 ; $0083C2
    pea     ($0014).w
    move.l  a3,-(sp)
    clr.l   -(sp)
    move.l  a2,-(sp)
    clr.l   -(sp)
    jsr     (a5)
    lea     $0014(sp),sp
    bra.b   .l83ec
.l83d6:                                                 ; $0083D6
    move.b  (a2),d0
    cmp.b   (a3),d0
    bcs.b   .l83c2
    cmpi.b  #$ff,(a3)
    beq.b   .l83c2
.l83e2:                                                 ; $0083E2
    moveq   #$14,d0
    adda.l  d0,a3
    addq.w  #$1,d2
.l83e8:                                                 ; $0083E8
    cmp.w   d3,d2
    blt.b   .l83b2
.l83ec:                                                 ; $0083EC
    cmp.w   d3,d2
    bne.b   .l8402
.l83f0:                                                 ; $0083F0
    pea     ($0014).w
    move.l  a3,-(sp)
    clr.l   -(sp)
    move.l  a2,-(sp)
    clr.l   -(sp)
    jsr     (a5)
    lea     $0014(sp),sp
.l8402:                                                 ; $008402
    move.w  d2,d0
    ext.l   d0
    moveq   #$28,d1
    sub.l   d0,d1
    subq.l  #$1,d1
    ble.b   .l8452
    move.w  d2,d0
    ext.l   d0
    moveq   #$28,d1
    sub.l   d0,d1
    move.l  d1,d0
    lsl.l   #$2,d0
    add.l   d1,d0
    lsl.l   #$2,d0
    subi.l  #$14,d0
    move.l  d0,-(sp)
    move.l  a3,d0
    moveq   #$14,d1
    add.l   d1,d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,d1
    lsl.l   #$2,d0
    add.l   d1,d0
    lsl.l   #$2,d0
    lsr.l   #$1,d0
    add.w   d0,d0
    movea.l #$00ff1804,a0
    pea     (a0,d0.w)
    clr.l   -(sp)
    jsr     (a5)
    lea     $0014(sp),sp
.l8452:                                                 ; $008452
    movem.l (sp)+,d2-d3/a2-a5
    rts
; ============================================================================
; CalcCharAdvantage -- (TODO: describe)
; Called: ?? times.
; 518 bytes | $008458-$00865D
; ============================================================================
CalcCharAdvantage:                                                  ; $008458
    link    a6,#-$4
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $000c(a6),d6
    move.l  $0008(a6),d7
    lea     -$0002(a6),a5
    move.w  d7,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    move.w  d6,d0
    add.w   d0,d0
    movea.l #$00ff8824,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  d6,d0
    lsl.w   #$3,d0
    move.w  d7,d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00ffba80,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    moveq   #$0,d0
    move.b  (a2),d0
    moveq   #$0,d1
    move.b  $0001(a2),d1
    sub.w   d1,d0
    move.w  d0,(a5)
    moveq   #$4,d3
    cmpi.w  #$20,d6
    bge.b   .l84e8
    move.w  d7,d0
    lsl.w   #$4,d0
    movea.l #$00ff0230,a0
    move.w  (a0,d0.w),d4
    clr.w   d2
.l84ca:                                                 ; $0084CA
    move.w  d2,d0
    lsl.w   #$4,d0
    movea.l #$00ff0230,a0
    move.w  (a0,d0.w),d0
    cmp.w   d4,d0
    bcc.b   .l84de
    subq.w  #$1,d3
.l84de:                                                 ; $0084DE
    addq.w  #$1,d2
    cmpi.w  #$4,d2
    bcs.b   .l84ca
    bra.b   .l8530
.l84e8:                                                 ; $0084E8
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$d648                           ; jsr $00D648
    addq.l  #$4,sp
    move.w  d0,d5
    move.w  d7,d0
    lsl.w   #$4,d0
    move.w  d5,d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00ff0232,a0
    move.w  (a0,d0.w),d4
    clr.w   d2
.l850e:                                                 ; $00850E
    move.w  d2,d0
    lsl.w   #$4,d0
    move.w  d5,d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00ff0232,a0
    move.w  (a0,d0.w),d0
    cmp.w   d4,d0
    bcc.b   .l8528
    subq.w  #$1,d3
.l8528:                                                 ; $008528
    addq.w  #$1,d2
    cmpi.w  #$4,d2
    bcs.b   .l850e
.l8530:                                                 ; $008530
    moveq   #$0,d0
    move.b  $0001(a4),d0
    move.w  d6,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l8542
    moveq   #$e,d2
    bra.b   .l854e
.l8542:                                                 ; $008542
    move.w  d3,d0
    mulu.w  #$3,d0
    moveq   #$e,d2
    sub.w   d0,d2
    addq.w  #$3,d2
.l854e:                                                 ; $00854E
    moveq   #$0,d0
    move.w  (a5),d0
    add.l   d0,d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    moveq   #$0,d1
    move.w  d2,d1
    cmp.l   d1,d0
    ble.b   .l856a
    moveq   #$0,d0
    move.w  d2,d0
    bra.b   .l8578
.l856a:                                                 ; $00856A
    moveq   #$0,d0
    move.w  (a5),d0
    add.l   d0,d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
.l8578:                                                 ; $008578
    move.w  d0,d2
    cmpi.w  #$1,d2
    bls.b   .l8586
    moveq   #$0,d0
    move.w  d2,d0
    bra.b   .l8588
.l8586:                                                 ; $008586
    moveq   #$1,d0
.l8588:                                                 ; $008588
    move.w  d0,d2
    cmpi.w  #$20,d6
    bge.b   .l85f0
    moveq   #$0,d0
    move.b  $0001(a4),d0
    cmp.w   d6,d0
    bne.b   .l85b4
    moveq   #$0,d0
    move.b  (a2),d0
    andi.l  #$ffff,d0
    move.l  d0,d1
    add.l   d0,d0
    add.l   d1,d0
.l85aa:                                                 ; $0085AA
    bge.b   .l85ae
    addq.l  #$3,d0
.l85ae:                                                 ; $0085AE
    asr.l   #$2,d0
.l85b0:                                                 ; $0085B0
    move.w  d0,d6
    bra.b   .l85f2
.l85b4:                                                 ; $0085B4
    move.w  d6,d0
    ext.l   d0
    moveq   #$1,d1
    lsl.l   d0,d1
    move.l  d1,d0
    move.w  d7,d1
    lsl.w   #$2,d1
    movea.l #$00ff08ec,a0
    and.l   (a0,d1.w),d0
    beq.b   .l85e2
    moveq   #$0,d0
    move.b  (a2),d0
    andi.l  #$ffff,d0
    tst.l   d0
    bge.b   .l85de
    addq.l  #$1,d0
.l85de:                                                 ; $0085DE
    asr.l   #$1,d0
    bra.b   .l85b0
.l85e2:                                                 ; $0085E2
    moveq   #$0,d0
    move.b  (a2),d0
    andi.l  #$ffff,d0
    tst.l   d0
    bra.b   .l85aa
.l85f0:                                                 ; $0085F0
    moveq   #$e,d6
.l85f2:                                                 ; $0085F2
    moveq   #$0,d0
    move.w  d6,d0
    moveq   #$0,d1
    move.b  (a3),d1
    cmp.l   d1,d0
    ble.b   .l8650
    moveq   #$0,d0
    move.w  d6,d0
    moveq   #$0,d1
    move.b  (a3),d1
    andi.l  #$ffff,d1
    sub.l   d1,d0
    moveq   #$0,d1
    move.w  d2,d1
    cmp.l   d1,d0
    ble.b   .l861c
    moveq   #$0,d0
    move.w  d2,d0
    bra.b   .l862c
.l861c:                                                 ; $00861C
    moveq   #$0,d0
    move.w  d6,d0
    moveq   #$0,d1
    move.b  (a3),d1
    andi.l  #$ffff,d1
    sub.l   d1,d0
.l862c:                                                 ; $00862C
    move.w  d0,d2
    cmpi.w  #$e,d2
    bcc.b   .l863a
    moveq   #$0,d0
    move.w  d2,d0
    bra.b   .l863c
.l863a:                                                 ; $00863A
    moveq   #$e,d0
.l863c:                                                 ; $00863C
    move.w  d0,d2
    cmp.w   (a5),d2
    bcc.b   .l8648
    moveq   #$0,d0
    move.w  d2,d0
    bra.b   .l864c
.l8648:                                                 ; $008648
    moveq   #$0,d0
    move.w  (a5),d0
.l864c:                                                 ; $00864C
    move.w  d0,d2
    bra.b   .l8652
.l8650:                                                 ; $008650
    clr.w   d2
.l8652:                                                 ; $008652
    move.w  d2,d0
    movem.l -$002c(a6),d2-d7/a2-a5
    unlk    a6
    rts
; ============================================================================
; CalcNegotiationPower -- (TODO: describe)
; Called: ?? times.
; 476 bytes | $00865E-$008839
; ============================================================================
CalcNegotiationPower:                                                  ; $00865E
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $0030(sp),d4
    move.l  $002c(sp),d5
    movea.l #$00ffbd4c,a4
    movea.l #$00ff0002,a5
    moveq   #$a,d6
    move.w  d5,d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    move.w  d4,d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  (a4),d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$0,d1
    move.b  $0003(a2),d1
    ext.l   d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  $0002(a2),d0
    ext.l   d0
    move.w  (a4),d1
    ext.l   d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    add.l   (sp)+,d0
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.w  d0,d2
    moveq   #$0,d0
    move.b  $0003(a3),d0
    andi.l  #$ffff,d0
    moveq   #$5a,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    addi.w  #$a,d0
    move.w  d0,d3
    moveq   #$0,d0
    move.b  $0001(a3),d0
    moveq   #$0,d1
    move.w  d2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$0,d1
    move.w  d3,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$50,d1
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.w  d0,d7
    move.w  (a4),d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$0,d1
    move.b  $0003(a3),d1
    ext.l   d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  $0002(a3),d0
    ext.l   d0
    move.w  (a4),d1
    ext.l   d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    add.l   (sp)+,d0
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.w  d0,d2
    moveq   #$0,d0
    move.b  $0003(a2),d0
    andi.l  #$ffff,d0
    moveq   #$5a,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    addi.w  #$a,d0
    move.w  d0,d3
    moveq   #$0,d0
    move.b  $0001(a2),d0
    moveq   #$0,d1
    move.w  d2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$0,d1
    move.w  d3,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$50,d1
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.w  d0,d2
    moveq   #$0,d0
    move.w  d7,d0
    moveq   #$0,d1
    move.w  d2,d1
    add.l   d1,d0
    moveq   #$0,d1
    move.w  d6,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.w  d0,d2
    moveq   #$0,d0
    move.w  d4,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$7610                           ; jsr $007610
    addq.l  #$8,sp
    move.w  d0,d3
    cmpi.w  #$3,d3
    bne.b   .l87d4
    moveq   #$0,d0
    move.w  d2,d0
    bge.b   .l87ce
    addq.l  #$3,d0
.l87ce:                                                 ; $0087CE
    asr.l   #$2,d0
.l87d0:                                                 ; $0087D0
    move.w  d0,d2
    bra.b   .l87fa
.l87d4:                                                 ; $0087D4
    cmpi.w  #$2,d3
    bne.b   .l87e6
    moveq   #$0,d0
    move.w  d2,d0
    bge.b   .l87e2
    addq.l  #$1,d0
.l87e2:                                                 ; $0087E2
    asr.l   #$1,d0
    bra.b   .l87d0
.l87e6:                                                 ; $0087E6
    cmpi.w  #$1,d3
    bne.b   .l87fa
    moveq   #$0,d0
    move.w  d2,d0
    moveq   #$5,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    sub.w   d0,d2
.l87fa:                                                 ; $0087FA
    tst.w   (a5)
    bne.b   .l880c
    moveq   #$0,d0
    move.w  d2,d0
    bge.b   .l8806
    addq.l  #$1,d0
.l8806:                                                 ; $008806
    asr.l   #$1,d0
.l8808:                                                 ; $008808
    add.w   d0,d2
    bra.b   .l8832
.l880c:                                                 ; $00880C
    cmpi.w  #$1,(a5)
    bne.b   .l881e
    moveq   #$0,d0
    move.w  d2,d0
    bge.b   .l881a
    addq.l  #$3,d0
.l881a:                                                 ; $00881A
    asr.l   #$2,d0
    bra.b   .l8808
.l881e:                                                 ; $00881E
    cmpi.w  #$3,(a5)
    bne.b   .l8832
    moveq   #$0,d0
    move.w  d2,d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    sub.w   d0,d2
.l8832:                                                 ; $008832
    move.w  d2,d0
    movem.l (sp)+,d2-d7/a2-a5
    rts
; ============================================================================
; PlaceCharSprite -- (TODO: describe)
; Called: ?? times.
; 176 bytes | $00883A-$0088E9
; ============================================================================
PlaceCharSprite:                                                  ; $00883A
    link    a6,#-$c0
    movem.l d2-d3/a2,-(sp)
    move.l  $0018(a6),d3
    move.w  $000a(a6),d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    moveq   #$0,d0
    move.b  (a2),d0
    movea.l #$0005ec4a,a0
    move.b  (a0,d0.w),d2
    andi.l  #$ff,d2
    cmpi.w  #$ff,d2
    beq.b   .l88e0
    move.w  d2,d0
    ext.l   d0
    lsl.l   #$2,d0
    movea.l #$00095a22,a0
    move.l  (a0,d0.l),-(sp)
    pea     -$00c0(a6)
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    pea     ($0006).w
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    pea     -$00c0(a6)
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
    clr.l   -(sp)
    pea     ($0002).w
    pea     ($0003).w
    moveq   #$0,d0
    move.w  $0012(a6),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  $000e(a6),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  $0016(a6),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d3,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$e044                           ; jsr $01E044
    lea     $0030(sp),sp
    pea     ($0001).w
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
.l88e0:                                                 ; $0088E0
    movem.l -$00cc(a6),d2-d3/a2
    unlk    a6
    rts
; ============================================================================
; DrawStatDisplay -- Draw statistic bar display with text labels
; Called: 11 times.
; 352 bytes | $0088EA-$008A49
; ============================================================================
DrawStatDisplay:                                                  ; $0088EA
    link    a6,#$0
    movem.l d2-d6/a2,-(sp)
    move.l  $0014(a6),d2
    move.l  $0010(a6),d3
    move.l  $0008(a6),d4
    movea.l #$0d64,a2
    pea     ($0020).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    dc.w    $4eb9,$0003,$a942                           ; jsr $03A942
    lea     $0010(sp),sp
    cmpi.w  #$ff,d4
    bne.w   .l89a6
    pea     ($077E).w
    pea     ($0002).w
    pea     ($0003).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0012).w
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a2)
    lea     $001c(sp),sp
    tst.w   d3
    bne.b   .l896e
    pea     ($077E).w
    pea     ($0002).w
    pea     ($000A).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0007).w
.l895e:                                                 ; $00895E
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a2)
    lea     $001c(sp),sp
    bra.w   .l8a40
.l896e:                                                 ; $00896E
    pea     ($077E).w
    pea     ($0002).w
    pea     ($000A).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0012).w
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a2)
    lea     $001c(sp),sp
    pea     ($077E).w
    pea     ($0004).w
    pea     ($001C).w
    pea     ($0015).w
    pea     ($0002).w
    bra.b   .l895e
.l89a6:                                                 ; $0089A6
    tst.w   d3
    beq.b   .l89b2
    cmpi.w  #$1,d3
    bne.w   .l8a40
.l89b2:                                                 ; $0089B2
    pea     ($077E).w
    pea     ($0002).w
    pea     ($000E).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d6
    ext.l   d6
    move.l  d6,d0
    lsl.l   #$3,d6
    sub.l   d0,d6
    add.l   d6,d6
    move.l  d6,d5
    addq.l  #$2,d6
    move.l  d6,-(sp)
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a2)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.l  d5,d0
    addq.l  #$5,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0003,$ab2c                           ; jsr $03AB2C
    lea     $0024(sp),sp
    pea     ($0001).w
    move.w  d3,d0
    ext.l   d0
    lsl.l   #$3,d0
    addi.l  #$0690,d0
    move.l  d0,-(sp)
    move.w  $001a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    lsl.l   #$3,d0
    move.l  d0,-(sp)
    move.l  d6,d0
    lsl.l   #$3,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $6100,$fe16                                 ; bsr.w $00883A
    move.w  d4,d0
    lsl.w   #$2,d0
    movea.l #$0005e7e4,a0
    move.l  (a0,d0.w),-(sp)
    pea     ($0003E1A6).l
    dc.w    $4eb9,$0003,$b270                           ; jsr $03B270
.l8a40:                                                 ; $008A40
    movem.l -$0018(a6),d2-d6/a2
    unlk    a6
    rts
; ============================================================================
; CharacterBrowser -- (TODO: describe)
; Called: ?? times.
; 962 bytes | $008A4A-$008E0B
; ============================================================================
CharacterBrowser:                                                  ; $008A4A
    link    a6,#-$8
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $000c(a6),d5
    movea.l #$0d64,a3
    lea     -$0004(a6),a4
    movea.l #$00ff1804,a5
    move.w  #$1,-$0006(a6)
    clr.w   d4
    moveq   #$1,d7
    clr.w   d3
    move.w  d3,d0
    add.w   d0,d0
    movea.l #$0005f6d6,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
.l8a82:                                                 ; $008A82
    clr.w   d2
    movea.w d2,a0
    move.b  (a2,a0.w),d0
    cmp.b   d5,d0
    beq.b   .l8aa0
    moveq   #$1,d2
    movea.w d2,a0
    move.b  (a2,a0.w),d0
    cmp.b   d5,d0
    beq.b   .l8aa0
    addq.l  #$2,a2
    addq.w  #$1,d3
    bra.b   .l8a82
.l8aa0:                                                 ; $008AA0
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($0010).w
    jsr     (a3)
    clr.l   -(sp)
    dc.w    $4eb9,$0000,$538e                           ; jsr $00538E
    pea     ($0004DD9C).l
    pea     ($0009).w
    pea     ($001E).w
    pea     ($0012).w
    pea     ($0001).w
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a3)
    lea     $002c(sp),sp
    pea     ($0004DFB8).l
    move.l  a5,-(sp)
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    clr.l   -(sp)
    clr.l   -(sp)
    move.l  a5,-(sp)
    pea     ($000F).w
    pea     ($02E1).w
    dc.w    $4eb9,$0001,$d568                           ; jsr $01D568
    lea     $001c(sp),sp
    pea     ($077E).w
    pea     ($0006).w
    pea     ($001C).w
    pea     ($0013).w
    pea     ($0002).w
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a3)
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($0010).w
    jsr     (a3)
    lea     $0028(sp),sp
    pea     ($0010).w
    pea     ($0012).w
    pea     ($0002).w
    pea     ($0007).w
    dc.w    $4eb9,$0000,$5a04                           ; jsr $005A04
    pea     ($0010).w
    pea     ($0020).w
    pea     ($000767BE).l
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    move.l  ($0009513C).l,-(sp)
    move.l  a5,-(sp)
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    pea     ($0060).w
    pea     ($0640).w
    move.l  a5,-(sp)
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
    lea     $0030(sp),sp
    pea     ($00070E58).l
    pea     ($0008).w
    pea     ($000C).w
    pea     ($0005).w
    pea     ($000A).w
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a3)
    move.w  d5,d6
    pea     ($0003E1AA).l
    dc.w    $4eb9,$0003,$b246                           ; jsr $03B246
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$e1ec                           ; jsr $01E1EC
    lea     $0024(sp),sp
    tst.w   d0
    beq.b   .l8bb6
    moveq   #$1,d0
    bra.b   .l8bb8
.l8bb6:                                                 ; $008BB6
    moveq   #$0,d0
.l8bb8:                                                 ; $008BB8
    move.w  d0,-$0002(a6)
    clr.w   (a4)
    clr.w   ($00FF13FC).l
    clr.w   ($00FFA7D8).l
.l8bca:                                                 ; $008BCA
    cmpi.w  #$1,d7
    bne.b   .l8c00
    move.w  -$0006(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($000E).w
    pea     ($000C).w
    dc.w    $4eba,$13a0                                 ; jsr $009F88
    nop
    clr.w   -$0006(a6)
    clr.w   d7
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a3)
    lea     $0018(sp),sp
.l8c00:                                                 ; $008C00
    pea     ($0002).w
    pea     ($000E).w
    jsr     (a3)
    addq.l  #$8,sp
    cmpi.w  #$1,d4
    bne.b   .l8c2e
    pea     ($0010).w
    pea     ($0020).w
    pea     ($000767BE).l
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    lea     $000c(sp),sp
    clr.w   d4
    bra.b   .l8c50
.l8c2e:                                                 ; $008C2E
    pea     ($0001).w
    move.w  d6,d0
    ext.l   d0
    addi.l  #$28,d0
    move.l  d0,-(sp)
    pea     ($000767DC).l
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    lea     $000c(sp),sp
    moveq   #$1,d4
.l8c50:                                                 ; $008C50
    tst.w   -$0002(a6)
    beq.b   .l8c74
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$e1ec                           ; jsr $01E1EC
    addq.l  #$4,sp
    tst.w   d0
    beq.b   .l8c74
    pea     ($0003).w
.l8c68:                                                 ; $008C68
    pea     ($000E).w
    jsr     (a3)
    addq.l  #$8,sp
    bra.w   .l8bca
.l8c74:                                                 ; $008C74
    clr.w   -$0002(a6)
    move.w  -$0004(a6),d0
    move.l  d0,-(sp)
    pea     ($000A).w
    dc.w    $4eb9,$0001,$e290                           ; jsr $01E290
    addq.l  #$8,sp
    andi.w  #$3f,d0
    move.w  d0,(a4)
    andi.w  #$30,d0
    beq.b   .l8ca4
    move.w  (a4),d0
    andi.w  #$10,d0
    beq.b   .l8cfc
    move.w  #$ff,d6
    bra.b   .l8cfc
.l8ca4:                                                 ; $008CA4
    move.w  (a4),d0
    andi.w  #$f,d0
    beq.b   .l8cf4
    move.w  (a4),d0
    andi.w  #$8,d0
    beq.b   .l8cba
    addq.w  #$1,d3
    andi.w  #$3,d3
.l8cba:                                                 ; $008CBA
    move.w  (a4),d0
    andi.w  #$4,d0
    beq.b   .l8cc8
    addq.w  #$3,d3
    andi.w  #$3,d3
.l8cc8:                                                 ; $008CC8
    move.w  (a4),d0
    andi.w  #$1,d0
    beq.b   .l8cd2
    clr.w   d2
.l8cd2:                                                 ; $008CD2
    move.w  (a4),d0
    andi.w  #$2,d0
    beq.b   .l8cdc
    moveq   #$1,d2
.l8cdc:                                                 ; $008CDC
    move.w  d3,d0
    add.w   d0,d0
    add.w   d2,d0
    movea.l #$0005f6d6,a0
    move.b  (a0,d0.w),d6
    andi.l  #$ff,d6
    moveq   #$1,d7
.l8cf4:                                                 ; $008CF4
    pea     ($0002).w
    bra.w   .l8c68
.l8cfc:                                                 ; $008CFC
    move.l  #$8000,-(sp)
    pea     ($0010).w
    pea     ($0012).w
    pea     ($0002).w
    pea     ($0007).w
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a3)
    lea     $001c(sp),sp
    cmpi.w  #$ff,d6
    beq.w   .l8dde
    dc.w    $4eb9,$0001,$d71c                           ; jsr $01D71C
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($0010).w
    jsr     (a3)
    clr.l   -(sp)
    dc.w    $4eb9,$0000,$538e                           ; jsr $00538E
    pea     ($0010).w
    dc.w    $4eb9,$0001,$d444                           ; jsr $01D444
    pea     ($0003).w
    pea     ($000E).w
    jsr     (a3)
    move.w  d6,d5
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$11ec                                 ; jsr $009F4A
    nop
    pea     ($0001).w
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6a2e                           ; jsr $006A2E
    lea     $002c(sp),sp
    pea     ($0002).w
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6b78                           ; jsr $006B78
    pea     ($077F).w
    pea     ($0001).w
    pea     ($0020).w
    pea     ($0013).w
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a3)
    lea     $0028(sp),sp
    pea     ($077D).w
    pea     ($0009).w
    pea     ($0020).w
    pea     ($0014).w
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a3)
    lea     $001c(sp),sp
    dc.w    $4eb9,$0001,$d748                           ; jsr $01D748
    bra.b   .l8dfa
.l8dde:                                                 ; $008DDE
    pea     ($0002).w
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6b78                           ; jsr $006B78
    lea     $000c(sp),sp
.l8dfa:                                                 ; $008DFA
    pea     ($0018).w
    jsr     (a3)
    move.w  d5,d0
    movem.l -$0030(a6),d2-d7/a2-a5
    unlk    a6
    rts
; ============================================================================
; BrowseCharList -- (TODO: describe)
; Called: ?? times.
; 744 bytes | $008E0C-$0090F3
; ============================================================================
BrowseCharList:                                                  ; $008E0C
    link    a6,#$0
    movem.l d2-d6/a2-a5,-(sp)
    movea.l $000c(a6),a3
    movea.l #$0d64,a4
    movea.l #$00ff13fc,a5
    move.w  #$ff,d4
    movea.l #$00ffbd64,a2
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$e1ec                           ; jsr $01E1EC
    tst.w   d0
    beq.b   .l8e3e
    moveq   #$1,d2
    bra.b   .l8e40
.l8e3e:                                                 ; $008E3E
    moveq   #$0,d2
.l8e40:                                                 ; $008E40
    clr.w   d5
    clr.w   (a5)
    clr.w   ($00FFA7D8).l
    move.w  (a3),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    dc.w    $6100,$ecca                                 ; bsr.w $007B1E
    lea     $000c(sp),sp
    move.w  d0,d3
    cmpi.w  #$ff,d0
    beq.b   .l8e86
    cmp.w   d3,d4
    beq.b   .l8e82
    pea     ($0037).w
    pea     ($0013).w
    clr.l   -(sp)
    pea     ($0001).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $6100,$fa6e                                 ; bsr.w $0088EA
    lea     $0014(sp),sp
.l8e82:                                                 ; $008E82
    move.w  d3,d4
    bra.b   .l8ebe
.l8e86:                                                 ; $008E86
    cmpi.w  #$ff,d4
    beq.b   .l8ebe
    pea     ($077E).w
    pea     ($0002).w
    pea     ($000D).w
    pea     ($0013).w
    pea     ($0004).w
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a4)
    pea     ($0002).w
    pea     ($0037).w
    dc.w    $4eb9,$0001,$e0b8                           ; jsr $01E0B8
    lea     $0024(sp),sp
    move.w  #$ff,d4
.l8ebe:                                                 ; $008EBE
    move.l  #$8000,-(sp)
    pea     ($0002).w
    pea     ($0002).w
    moveq   #$0,d0
    move.w  $0002(a2),d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  (a2),d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($0740).w
    dc.w    $4eb9,$0001,$e044                           ; jsr $01E044
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a4)
    lea     $0024(sp),sp
    tst.w   d2
    beq.b   .l8f14
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$e1ec                           ; jsr $01E1EC
    addq.l  #$4,sp
    tst.w   d0
    beq.b   .l8f14
    pea     ($0003).w
.l8f0a:                                                 ; $008F0A
    pea     ($000E).w
    jsr     (a4)
    addq.l  #$8,sp
    bra.b   .l8ebe
.l8f14:                                                 ; $008F14
    clr.w   d2
    move.w  d5,d0
    move.l  d0,-(sp)
    pea     ($000A).w
    dc.w    $4eb9,$0001,$e290                           ; jsr $01E290
    addq.l  #$8,sp
    andi.w  #$bf,d0
    move.w  d0,d5
    andi.w  #$20,d0
    beq.b   .l8f60
    clr.w   (a5)
    clr.w   ($00FFA7D8).l
    clr.l   -(sp)
    move.w  $0002(a2),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  (a2),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$0da0                                 ; jsr $009CEC
    nop
    lea     $000c(sp),sp
    cmpi.w  #$ff,d3
    beq.w   .l8ebe
    bra.w   .l90e8
.l8f60:                                                 ; $008F60
    move.w  d5,d0
    andi.w  #$10,d0
    beq.b   .l8f78
    clr.w   (a5)
    clr.w   ($00FFA7D8).l
    move.w  #$ff,d3
    bra.w   .l90e8
.l8f78:                                                 ; $008F78
    move.w  d5,d0
    andi.w  #$80,d0
    beq.w   .l9052
    clr.w   (a5)
    clr.w   ($00FFA7D8).l
    move.w  d5,d0
    andi.w  #$80,d0
    beq.w   .l901a
    move.w  (a3),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  $000a(a6),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $6100,$faa6                                 ; bsr.w $008A4A
    move.w  d0,d6
    pea     ($077E).w
    pea     ($0006).w
    pea     ($001C).w
    pea     ($0013).w
    pea     ($0002).w
    pea     ($0001).w
    pea     ($001A).w
    jsr     (a4)
    lea     $0024(sp),sp
    pea     ($0004DD9C).l
    pea     ($0009).w
    pea     ($001E).w
    pea     ($0012).w
    pea     ($0001).w
    clr.l   -(sp)
    pea     ($001B).w
    jsr     (a4)
    pea     ($0004DFB8).l
    pea     ($00FF1804).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    lea     $0024(sp),sp
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($00FF1804).l
    pea     ($000F).w
    pea     ($02E1).w
    dc.w    $4eb9,$0001,$d568                           ; jsr $01D568
    lea     $0014(sp),sp
.l901a:                                                 ; $00901A
    cmpi.w  #$ff,d6
    beq.b   .l904a
    cmp.w   (a3),d6
    beq.b   .l904a
    move.w  d6,(a3)
    pea     ($077E).w
    pea     ($0002).w
    pea     ($000D).w
    pea     ($0013).w
    pea     ($0004).w
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a4)
    lea     $001c(sp),sp
    move.w  #$ff,d3
.l904a:                                                 ; $00904A
    pea     ($0002).w
    bra.w   .l8f0a
.l9052:                                                 ; $009052
    move.w  d5,d0
    andi.w  #$f,d0
    beq.w   .l8ebe
    move.w  #$1,(a5)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    dc.w    $6100,$ea0a                                 ; bsr.w $007A74
    move.w  (a3),d0
    ext.l   d0
    move.l  d0,-(sp)
    move.l  a2,-(sp)
    dc.w    $6100,$eaa8                                 ; bsr.w $007B1E
    lea     $0010(sp),sp
    move.w  d0,d3
    cmpi.w  #$ff,d0
    beq.b   .l90a8
    cmp.w   d3,d4
    beq.b   .l90a4
    pea     ($0037).w
    pea     ($0013).w
    clr.l   -(sp)
    pea     ($0001).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $6100,$f84c                                 ; bsr.w $0088EA
    lea     $0014(sp),sp
.l90a4:                                                 ; $0090A4
    move.w  d3,d4
    bra.b   .l90e0
.l90a8:                                                 ; $0090A8
    cmpi.w  #$ff,d4
    beq.b   .l90e0
    pea     ($077E).w
    pea     ($0002).w
    pea     ($000D).w
    pea     ($0013).w
    pea     ($0004).w
    clr.l   -(sp)
    pea     ($001A).w
    jsr     (a4)
    pea     ($0002).w
    pea     ($0037).w
    dc.w    $4eb9,$0001,$e0b8                           ; jsr $01E0B8
    lea     $0024(sp),sp
    move.w  #$ff,d4
.l90e0:                                                 ; $0090E0
    pea     ($0001).w
    bra.w   .l8f0a
.l90e8:                                                 ; $0090E8
    move.w  d3,d0
    movem.l -$0024(a6),d2-d6/a2-a5
    unlk    a6
    rts
; ============================================================================
; CalcStatChange -- (TODO: describe)
; Called: ?? times.
; 456 bytes | $0090F4-$0092BB
; ============================================================================
CalcStatChange:                                                  ; $0090F4
    movem.l d2-d3/a2,-(sp)
    move.l  $0018(sp),d2
    move.l  $0014(sp),d3
    move.w  $0012(sp),d0
    lsl.w   #$2,d0
    movea.l #$00ff0120,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    tst.w   d3
    bne.w   .l91a0
    moveq   #$0,d3
    move.b  $0001(a2),d3
    tst.w   d2
    bne.b   .l9156
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$5,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    moveq   #$1,d1
    cmp.l   d0,d1
    bge.b   .l914e
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$5,d1
.l9146:                                                 ; $009146
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    bra.b   .l9150
.l914e:                                                 ; $00914E
    moveq   #$1,d0
.l9150:                                                 ; $009150
    move.w  d0,d2
    bra.w   .l926e
.l9156:                                                 ; $009156
    cmpi.w  #$1,d2
    bne.b   .l9182
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$a,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    moveq   #$1,d1
    cmp.l   d0,d1
    bge.b   .l914e
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$a,d1
    bra.b   .l9146
.l9182:                                                 ; $009182
    cmpi.w  #$2,d2
    bne.b   .l918e
.l9188:                                                 ; $009188
    clr.w   d2
    bra.w   .l926e
.l918e:                                                 ; $00918E
    cmpi.w  #$3,d2
    bne.b   .l919a
    moveq   #$fb,d2
    bra.w   .l926e
.l919a:                                                 ; $00919A
    moveq   #$ec,d2
    bra.w   .l926e
.l91a0:                                                 ; $0091A0
    cmpi.w  #$1,d3
    bne.b   .l9220
    moveq   #$0,d3
    move.b  $0002(a2),d3
    tst.w   d2
    bne.b   .l91da
.l91b0:                                                 ; $0091B0
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    bge.b   .l91be
    addq.l  #$3,d0
.l91be:                                                 ; $0091BE
    asr.l   #$2,d0
    moveq   #$1,d1
    cmp.l   d0,d1
    bge.b   .l914e
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    bge.b   .l91d4
    addq.l  #$3,d0
.l91d4:                                                 ; $0091D4
    asr.l   #$2,d0
    bra.w   .l9150
.l91da:                                                 ; $0091DA
    cmpi.w  #$1,d2
    bne.b   .l920a
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$9,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    moveq   #$1,d1
    cmp.l   d0,d1
    bge.w   .l914e
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$9,d1
    bra.w   .l9146
.l920a:                                                 ; $00920A
    cmpi.w  #$2,d2
    beq.w   .l9188
    cmpi.w  #$3,d2
    bne.b   .l921c
    moveq   #$f6,d2
    bra.b   .l926e
.l921c:                                                 ; $00921C
    moveq   #$e2,d2
    bra.b   .l926e
.l9220:                                                 ; $009220
    moveq   #$0,d3
    move.b  $0003(a2),d3
    tst.w   d2
    bne.b   .l9254
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    moveq   #$1,d1
    cmp.l   d0,d1
    bge.w   .l914e
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    moveq   #$3,d1
    bra.w   .l9146
.l9254:                                                 ; $009254
    cmpi.w  #$1,d2
    beq.w   .l91b0
    cmpi.w  #$2,d2
    beq.w   .l9188
    cmpi.w  #$3,d2
    beq.w   .l919a
    moveq   #$ce,d2
.l926e:                                                 ; $00926E
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
    move.w  d2,d1
    ext.l   d1
    cmp.l   d1,d0
    ble.b   .l9286
    move.w  d2,d0
    ext.l   d0
    bra.b   .l9290
.l9286:                                                 ; $009286
    move.w  d3,d0
    ext.l   d0
    moveq   #$64,d1
    sub.l   d0,d1
    move.l  d1,d0
.l9290:                                                 ; $009290
    move.w  d0,d2
    move.w  d3,d0
    ext.l   d0
    moveq   #$0,d1
    sub.l   d0,d1
    move.l  d1,d0
    move.w  d2,d1
    ext.l   d1
    cmp.l   d1,d0
    bge.b   .l92aa
    move.w  d2,d0
    ext.l   d0
    bra.b   .l92b4
.l92aa:                                                 ; $0092AA
    move.w  d3,d0
    ext.l   d0
    moveq   #$0,d1
    sub.l   d0,d1
    move.l  d1,d0
.l92b4:                                                 ; $0092B4
    move.w  d0,d2
    movem.l (sp)+,d2-d3/a2
    rts
; ============================================================================
; CalcRevenue -- (TODO: describe)
; Called: ?? times.
; 704 bytes | $0092BC-$00957B
; ============================================================================
CalcRevenue:                                                  ; $0092BC
    movem.l d2-d5/a2-a4,-(sp)
    move.l  $0024(sp),d2
    move.l  $0020(sp),d3
    move.l  $0028(sp),d5
    movea.l #$00ff1298,a4
    move.w  d3,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    move.w  d3,d0
    mulu.w  #$0320,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    moveq   #$0,d4
    tst.w   d2
    bne.w   .l93c6
    clr.w   d3
    bra.b   .l9378
.l9302:                                                 ; $009302
    move.b  $000a(a2),d0
    andi.l  #$2,d0
    bne.b   .l9372
    moveq   #$0,d0
    move.b  $0001(a2),d0
    ext.l   d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  (a2),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6f42                           ; jsr $006F42
    move.w  d0,d2
    move.l  a2,-(sp)
    dc.w    $4eb9,$0000,$74e0                           ; jsr $0074E0
    lea     $000c(sp),sp
    mulu.w  #$c,d0
    movea.l #$00ffa6c1,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d2,d0
    move.l  #$0320,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    addq.l  #$4,d0
    moveq   #$0,d1
    move.b  $0003(a2),d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  (sp)+,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    add.l   d0,d4
.l9372:                                                 ; $009372
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d3
.l9378:                                                 ; $009378
    moveq   #$0,d0
    move.b  $0004(a3),d0
    moveq   #$0,d1
    move.b  $0005(a3),d1
    add.l   d1,d0
    moveq   #$0,d1
    move.w  d3,d1
    cmp.l   d1,d0
    bgt.w   .l9302
    move.l  d4,d0
    moveq   #$32,d1
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.l  d0,d4
    moveq   #$a,d0
    cmp.l   d4,d0
    bcc.b   .l93a6
    move.l  d4,d0
    bra.b   .l93a8
.l93a6:                                                 ; $0093A6
    moveq   #$a,d0
.l93a8:                                                 ; $0093A8
    move.l  d0,d4
    move.l  #$1388,d1
.l93b0:                                                 ; $0093B0
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  d0,d1
    add.l   d0,d0
    add.l   d1,d0
    move.l  #$2710,d1
    bra.w   .l9530
.l93c6:                                                 ; $0093C6
    cmpi.w  #$1,d2
    bne.w   .l9490
    clr.w   d3
    bra.w   .l9454
.l93d4:                                                 ; $0093D4
    move.b  $000a(a2),d0
    andi.l  #$2,d0
    bne.b   .l944e
    moveq   #$0,d0
    move.b  $0001(a2),d0
    ext.l   d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  (a2),d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6f42                           ; jsr $006F42
    move.w  d0,d2
    move.l  a2,-(sp)
    dc.w    $4eb9,$0000,$74e0                           ; jsr $0074E0
    lea     $000c(sp),sp
    mulu.w  #$c,d0
    movea.l #$00ffa6b9,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.w  d2,d0
    move.l  #$0320,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    addq.l  #$4,d0
    moveq   #$0,d1
    move.b  $0003(a2),d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  (sp)+,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  d0,d1
    lsl.l   #$2,d0
    add.l   d1,d0
    add.l   d0,d0
    lsr.l   #$5,d0
    add.l   d0,d4
.l944e:                                                 ; $00944E
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d3
.l9454:                                                 ; $009454
    moveq   #$0,d0
    move.b  $0004(a3),d0
    moveq   #$0,d1
    move.b  $0005(a3),d1
    add.l   d1,d0
    moveq   #$0,d1
    move.w  d3,d1
    cmp.l   d1,d0
    bgt.w   .l93d4
    move.l  d4,d0
    moveq   #$14,d1
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.l  d0,d4
    moveq   #$a,d0
    cmp.l   d4,d0
    bcc.b   .l9482
    move.l  d4,d0
    bra.b   .l9484
.l9482:                                                 ; $009482
    moveq   #$a,d0
.l9484:                                                 ; $009484
    move.l  d0,d4
    move.l  #$1d4c,d1
    bra.w   .l93b0
.l9490:                                                 ; $009490
    movea.l a4,a2
    clr.w   d2
.l9494:                                                 ; $009494
    move.w  d2,d0
    lsl.w   #$3,d0
    move.w  d3,d1
    add.w   d1,d1
    add.w   d1,d0
    movea.l #$00ffba81,a0
    tst.b   (a0,d0.w)
    beq.b   .l94be
    moveq   #$0,d0
    move.b  $0001(a2),d0
    moveq   #$0,d1
    move.b  $0003(a2),d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    add.l   d0,d4
.l94be:                                                 ; $0094BE
    addq.l  #$4,a2
    addq.w  #$1,d2
    cmpi.w  #$59,d2
    bcs.b   .l9494
    moveq   #$0,d0
    move.b  $0001(a3),d0
    lsl.l   #$2,d0
    movea.l d0,a0
    move.b  $1(a4,a0.l),d0
    andi.l  #$ff,d0
    moveq   #$0,d1
    move.b  $0001(a3),d1
    lsl.l   #$2,d1
    movea.l d1,a0
    move.b  $3(a4,a0.l),d1
    andi.l  #$ff,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    cmp.l   d4,d0
    bcc.b   .l94fe
    move.l  d4,d0
    bra.b   .l952c
.l94fe:                                                 ; $0094FE
    moveq   #$0,d0
    move.b  $0001(a3),d0
    lsl.l   #$2,d0
    movea.l d0,a0
    move.b  $1(a4,a0.l),d0
    andi.l  #$ff,d0
    moveq   #$0,d1
    move.b  $0001(a3),d1
    lsl.l   #$2,d1
    movea.l d1,a0
    move.b  $3(a4,a0.l),d1
    andi.l  #$ff,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
.l952c:                                                 ; $00952C
    move.l  d0,d4
    moveq   #$32,d1
.l9530:                                                 ; $009530
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.l  d0,d3
    moveq   #$0,d0
    move.w  d5,d0
    move.l  d3,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.l  d0,d3
    move.w  ($00FF0006).l,d0
    ext.l   d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    addi.l  #$1e,d0
    move.l  d3,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.l  d0,d3
    movem.l (sp)+,d2-d5/a2-a4
    rts
; ============================================================================
; sub_00957C -- (TODO: describe)
; Called: ?? times.
; 286 bytes | $00957C-$009699
; ============================================================================
FindRelationIndex:                                                  ; $00957C
    movem.l d2-d4/a2-a3,-(sp)
    move.l  $0018(sp),d2
    move.l  $0020(sp),d3
    move.l  $001c(sp),d4
    move.w  d2,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$7158                           ; jsr $007158
    addq.l  #$8,sp
    tst.w   d0
    bne.b   .l961c
    move.w  d2,d0
    mulu.w  #$0320,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
    bra.b   .l960c
.l95cc:                                                 ; $0095CC
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l95e6
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    beq.b   .l9600
.l95e6:                                                 ; $0095E6
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l9606
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l9606
.l9600:                                                 ; $009600
    move.w  d2,d0
    bra.w   .l9694
.l9606:                                                 ; $009606
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d2
.l960c:                                                 ; $00960C
    move.w  d2,d0
    ext.l   d0
    moveq   #$0,d1
    move.b  $0004(a3),d1
    cmp.l   d1,d0
    blt.b   .l95cc
    bra.b   .l9690
.l961c:                                                 ; $00961C
    moveq   #$0,d0
    move.b  $0004(a3),d0
    mulu.w  #$14,d0
    move.w  d2,d1
    mulu.w  #$0320,d1
    add.w   d1,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
    bra.b   .l9682
.l963e:                                                 ; $00963E
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l9658
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    beq.b   .l9672
.l9658:                                                 ; $009658
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d3,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l967c
    moveq   #$0,d0
    move.b  $0001(a2),d0
    move.w  d4,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .l967c
.l9672:                                                 ; $009672
    moveq   #$0,d0
    move.b  $0004(a3),d0
    add.w   d2,d0
    bra.b   .l9694
.l967c:                                                 ; $00967C
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d2
.l9682:                                                 ; $009682
    move.w  d2,d0
    ext.l   d0
    moveq   #$0,d1
    move.b  $0005(a3),d1
    cmp.l   d1,d0
    blt.b   .l963e
.l9690:                                                 ; $009690
    move.w  #$ff,d0
.l9694:                                                 ; $009694
    movem.l (sp)+,d2-d4/a2-a3
    rts
; ============================================================================
; CalcCharOutput -- (TODO: describe)
; Called: ?? times.
; 568 bytes | $00969A-$0098D1
; ============================================================================
CalcCharOutput:                                                  ; $00969A
    movem.l d2-d5/a2-a5,-(sp)
    move.l  $0028(sp),d2
    move.l  $002c(sp),d3
    move.l  $0030(sp),d4
    movea.l $0034(sp),a2
    cmpi.w  #$20,d3
    bcc.b   .l96c4
    move.w  d3,d0
    mulu.w  #$6,d0
    add.w   d4,d0
    movea.l #$00ff1704,a0
    bra.b   .l96d0
.l96c4:                                                 ; $0096C4
    move.w  d3,d0
    lsl.w   #$2,d0
    add.w   d4,d0
    movea.l #$00ff15a0,a0
.l96d0:                                                 ; $0096D0
    move.b  (a0,d0.w),d5
    andi.l  #$ff,d5
    move.w  d5,d0
    lsl.w   #$2,d0
    movea.l #$0005e31a,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    move.w  d3,d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    tst.b   $0003(a4)
    bne.b   .l9724
    moveq   #$0,d0
    move.b  $0002(a3),d0
.l9706:                                                 ; $009706
    andi.l  #$ffff,d0
    moveq   #$0,d1
    move.b  $0003(a3),d1
    andi.l  #$ffff,d1
.l9718:                                                 ; $009718
    add.l   d1,d0
    bge.b   .l971e
    addq.l  #$1,d0
.l971e:                                                 ; $00971E
    asr.l   #$1,d0
    bra.w   .l97b0
.l9724:                                                 ; $009724
    cmpi.b  #$01,$0003(a4)
    bne.b   .l9742
    move.w  d2,d0
    lsl.w   #$2,d0
    movea.l #$00ff0120,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    bra.b   .l9706
.l9742:                                                 ; $009742
    cmpi.b  #$02,$0003(a4)
    bne.b   .l9760
    moveq   #$0,d0
    move.b  $0002(a3),d0
.l9750:                                                 ; $009750
    andi.l  #$ffff,d0
    moveq   #$0,d1
    move.w  ($00FFBA68).l,d1
    bra.b   .l9718
.l9760:                                                 ; $009760
    cmpi.b  #$03,$0003(a4)
    bne.b   .l9770
    moveq   #$0,d0
    move.b  $0003(a3),d0
    bra.b   .l9750
.l9770:                                                 ; $009770
    move.w  d2,d0
    lsl.w   #$2,d0
    movea.l #$00ff0120,a0
    lea     (a0,d0.w),a0
    movea.l a0,a5
    moveq   #$0,d0
    move.b  $0003(a3),d0
    andi.l  #$ffff,d0
    moveq   #$0,d1
    move.b  $0003(a5),d1
    andi.l  #$ffff,d1
    add.l   d1,d0
    moveq   #$0,d1
    move.b  $0002(a5),d1
    andi.l  #$ffff,d1
    add.l   d1,d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
.l97b0:                                                 ; $0097B0
    move.w  d0,d2
    moveq   #$0,d0
    move.w  d3,d0
    moveq   #$0,d1
    move.w  $0026(sp),d1
    add.l   d1,d0
    moveq   #$0,d1
    move.w  d4,d1
    add.l   d1,d0
    moveq   #$8,d1
    dc.w    $4eb9,$0003,$e146                           ; jsr $03E146
    move.w  d0,d3
    cmpi.w  #$5,d3
    blt.b   .l97da
    moveq   #$8,d0
    sub.w   d3,d0
    move.w  d0,d3
.l97da:                                                 ; $0097DA
    addq.w  #$8,d3
    moveq   #$0,d0
    move.b  (a4),d0
    moveq   #$0,d1
    move.w  d2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$0,d1
    move.b  $0001(a3),d1
    addi.l  #$32,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.w  d3,d1
    ext.l   d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.l  d0,(a2)
    moveq   #$1,d0
    cmp.l   (a2),d0
    bge.b   .l981a
    move.l  (a2),d0
    bra.b   .l981c
.l981a:                                                 ; $00981A
    moveq   #$1,d0
.l981c:                                                 ; $00981C
    move.l  d0,(a2)
    move.w  ($00FF0006).l,d0
    ext.l   d0
    moveq   #$6,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    addi.l  #$46,d0
    move.l  (a2),d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    moveq   #$5,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.l  d0,(a2)
    moveq   #$0,d0
    move.b  $0001(a4),d0
    move.l  (a2),d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$a,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.w  ($00FF1294).l,d1
    ext.l   d1
    move.l  #$82,d2
    sub.l   d1,d2
    move.l  d2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    move.l  d0,d2
    move.w  d3,d0
    ext.l   d0
    subi.l  #$9,d0
    move.l  d2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    tst.l   d0
    bge.b   .l989e
    addq.l  #$1,d0
.l989e:                                                 ; $00989E
    asr.l   #$1,d0
    move.l  d0,d1
    lsl.l   #$2,d0
    add.l   d1,d0
    move.l  d0,d2
    move.l  (a2),d0
    bge.b   .l98ae
    addq.l  #$1,d0
.l98ae:                                                 ; $0098AE
    asr.l   #$1,d0
    cmp.l   d2,d0
    ble.b   .l98b8
    move.l  d2,d0
    bra.b   .l98c0
.l98b8:                                                 ; $0098B8
    move.l  (a2),d0
    bge.b   .l98be
    addq.l  #$1,d0
.l98be:                                                 ; $0098BE
    asr.l   #$1,d0
.l98c0:                                                 ; $0098C0
    move.l  d0,d2
    move.l  (a2),d0
    sub.l   d2,d0
    movea.l $0038(sp),a0
    move.l  d0,(a0)
    movem.l (sp)+,d2-d5/a2-a5
    rts
; ============================================================================
; DrawRouteLines -- (TODO: describe)
; Called: ?? times.
; 194 bytes | $0098D2-$009993
; ============================================================================
DrawRouteLines:                                                  ; $0098D2
    movem.l d2-d7/a2-a4,-(sp)
    move.l  $0028(sp),d2
    move.w  d2,d0
    mulu.w  #$0320,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
.l98ee:                                                 ; $0098EE
    cmpi.b  #$ff,(a2)
    beq.w   .l9980
    moveq   #$0,d0
    move.b  (a2),d0
    add.w   d0,d0
    movea.l #$0005e948,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    moveq   #$0,d0
    move.b  $0001(a2),d0
    add.w   d0,d0
    movea.l #$0005e948,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    move.b  (a4),d0
    cmp.b   (a3),d0
    bcc.b   .l9938
    moveq   #$0,d7
    move.b  (a4),d7
    moveq   #$0,d6
    move.b  $0001(a4),d6
    moveq   #$0,d5
    move.b  (a3),d5
    moveq   #$0,d4
    move.b  $0001(a3),d4
    bra.b   .l994c
.l9938:                                                 ; $009938
    moveq   #$0,d5
    move.b  (a4),d5
    moveq   #$0,d4
    move.b  $0001(a4),d4
    moveq   #$0,d7
    move.b  (a3),d7
    moveq   #$0,d6
    move.b  $0001(a3),d6
.l994c:                                                 ; $00994C
    move.w  $000e(a2),d0
    cmp.w   $0006(a2),d0
    bcs.b   .l995a
    moveq   #$1,d3
    bra.b   .l995c
.l995a:                                                 ; $00995A
    moveq   #$2,d3
.l995c:                                                 ; $00995C
    pea     ($00FF1804).l
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d5,d0
    move.l  d0,-(sp)
    move.w  d6,d0
    move.l  d0,-(sp)
    move.w  d7,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$dc26                           ; jsr $01DC26
    lea     $0018(sp),sp
.l9980:                                                 ; $009980
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d2
    cmpi.w  #$28,d2
    blt.w   .l98ee
    movem.l (sp)+,d2-d7/a2-a4
    rts
; ============================================================================
; DrawRoutePair -- (TODO: describe)
; Called: ?? times.
; 244 bytes | $009994-$009A87
; ============================================================================
DrawRoutePair:                                                  ; $009994
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $0038(sp),d6
    move.l  $0034(sp),d7
    movea.l $0030(sp),a2
    movea.l $002c(sp),a3
    movea.l #$00ff1804,a4
    movea.l #$0001da34,a5
    move.b  (a3),d0
    cmp.b   (a2),d0
    bcc.b   .l99d0
    moveq   #$0,d5
    move.b  (a3),d5
    moveq   #$0,d4
    move.b  $0001(a3),d4
    moveq   #$0,d3
    move.b  (a2),d3
    moveq   #$0,d2
    move.b  $0001(a2),d2
    bra.b   .l99e4
.l99d0:                                                 ; $0099D0
    moveq   #$0,d3
    move.b  (a3),d3
    moveq   #$0,d2
    move.b  $0001(a3),d2
    moveq   #$0,d5
    move.b  (a2),d5
    moveq   #$0,d4
    move.b  $0001(a2),d4
.l99e4:                                                 ; $0099E4
    move.l  a4,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    jsr     (a5)
    lea     $0018(sp),sp
    cmpi.w  #$1,d7
    ble.b   .l9a82
    move.w  d3,d0
    ext.l   d0
    move.w  d5,d1
    ext.l   d1
    sub.l   d1,d0
    move.w  d2,d1
    ext.l   d1
    movea.l d7,a0
    move.w  d4,d7
    ext.l   d7
    exg     d7,a0
    sub.l   a0,d1
    cmp.l   d1,d0
    ble.b   .l9a54
    move.l  a4,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$5,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    addq.l  #$5,d0
    bra.b   .l9a72
.l9a54:                                                 ; $009A54
    move.l  a4,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    addq.l  #$4,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    addq.l  #$5,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    addq.l  #$4,d0
.l9a72:                                                 ; $009A72
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    addq.l  #$5,d0
    move.l  d0,-(sp)
    jsr     (a5)
    lea     $0018(sp),sp
.l9a82:                                                 ; $009A82
    movem.l (sp)+,d2-d7/a2-a5
    rts
    dc.w    $4E56,$FFFC,$48E7,$3F3C                     ; $009A88
    dc.w    $2A2E,$000C,$2C2E,$0010,$2E2E,$0008,$3007,$C0FC; $009A90
    dc.w    $0024,$207C,$00FF,$0018,$41F0,$0000,$2A48,$3007; $009AA0
    dc.w    $E548,$207C,$00FF,$A6A0,$2830,$0000,$3005,$E548; $009AB0
    dc.w    $207C,$0005,$ECDC,$C8B0,$0000,$3007,$C0FC,$0320; $009AC0
    dc.w    $207C,$00FF,$9A20,$41F0,$0000,$2448,$4243,$3005; $009AD0
    dc.w    $C0FC,$000E,$207C,$0005,$E234,$41F0,$0000,$2D48; $009AE0
    dc.w    $FFFC,$6000,$00CC,$0C12,$00FF,$6700,$00BE,$7000; $009AF0
    dc.w    $1012,$7201,$E1A9,$2001,$C084,$6612,$7000,$102A; $009B00
    dc.w    $0001,$7201,$E1A9,$2001,$C084,$6700,$009E,$7000; $009B10
    dc.w    $1012,$48C0,$2F00,$4EB9,$0000,$D648,$588F,$3400; $009B20
    dc.w    $B045,$6722,$3002,$48C0,$D080,$D0AE,$FFFC,$2840; $009B30
    dc.w    $7000,$102A,$0001,$D040,$207C,$0005,$E9FA,$41F0; $009B40
    dc.w    $0000,$2648,$6036,$7000,$102A,$0001,$48C0,$2F00; $009B50
    dc.w    $4EB9,$0000,$D648,$588F,$3400,$B045,$671E,$7000; $009B60
    dc.w    $1012,$D040,$207C,$0005,$E9FA,$41F0,$0000,$2848; $009B70
    dc.w    $3002,$48C0,$D080,$D0AE,$FFFC,$2640,$4A46,$6612; $009B80
    dc.w    $302A,$000E,$B06A,$0006,$6504,$7401,$6006,$7402; $009B90
    dc.w    $6002,$7403,$3002,$48C0,$2F00,$4878,$0002,$2F0B; $009BA0
    dc.w    $2F0C,$6100,$FDE0,$4FEF,$0010,$7014,$D5C0,$5243; $009BB0
    dc.w    $3003,$48C0,$7200,$122D,$0004,$B081,$6D00,$FF28; $009BC0
    dc.w    $3007,$E548,$207C,$00FF,$08EC,$2830,$0000,$3005; $009BD0
    dc.w    $E548,$207C,$0005,$ECDC,$C8B0,$0000,$7000,$102D; $009BE0
    dc.w    $0004,$C0FC,$0014,$3207,$C2FC,$0320,$D041,$207C; $009BF0
    dc.w    $00FF,$9A20,$41F0,$0000,$2448,$4243,$606E,$0C12; $009C00
    dc.w    $00FF,$6762,$7000,$1012,$7201,$E1A9,$2001,$C084; $009C10
    dc.w    $6754,$7000,$1012,$D040,$207C,$0005,$E9FA,$41F0; $009C20
    dc.w    $0000,$2848,$7000,$102A,$0001,$D040,$207C,$0005; $009C30
    dc.w    $E9FA,$41F0,$0000,$2648,$4A46,$6612,$302A,$000E; $009C40
    dc.w    $B06A,$0006,$6504,$7401,$6006,$7402,$6002,$7403; $009C50
    dc.w    $3002,$48C0,$2F00,$4878,$0001,$2F0B,$2F0C,$6100; $009C60
    dc.w    $FD24,$4FEF,$0010,$7014,$D5C0,$5243,$3003,$48C0; $009C70
    dc.w    $7200,$122D,$0005,$B081,$6D84,$4878,$000C,$4EB9; $009C80
    dc.w    $0000,$0D64,$4CEE,$3CFC,$FFD4,$4E5E,$4E75       ; $009C90
; ============================================================================
; UpdateSlotDisplays -- (TODO: describe)
; Called: ?? times.
; 78 bytes | $009C9E-$009CEB
; ============================================================================
UpdateSlotDisplays:                                                  ; $009C9E
    movem.l d2-d4,-(sp)
    move.l  $0014(sp),d3
    move.l  $0010(sp),d4
    clr.w   d2
.l9cac:                                                 ; $009CAC
    cmp.w   d4,d2
    beq.b   .l9cc8
    pea     ($0003).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $6100,$fdc6                                 ; bsr.w $009A88
    lea     $000c(sp),sp
.l9cc8:                                                 ; $009CC8
    addq.w  #$1,d2
    cmpi.w  #$4,d2
    blt.b   .l9cac
    clr.l   -(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $6100,$fda8                                 ; bsr.w $009A88
    lea     $000c(sp),sp
    movem.l (sp)+,d2-d4
    rts
; ============================================================================
; PlaceCursor -- (TODO: describe)
; Called: ?? times.
; 166 bytes | $009CEC-$009D91
; ============================================================================
PlaceCursor:                                                  ; $009CEC
    movem.l d2-d4/a2,-(sp)
    move.l  $0018(sp),d2
    move.l  $0014(sp),d3
    move.l  $001c(sp),d4
    movea.l #$0d64,a2
    pea     ($0006).w
    dc.w    $4eb9,$0001,$d444                           ; jsr $01D444
    move.l  #$8000,-(sp)
    pea     ($0002).w
    pea     ($0002).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($0744).w
    dc.w    $4eb9,$0001,$e044                           ; jsr $01E044
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a2)
    lea     $0028(sp),sp
    cmpi.w  #$1,d4
    bne.b   .l9d84
    pea     ($000A).w
    pea     ($000E).w
    jsr     (a2)
    move.l  #$8000,-(sp)
    pea     ($0002).w
    pea     ($0002).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($0740).w
    dc.w    $4eb9,$0001,$e044                           ; jsr $01E044
    pea     ($0001).w
    pea     ($000E).w
    jsr     (a2)
    lea     $002c(sp),sp
.l9d84:                                                 ; $009D84
    pea     ($0018).w
    jsr     (a2)
    addq.l  #$4,sp
    movem.l (sp)+,d2-d4/a2
    rts
; ============================================================================
; GetCharStat -- Look up character attribute from stat table
; Called: 14 times.
; 50 bytes | $009D92-$009DC3
; ============================================================================
GetCharStat:                                                  ; $009D92
    move.w  $000a(sp),d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    lea     (a0,d0.w),a0
    movea.l a0,a1
    moveq   #$0,d1
    move.b  (a1),d1
    move.w  $0006(sp),d0
    mulu.w  #$39,d0
    add.w   d1,d0
    movea.l #$00ff05c4,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    rts
; ============================================================================
; FindBitInField -- (TODO: describe)
; Called: 7 times.
; 88 bytes | $009DC4-$009E1B
; ============================================================================
FindBitInField:                                                  ; $009DC4
    movem.l d2-d3,-(sp)
    move.l  $000c(sp),d1
    move.w  $0012(sp),d0
    lsl.w   #$2,d0
    movea.l #$0005ecbc,a0
    lea     (a0,d0.w),a0
    movea.l a0,a1
    moveq   #$0,d0
    move.b  (a1),d0
    moveq   #$1,d3
    lsl.l   d0,d3
    clr.w   d2
    bra.b   .l9e08
.l9dea:                                                 ; $009DEA
    move.w  d1,d0
    lsl.w   #$2,d0
    movea.l #$00ffa6a0,a0
    move.l  (a0,d0.w),d0
    and.l   d3,d0
    beq.b   .l9e04
    moveq   #$0,d0
    move.b  (a1),d0
    add.w   d2,d0
    bra.b   .l9e16
.l9e04:                                                 ; $009E04
    add.l   d3,d3
    addq.w  #$1,d2
.l9e08:                                                 ; $009E08
    moveq   #$0,d0
    move.b  $0001(a1),d0
    cmp.w   d2,d0
    bgt.b   .l9dea
    move.w  #$ff,d0
.l9e16:                                                 ; $009E16
    movem.l (sp)+,d2-d3
    rts
; ============================================================================
; DrawPlayerRoutes -- (TODO: describe)
; Called: ?? times.
; 300 bytes | $009E1C-$009F47
; ============================================================================
DrawPlayerRoutes:                                                  ; $009E1C
    link    a6,#-$20
    movem.l d2-d6/a2-a3,-(sp)
    move.l  $000c(a6),d5
    move.l  $0008(a6),d6
    move.w  d6,d0
    add.w   d0,d0
    movea.l #$00ff0118,a0
    move.w  (a0,d0.w),-$0002(a6)
    pea     ($0001).w
    pea     ($000F).w
    pea     -$0002(a6)
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    lea     $000c(sp),sp
    move.w  d6,d0
    lsl.w   #$5,d0
    movea.l #$00ff0338,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    clr.w   d2
.l9e64:                                                 ; $009E64
    tst.b   $0001(a2)
    beq.w   .l9f32
    cmpi.b  #$06,$0001(a2)
    beq.b   .l9e8a
    moveq   #$0,d3
    move.b  (a2),d3
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$d648                           ; jsr $00D648
    addq.l  #$4,sp
    move.w  d0,d4
    bra.b   .l9ea4
.l9e8a:                                                 ; $009E8A
    moveq   #$0,d4
    move.b  (a2),d4
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d6,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6eea                           ; jsr $006EEA
    addq.l  #$8,sp
    move.w  d0,d3
.l9ea4:                                                 ; $009EA4
    cmp.w   d5,d4
    bne.b   .l9ed4
    move.w  d3,d0
    add.w   d0,d0
    movea.l #$0005e9fa,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    clr.l   -(sp)
    pea     ($0002).w
    pea     ($0001).w
    moveq   #$0,d0
    move.b  $0001(a3),d0
    subq.l  #$8,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  (a3),d0
    addq.l  #$8,d0
    bra.b   .l9f08
.l9ed4:                                                 ; $009ED4
    cmpi.w  #$7,d5
    bne.b   .l9f32
    move.w  d3,d0
    add.w   d0,d0
    movea.l #$0005e948,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    clr.l   -(sp)
    pea     ($0002).w
    pea     ($0001).w
    moveq   #$0,d0
    move.b  $0001(a3),d0
    subi.l  #$c,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  (a3),d0
    addq.l  #$4,d0
.l9f08:                                                 ; $009F08
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    addi.l  #$3b,d0
    move.l  d0,-(sp)
    pea     ($0544).w
    dc.w    $4eb9,$0001,$e044                           ; jsr $01E044
    pea     ($0001).w
    pea     ($000E).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $0024(sp),sp
.l9f32:                                                 ; $009F32
    addq.l  #$8,a2
    addq.w  #$1,d2
    cmpi.w  #$4,d2
    blt.w   .l9e64
    movem.l -$003c(a6),d2-d6/a2-a3
    unlk    a6
    rts
; ============================================================================
; NopStub -- (TODO: describe)
; Called: ?? times.
; 2 bytes | $009F48-$009F49
; ============================================================================
NopStub:                                                  ; $009F48
    rts
; ============================================================================
; SelectMenuItem -- Map selection index to menu entry, dispatch via MenuSelectEntry
; Called: 14 times.
; 62 bytes | $009F4A-$009F87
; ============================================================================
SelectMenuItem:                                                  ; $009F4A
    move.l  $0004(sp),d1
    cmpi.w  #$7,d1
    bge.b   .l9f58
    addq.w  #$2,d1
    bra.b   .l9f76
.l9f58:                                                 ; $009F58
    cmpi.w  #$2,($00FF0002).l
    bge.b   .l9f66
    moveq   #$a,d1
    bra.b   .l9f76
.l9f66:                                                 ; $009F66
    cmpi.w  #$3,($00FF0002).l
    bge.b   .l9f74
    moveq   #$b,d1
    bra.b   .l9f76
.l9f74:                                                 ; $009F74
    moveq   #$c,d1
.l9f76:                                                 ; $009F76
    pea     ($0001).w
    move.w  d1,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$d3ac                           ; jsr $01D3AC
    addq.l  #$8,sp
    rts
LoadSlotGraphics:                                                  ; $009F88
    movem.l d2-d5,-(sp)
    move.l  $0020(sp),d2
    move.l  $001c(sp),d3
    move.l  $0018(sp),d4
    move.l  $0014(sp),d5
    cmpi.w  #$1,d2
    bne.b   .l9fcc
    pea     ($00070F18).l
    pea     ($0002).w
    pea     ($0008).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d5,d0
    ext.l   d0
    move.l  d0,-(sp)
    clr.l   -(sp)
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $001c(sp),sp
.l9fcc:                                                 ; $009FCC
    move.w  d3,d0
    ext.l   d0
    lsl.l   #$2,d0
    movea.l #$000a1ac8,a0
    move.l  (a0,d0.l),-(sp)
    pea     ($00FF899C).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    pea     ($0010).w
    pea     ($03A4).w
    pea     ($00FF899C).l
    dc.w    $4eb9,$0000,$45e6                           ; jsr $0045E6
    lea     $0014(sp),sp
    movem.l (sp)+,d2-d5
    rts
; ============================================================================
; sub_00A006 -- (TODO: describe)
; Called: ?? times.
; 336 bytes | $00A006-$00A155
; ============================================================================
RunScreenLoop:                                                  ; $00A006
    movem.l d2-d3/a2,-(sp)
    movea.l #$0004c974,a2
    pea     ($0001).w
    dc.w    $4eb9,$0001,$d340                           ; jsr $01D340
    pea     ($0001).w
    pea     ($0001).w
    dc.w    $4eb9,$0001,$d3ac                           ; jsr $01D3AC
    lea     $000c(sp),sp
    dc.w    $4eba,$04f8                                 ; jsr $00A526
    nop
    dc.w    $4eba,$1718                                 ; jsr $00B74C
    nop
    dc.w    $4eb9,$0003,$a8d6                           ; jsr $03A8D6
    clr.w   d2
    clr.w   ($00FF17C4).l
    bra.w   .la12a
.la04a:                                                 ; $00A04A
    dc.w    $4eba,$010a                                 ; jsr $00A156
    nop
    tst.w   d0
    bne.b   .la068
    dc.w    $4eba,$027e                                 ; jsr $00A2D4
    nop
    cmpi.w  #$1,d0
    bne.w   .la12a
    moveq   #$1,d2
    bra.w   .la12a
.la068:                                                 ; $00A068
    pea     ($0010).w
    pea     ($0010).w
    move.l  a2,d0
    addq.l  #$2,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$5092                           ; jsr $005092
    move.l  a2,d0
    moveq   #$22,d1
    add.l   d1,d0
    move.l  d0,-(sp)
    pea     ($001C).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($0001).w
    pea     ($001B).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    move.l  a2,d0
    addi.l  #$0722,d0
    move.l  d0,-(sp)
    pea     ($00FF1804).l
    dc.w    $4eb9,$0000,$3fec                           ; jsr $003FEC
    lea     $0030(sp),sp
    pea     ($0001).w
    clr.l   -(sp)
    pea     ($00FF1804).l
    pea     ($0104).w
    pea     ($0001).w
    dc.w    $4eb9,$0001,$d568                           ; jsr $01D568
    dc.w    $4eb9,$0001,$77c4                           ; jsr $0177C4
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$7566                           ; jsr $017566
    lea     $0018(sp),sp
    move.w  d0,d3
    dc.w    $4eb9,$0001,$d71c                           ; jsr $01D71C
    move.w  d3,d0
    ext.l   d0
    moveq   #$ff,d1
    cmp.l   d0,d1
    beq.b   .la12a
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$2940                                 ; jsr $00CA3E
    nop
    dc.w    $4eba,$310a                                 ; jsr $00D20E
    nop
    dc.w    $4eb9,$0002,$949a                           ; jsr $02949A
    pea     ($0001).w
    dc.w    $4eb9,$0001,$819c                           ; jsr $01819C
    addq.l  #$8,sp
    move.w  #$1,($00FF17C4).l
    moveq   #$1,d2
    dc.w    $4eba,$1918                                 ; jsr $00BA3E
    nop
.la12a:                                                 ; $00A12A
    tst.w   d2
    beq.w   .la04a
    clr.w   d2
.la132:                                                 ; $00A132
    moveq   #$0,d0
    move.w  d2,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$e98e                           ; jsr $01E98E
    addq.l  #$4,sp
    addq.w  #$1,d2
    cmpi.w  #$7,d2
    bcs.b   .la132
    andi.w  #$7fff,($00FF0A34).l
    movem.l (sp)+,d2-d3/a2
    rts
    dc.w    $4E56,$FFDC,$48E7,$3838,$47EE               ; $00A156
    dc.w    $FFDC,$287C,$0004,$8F60,$4EB9,$0001,$E398,$3D7C; $00A160
    dc.w    $56B5,$FFFC,$3D7C,$6F7B,$FFFE,$4878,$0040,$42A7; $00A170
    dc.w    $4878,$0010,$4EB9,$0000,$0D64,$42A7,$4EB9,$0000; $00A180
    dc.w    $538E,$42A7,$42A7,$4878,$0004,$4EB9,$0000,$68CA; $00A190
    dc.w    $4878,$0020,$4878,$0020,$42A7,$42A7,$4EB9,$0003; $00A1A0
    dc.w    $A942,$4FEF,$002C,$4878,$0010,$4878,$0030,$200C; $00A1B0
    dc.w    $5480,$2F00,$4EB9,$0000,$5092,$200C,$7222,$D081; $00A1C0
    dc.w    $2F00,$4878,$0006,$4878,$0018,$4878,$0013,$4878; $00A1D0
    dc.w    $0004,$42A7,$4878,$001B,$4EB9,$0000,$0D64,$200C; $00A1E0
    dc.w    $0680,$0000,$0142,$2F00,$4879,$00FF,$1804,$4EB9; $00A1F0
    dc.w    $0000,$3FEC,$4FEF,$0030,$42A7,$42A7,$4879,$00FF; $00A200
    dc.w    $1804,$4878,$004A,$4878,$0301,$4EB9,$0001,$D568; $00A210
    dc.w    $4FEF,$0014,$4EB9,$0001,$D748,$4242,$7801,$244B; $00A220
    dc.w    $7012,$D5C0,$B444,$672E,$34BC,$0040,$377C,$0040; $00A230
    dc.w    $0014,$3002,$48C0,$D080,$2040,$37BC,$0060,$8812; $00A240
    dc.w    $4878,$0002,$4878,$0039,$2F0A,$4EB9,$0000,$5092; $00A250
    dc.w    $4FEF,$000C,$3802,$4878,$0001,$4878,$0003,$4EB9; $00A260
    dc.w    $0001,$D62C,$508F,$3600,$0280,$0000,$0033,$67E6; $00A270
    dc.w    $3003,$0240,$0030,$670A,$3003,$0240,$0020,$67A4; $00A280
    dc.w    $602A,$3003,$0240,$0001,$670C,$0C42,$0001,$6694; $00A290
    dc.w    $7801,$4242,$608E,$3003,$0240,$0002,$6786,$4A42; $00A2A0
    dc.w    $6600,$FF82,$4244,$7401,$6000,$FF7A,$4EB9,$0001; $00A2B0
    dc.w    $D71C,$4EB9,$0001,$E398,$3002,$4CEE,$1C1C,$FFC4; $00A2C0
    dc.w    $4E5E,$4E75,$48E7,$303C,$247C,$0004,$C974,$267C; $00A2D0
    dc.w    $0000,$0D64,$287C,$00FF,$1804,$2A7C,$0000,$5092; $00A2E0
    dc.w    $4242,$4878,$0001,$4EB9,$0000,$538E,$4878,$0010; $00A2F0
    dc.w    $4878,$0010,$200A,$5480,$2F00,$4E95,$200A,$7222; $00A300
    dc.w    $D081,$2F00,$4878,$001C,$4878,$0020,$42A7,$42A7; $00A310
    dc.w    $4878,$0001,$4878,$001B,$4E93,$4FEF,$002C,$200A; $00A320
    dc.w    $0680,$0000,$0722,$2F00,$2F0C,$4EB9,$0000,$3FEC; $00A330
    dc.w    $4878,$0001,$42A7,$2F0C,$4878,$0104,$4878,$0001; $00A340
    dc.w    $4EB9,$0001,$D568,$4878,$000D,$4E93,$4878,$000C; $00A350
    dc.w    $4E93,$4878,$0010,$42A7,$4879,$0007,$651E,$4E95; $00A360
    dc.w    $4FEF,$0030,$4EB9,$0001,$D748,$0C42,$0001,$6600; $00A370
    dc.w    $0088,$4EB9,$0001,$D71C,$4878,$0040,$42A7,$4878; $00A380
    dc.w    $0010,$4E93,$4878,$0001,$4EB9,$0000,$538E,$4878; $00A390
    dc.w    $0010,$4878,$0010,$200A,$5480,$2F00,$4E95,$4FEF; $00A3A0
    dc.w    $001C,$200A,$7222,$D081,$2F00,$4878,$001C,$4878; $00A3B0
    dc.w    $0020,$42A7,$42A7,$4878,$0001,$4878,$001B,$4E93; $00A3C0
    dc.w    $200A,$0680,$0000,$0722,$2F00,$2F0C,$4EB9,$0000; $00A3D0
    dc.w    $3FEC,$4FEF,$0024,$4878,$0001,$42A7,$2F0C,$4878; $00A3E0
    dc.w    $0104,$4878,$0001,$4EB9,$0001,$D568,$4FEF,$0014; $00A3F0
    dc.w    $4EB9,$0001,$D748,$4242,$4EBA,$01DA,$4E71,$4A40; $00A400
    dc.w    $6606,$4242,$6000,$0108,$4EBA,$2270,$4E71,$3039; $00A410
    dc.w    $00FF,$0002,$C0FC,$003C,$5240,$33C0,$00FF,$0006; $00A420
    dc.w    $4EBA,$2DDC,$4E71,$4EBA,$08CA,$4E71,$4A40,$6700; $00A430
    dc.w    $FF3A,$4EBA,$05D8,$4E71,$4A40,$6700,$FF2E,$4EBA; $00A440
    dc.w    $0BF2,$4E71,$4A40,$6606,$7401,$6000,$FF1E,$4878; $00A450
    dc.w    $0040,$42A7,$4878,$0010,$4E93,$4878,$0001,$4EB9; $00A460
    dc.w    $0000,$538E,$4878,$0010,$4878,$0010,$200A,$5480; $00A470
    dc.w    $2F00,$4E95,$4FEF,$001C,$200A,$7222,$D081,$2F00; $00A480
    dc.w    $4878,$001C,$4878,$0020,$42A7,$42A7,$4878,$0001; $00A490
    dc.w    $4878,$001B,$4E93,$200A,$0680,$0000,$0722,$2F00; $00A4A0
    dc.w    $2F0C,$4EB9,$0000,$3FEC,$4FEF,$0024,$4878,$0001; $00A4B0
    dc.w    $42A7,$2F0C,$4878,$0104,$4878,$0001,$4EB9,$0001; $00A4C0
    dc.w    $D568,$4FEF,$0014,$4EBA,$1CD4,$4E71,$3400,$0C40; $00A4D0
    dc.w    $0001,$6600,$FF74,$3039,$00FF,$0002,$48C0,$2200; $00A4E0
    dc.w    $E988,$9081,$E588,$2600,$5240,$33C0,$00FF,$0006; $00A4F0
    dc.w    $3003,$0640,$0050,$33C0,$00FF,$A6B2,$4EBA,$1570; $00A500
    dc.w    $4E71,$4EB9,$0002,$62E4,$4EBA,$1E9A,$4E71,$3002; $00A510
    dc.w    $4CDF,$3C0C,$4E75,$2F0A,$247C,$00FF,$0118,$203C; $00A520
    dc.w    $00FF,$0A3C,$0480,$00FF,$0000,$0280,$0000,$FFFF; $00A530
    dc.w    $2F00,$4879,$00FF,$0000,$4879,$0004,$6890,$4EB9; $00A540
    dc.w    $0000,$45B2,$33FC,$0022,$00FF,$999C,$33FC,$0021; $00A550
    dc.w    $00FF,$BA68,$33FC,$0021,$00FF,$1288,$33FC,$0042; $00A560
    dc.w    $00FF,$BD4C,$33FC,$0032,$00FF,$1294,$33FC,$000A; $00A570
    dc.w    $00FF,$0118,$357C,$0E42,$0002,$357C,$02AC,$0004; $00A580
    dc.w    $357C,$0480,$0006,$33FC,$FFFF,$00FF,$0A32,$33FC; $00A590
    dc.w    $0001,$00FF,$0008,$33FC,$0001,$00FF,$000A,$33FC; $00A5A0
    dc.w    $0001,$00FF,$000C,$33FC,$0001,$00FF,$000E,$33FC; $00A5B0
    dc.w    $0001,$00FF,$0010,$4878,$0030,$4879,$00FF,$1480; $00A5C0
    dc.w    $4879,$0004,$7600,$4EB9,$0000,$45B2,$4FEF,$0018; $00A5D0
    dc.w    $245F,$4E75,$4E56,$FF80,$48E7,$3C3C,$247C,$00FF; $00A5E0
    dc.w    $0002,$267C,$0003,$B246,$287C,$0000,$0D64,$2A7C; $00A5F0
    dc.w    $0004,$7630,$42A7,$4EB9,$0000,$538E,$7605,$4878; $00A600
    dc.w    $000D,$4878,$0020,$4878,$0004,$42A7,$4EB9,$0000; $00A610
    dc.w    $5A04,$4878,$0020,$4878,$0020,$42A7,$42A7,$4EB9; $00A620
    dc.w    $0003,$A942,$4FEF,$0024,$4242,$3003,$48C0,$2F00; $00A630
    dc.w    $4878,$0002,$4EB9,$0003,$AB2C,$3002,$48C0,$E588; $00A640
    dc.w    $2040,$2F35,$8800,$3002,$48C0,$5280,$2F00,$4879; $00A650
    dc.w    $0003,$E570,$4E93,$3003,$48C0,$5280,$2F00,$4878; $00A660
    dc.w    $0006,$4EB9,$0003,$AB2C,$3002,$48C0,$E588,$2040; $00A670
    dc.w    $2F35,$8810,$4E93,$4FEF,$0020,$5643,$5242,$0C42; $00A680
    dc.w    $0004,$6DA6,$4EB9,$0001,$D748,$42A7,$42A7,$42A7; $00A690
    dc.w    $2F39,$0004,$75DC,$42A7,$4EBA,$1F74,$4E71,$42A7; $00A6A0
    dc.w    $4EB9,$0001,$E1EC,$4FEF,$0018,$4A40,$6704,$7801; $00A6B0
    dc.w    $6002,$7800,$4245,$4279,$00FF,$13FC,$4279,$00FF; $00A6C0
    dc.w    $A7D8,$4252,$3612,$D643,$D652,$5843,$42A7,$4878; $00A6D0
    dc.w    $0002,$4878,$0001,$3003,$48C0,$E788,$0680,$0000; $00A6E0
    dc.w    $0009,$2F00,$4878,$0011,$4878,$0002,$4878,$0544; $00A6F0
    dc.w    $4EB9,$0001,$E044,$4878,$0001,$4878,$000E,$4E94; $00A700
    dc.w    $4FEF,$0024,$4A44,$671C,$42A7,$4EB9,$0001,$E1EC; $00A710
    dc.w    $588F,$4A40,$670E,$4878,$0002,$4878,$000E,$4E94; $00A720
    dc.w    $508F,$60A0,$4244,$3005,$2F00,$4878,$000A,$4EB9; $00A730
    dc.w    $0001,$E290,$508F,$0240,$0033,$3A00,$0240,$0020; $00A740
    dc.w    $6700,$024A,$4279,$00FF,$13FC,$4279,$00FF,$A7D8; $00A750
    dc.w    $42A7,$4878,$0002,$4878,$0001,$3403,$48C2,$E78A; $00A760
    dc.w    $0682,$0000,$0009,$2F02,$4878,$0011,$4878,$0002; $00A770
    dc.w    $4878,$0546,$4EB9,$0001,$E044,$4878,$000F,$4878; $00A780
    dc.w    $000E,$4E94,$4FEF,$0024,$42A7,$4878,$0002,$4878; $00A790
    dc.w    $0001,$2F02,$4878,$0011,$4878,$0002,$4878,$0548; $00A7A0
    dc.w    $4EB9,$0001,$E044,$4878,$000F,$4878,$000E,$4E94; $00A7B0
    dc.w    $4878,$0001,$4878,$0002,$4EB9,$0001,$E0B8,$4FEF; $00A7C0
    dc.w    $002C,$2F3C,$0000,$8000,$4878,$000D,$4878,$0020; $00A7D0
    dc.w    $4878,$0004,$42A7,$42A7,$4878,$001A,$4E94,$4878; $00A7E0
    dc.w    $0011,$4878,$001E,$4878,$0001,$4878,$0001,$4EB9; $00A7F0
    dc.w    $0000,$5A04,$4FEF,$002C,$3012,$48C0,$5280,$2F00; $00A800
    dc.w    $4879,$0003,$E562,$4E93,$3012,$48C0,$E588,$2040; $00A810
    dc.w    $2F35,$8800,$4879,$0003,$E55E,$4E93,$3012,$48C0; $00A820
    dc.w    $E588,$2040,$2F35,$8810,$4879,$0003,$E55A,$4E93; $00A830
    dc.w    $4878,$0010,$4878,$001B,$4878,$0002,$4878,$0002; $00A840
    dc.w    $4EB9,$0003,$A942,$4878,$0007,$4878,$0002,$4EB9; $00A850
    dc.w    $0003,$AB2C,$4FEF,$0030,$3012,$E548,$207C,$0004; $00A860
    dc.w    $7650,$2F30,$0000,$4879,$0003,$E556,$4E93,$4878; $00A870
    dc.w    $000D,$4878,$0002,$4EB9,$0003,$AB2C,$3012,$E548; $00A880
    dc.w    $207C,$0004,$7660,$2F30,$0000,$4879,$0003,$E538; $00A890
    dc.w    $4E93,$4879,$0003,$E52A,$2F39,$0004,$75F0,$486E; $00A8A0
    dc.w    $FF80,$4EB9,$0003,$B22C,$4FEF,$0024,$42A7,$4878; $00A8B0
    dc.w    $0001,$42A7,$486E,$FF80,$42A7,$4EBA,$1D52,$4E71; $00A8C0
    dc.w    $4FEF,$0014,$4A40,$6600,$0136,$42A7,$4878,$0011; $00A8D0
    dc.w    $4878,$001E,$4878,$0001,$4878,$0001,$42A7,$4878; $00A8E0
    dc.w    $001A,$4E94,$7605,$4878,$000D,$4878,$0020,$4878; $00A8F0
    dc.w    $0004,$42A7,$4EB9,$0000,$5A04,$4FEF,$002C,$4878; $00A900
    dc.w    $0020,$4878,$0020,$42A7,$42A7,$4EB9,$0003,$A942; $00A910
    dc.w    $4FEF,$0010,$4242,$3003,$48C0,$2F00,$4878,$0002; $00A920
    dc.w    $4EB9,$0003,$AB2C,$3002,$48C0,$E588,$2040,$2F35; $00A930
    dc.w    $8800,$3002,$48C0,$5280,$2F00,$4879,$0003,$E522; $00A940
    dc.w    $4E93,$3003,$48C0,$5280,$2F00,$4878,$0006,$4EB9; $00A950
    dc.w    $0003,$AB2C,$3002,$48C0,$E588,$2040,$2F35,$8810; $00A960
    dc.w    $4E93,$4FEF,$0020,$5643,$5242,$0C42,$0004,$6DA6; $00A970
    dc.w    $42A7,$42A7,$42A7,$2F39,$0004,$75DC,$42A7,$4EBA; $00A980
    dc.w    $1C8E,$4E71,$4FEF,$0014,$6000,$FD3A,$3005,$0240; $00A990
    dc.w    $0010,$6716,$4279,$00FF,$13FC,$4279,$00FF,$A7D8; $00A9A0
    dc.w    $4242,$4EB9,$0001,$D71C,$6056,$3005,$0240,$0002; $00A9B0
    dc.w    $6720,$33FC,$0001,$00FF,$13FC,$3012,$48C0,$5280; $00A9C0
    dc.w    $7203,$B280,$6F08,$3012,$48C0,$5280,$6002,$7003; $00A9D0
    dc.w    $3480,$3005,$0240,$0001,$671C,$33FC,$0001,$00FF; $00A9E0
    dc.w    $13FC,$3012,$48C0,$5380,$6F08,$3012,$48C0,$5380; $00A9F0
    dc.w    $6002,$7000,$3480,$4878,$0005,$6000,$FD1E,$7401; $00AA00
    dc.w    $3002,$4CEE,$3C3C,$FF60,$4E5E,$4E75,$4E56,$FFE0; $00AA10
    dc.w    $48E7,$3C3C,$267C,$0000,$0D64,$49EE,$FFE0,$2A7C; $00AA20
    dc.w    $00FF,$13FC,$247C,$00FF,$0018,$4242,$4212,$157C; $00AA30
    dc.w    $00FF,$0001,$7024,$D5C0,$5242,$0C42,$0004,$6DEC; $00AA40
    dc.w    $2F3C,$0000,$8000,$4878,$0011,$4878,$0020,$42A7; $00AA50
    dc.w    $42A7,$42A7,$4878,$001A,$4E93,$4878,$0010,$4878; $00AA60
    dc.w    $0030,$4879,$0007,$6A5E,$4EB9,$0000,$5092,$2F39; $00AA70
    dc.w    $000A,$1B0C,$4879,$00FF,$1804,$4EB9,$0000,$3FEC; $00AA80
    dc.w    $4FEF,$0030,$4878,$0055,$4878,$010F,$4879,$00FF; $00AA90
    dc.w    $1804,$4EB9,$0000,$4668,$4879,$0007,$1D24,$4878; $00AAA0
    dc.w    $000F,$4878,$0012,$4878,$0002,$4878,$0007,$42A7; $00AAB0
    dc.w    $4878,$001B,$4E93,$4FEF,$0028,$42A7,$42A7,$42A7; $00AAC0
    dc.w    $4879,$0003,$E578,$42A7,$4EBA,$1B44,$4E71,$42A7; $00AAD0
    dc.w    $4EB9,$0001,$E1EC,$4FEF,$0018,$4A40,$6704,$7401; $00AAE0
    dc.w    $6002,$7400,$4245,$4255,$4279,$00FF,$A7D8,$7601; $00AAF0
    dc.w    $4244,$42A7,$4878,$0002,$4878,$0001,$3003,$48C0; $00AB00
    dc.w    $E988,$0680,$0000,$0030,$2F00,$4878,$0048,$4878; $00AB10
    dc.w    $0002,$4878,$0544,$4EB9,$0001,$E044,$4878,$0001; $00AB20
    dc.w    $4878,$000E,$4E93,$4FEF,$0024,$4A44,$6606,$0C44; $00AB30
    dc.w    $0004,$6756,$B843,$6752,$397C,$0040,$0012,$397C; $00AB40
    dc.w    $0040,$0014,$397C,$0040,$0016,$397C,$0040,$0018; $00AB50
    dc.w    $397C,$0040,$001A,$3003,$48C0,$D080,$2040,$39BC; $00AB60
    dc.w    $0060,$8812,$4878,$0005,$4878,$0039,$200C,$7212; $00AB70
    dc.w    $D081,$2F00,$4EB9,$0000,$5092,$3803,$4878,$0004; $00AB80
    dc.w    $4878,$000E,$4E93,$4FEF,$0014,$4A42,$671E,$42A7; $00AB90
    dc.w    $4EB9,$0001,$E1EC,$588F,$4A40,$6710,$4878,$0002; $00ABA0
    dc.w    $4878,$000E,$4E93,$508F,$6000,$FF48,$4242,$3005; $00ABB0
    dc.w    $2F00,$4878,$000A,$4EB9,$0001,$E290,$508F,$0240; $00ABC0
    dc.w    $0033,$3A00,$0240,$0030,$6700,$008E,$4255,$4279; $00ABD0
    dc.w    $00FF,$A7D8,$3005,$0240,$0020,$6778,$42A7,$4878; $00ABE0
    dc.w    $0002,$4878,$0001,$3403,$48C2,$E98A,$0682,$0000; $00ABF0
    dc.w    $0030,$2F02,$4878,$0048,$4878,$0002,$4878,$0546; $00AC00
    dc.w    $4EB9,$0001,$E044,$4878,$000F,$4878,$000E,$4E93; $00AC10
    dc.w    $4FEF,$0024,$42A7,$4878,$0002,$4878,$0001,$2F02; $00AC20
    dc.w    $4878,$0048,$4878,$0002,$4878,$0548,$4EB9,$0001; $00AC30
    dc.w    $E044,$4878,$000F,$4878,$000E,$4E93,$4FEF,$0024; $00AC40
    dc.w    $7801,$4878,$0040,$42A7,$4878,$0010,$4E93,$4FEF; $00AC50
    dc.w    $000C,$6050,$4244,$60EA,$3005,$0240,$0001,$6718; $00AC60
    dc.w    $3ABC,$0001,$3003,$48C0,$5380,$6F08,$3003,$48C0; $00AC70
    dc.w    $5380,$6026,$7000,$6022,$3005,$0240,$0002,$671C; $00AC80
    dc.w    $3ABC,$0001,$3003,$48C0,$5280,$7204,$B280,$6F08; $00AC90
    dc.w    $3003,$48C0,$5280,$6002,$7004,$3600,$4878,$0004; $00ACA0
    dc.w    $6000,$FEFE,$2F3C,$0000,$8000,$4878,$000F,$4878; $00ACB0
    dc.w    $0012,$4878,$0002,$4878,$0007,$42A7,$4878,$001A; $00ACC0
    dc.w    $4E93,$247C,$00FF,$0018,$4242,$600A,$14BC,$0001; $00ACD0
    dc.w    $7024,$D5C0,$5242,$B443,$6DF2,$3003,$0040,$8000; $00ACE0
    dc.w    $33C0,$00FF,$0A34,$3004,$4CEE,$3C3C,$FFC0,$4E5E; $00ACF0
    dc.w    $4E75,$48E7,$3C38,$247C,$0000,$0D64,$267C,$0001; $00AD00
    dc.w    $E044,$287C,$00FF,$13FC,$42A7,$4878,$0011,$4878; $00AD10
    dc.w    $001E,$4878,$0001,$4878,$0001,$42A7,$4878,$001A; $00AD20
    dc.w    $4E92,$4878,$000C,$4878,$0017,$4878,$0003,$4878; $00AD30
    dc.w    $0004,$4EB9,$0000,$5A04,$4FEF,$002C,$7807,$7604; $00AD40
    dc.w    $4242,$3003,$48C0,$2F00,$3004,$48C0,$2F00,$4EB9; $00AD50
    dc.w    $0003,$AB2C,$3002,$E548,$207C,$0004,$7670,$2F30; $00AD60
    dc.w    $0000,$4879,$0003,$E5C8,$4EB9,$0003,$B246,$3003; $00AD70
    dc.w    $48C0,$2F00,$4878,$0012,$4EB9,$0003,$AB2C,$3002; $00AD80
    dc.w    $48C0,$5280,$2F00,$4879,$0003,$E5BE,$4EB9,$0003; $00AD90
    dc.w    $B270,$4FEF,$0020,$5443,$5242,$0C42,$0005,$6DA2; $00ADA0
    dc.w    $42A7,$42A7,$42A7,$2F39,$0004,$75E4,$42A7,$4EBA; $00ADB0
    dc.w    $185E,$4E71,$42A7,$4EB9,$0001,$E1EC,$4FEF,$0018; $00ADC0
    dc.w    $4A40,$6704,$7801,$6002,$7800,$4245,$4254,$4279; $00ADD0
    dc.w    $00FF,$A7D8,$4242,$3602,$D643,$5843,$42A7,$4878; $00ADE0
    dc.w    $0002,$4878,$0001,$3003,$48C0,$E788,$2F00,$4878; $00ADF0
    dc.w    $0030,$4878,$0002,$4878,$0544,$4E93,$4878,$0001; $00AE00
    dc.w    $4878,$000E,$4E92,$4FEF,$0024,$4A44,$671C,$42A7; $00AE10
    dc.w    $4EB9,$0001,$E1EC,$588F,$4A40,$670E,$4878,$0002; $00AE20
    dc.w    $4878,$000E,$4E92,$508F,$60AC,$4244,$3005,$2F00; $00AE30
    dc.w    $4878,$000A,$4EB9,$0001,$E290,$508F,$0240,$0033; $00AE40
    dc.w    $3A00,$0240,$0030,$6774,$4254,$4279,$00FF,$A7D8; $00AE50
    dc.w    $3005,$0240,$0020,$6700,$00AC,$42A7,$4878,$0002; $00AE60
    dc.w    $4878,$0001,$3003,$48C0,$E788,$2600,$2F00,$4878; $00AE70
    dc.w    $0030,$4878,$0002,$4878,$0546,$4E93,$4878,$000F; $00AE80
    dc.w    $4878,$000E,$4E92,$4FEF,$0024,$42A7,$4878,$0002; $00AE90
    dc.w    $4878,$0001,$2F03,$4878,$0030,$4878,$0002,$4878; $00AEA0
    dc.w    $0548,$4E93,$4878,$000F,$4878,$000E,$4E92,$4FEF; $00AEB0
    dc.w    $0024,$33C2,$00FF,$0004,$7401,$604A,$3005,$0240; $00AEC0
    dc.w    $0003,$6738,$38BC,$0001,$3005,$0240,$0001,$6714; $00AED0
    dc.w    $3002,$48C0,$5380,$6F08,$3002,$48C0,$5380,$601A; $00AEE0
    dc.w    $7000,$6016,$3002,$48C0,$5280,$7204,$B280,$6F08; $00AEF0
    dc.w    $3002,$48C0,$5280,$6002,$7004,$3400,$4878,$0005; $00AF00
    dc.w    $6000,$FF1E,$4242,$4878,$0001,$4878,$0002,$4EB9; $00AF10
    dc.w    $0001,$E0B8,$508F,$3002,$4CDF,$1C3C,$4E75,$48E7; $00AF20
    dc.w    $3030,$262F,$0014,$247C,$00FF,$0018,$0C43,$0007; $00AF30
    dc.w    $6C00,$0090,$4242,$0C2A,$00FF,$0001,$6774,$7000; $00AF40
    dc.w    $102A,$0001,$48C0,$2F00,$4EB9,$0000,$D648,$588F; $00AF50
    dc.w    $B043,$665E,$7000,$102A,$0001,$D040,$207C,$0005; $00AF60
    dc.w    $E9FA,$41F0,$0000,$2648,$3003,$E548,$207C,$0005; $00AF70
    dc.w    $ECBC,$1230,$0000,$42A7,$4878,$0001,$4878,$0001; $00AF80
    dc.w    $7000,$102B,$0001,$2F00,$7000,$1013,$2F00,$3002; $00AF90
    dc.w    $48C0,$5280,$2F00,$4878,$0760,$4EB9,$0001,$E044; $00AFA0
    dc.w    $4878,$0001,$4878,$000E,$4EB9,$0000,$0D64,$4FEF; $00AFB0
    dc.w    $0024,$7024,$D5C0,$5242,$0C42,$0004,$6D00,$FF78; $00AFC0
    dc.w    $606A,$4242,$0C2A,$00FF,$0001,$6754,$7000,$102A; $00AFD0
    dc.w    $0001,$D040,$207C,$0005,$E948,$41F0,$0000,$2648; $00AFE0
    dc.w    $42A7,$4878,$0001,$4878,$0001,$7000,$102B,$0001; $00AFF0
    dc.w    $5980,$2F00,$7000,$1013,$5980,$2F00,$3002,$48C0; $00B000
    dc.w    $5280,$2F00,$4878,$0760,$4EB9,$0001,$E044,$4878; $00B010
    dc.w    $0001,$4878,$000E,$4EB9,$0000,$0D64,$4FEF,$0024; $00B020
    dc.w    $7024,$D5C0,$5242,$0C42,$0004,$6D98,$4CDF,$0C0C; $00B030
    dc.w    $4E75,$48E7,$3C38,$267C,$0000,$0D64,$287C,$0001; $00B040
    dc.w    $D520,$2A3C,$2288,$9011,$4878,$0010,$42A7,$4879; $00B050
    dc.w    $00FF,$08EC,$4E94,$4878,$0010,$42A7,$4879,$00FF; $00B060
    dc.w    $A6A0,$4E94,$4878,$0040,$42A7,$4879,$00FF,$00A8; $00B070
    dc.w    $4E94,$4FEF,$0024,$7800,$247C,$00FF,$0018,$4243; $00B080
    dc.w    $0C12,$0001,$6640,$2F04,$3003,$48C0,$2F00,$4EBA; $00B090
    dc.w    $0354,$4E71,$3400,$4878,$0040,$42A7,$4878,$0010; $00B0A0
    dc.w    $4E93,$42A7,$4EB9,$0000,$538E,$42A7,$42A7,$4878; $00B0B0
    dc.w    $0004,$4EB9,$0000,$68CA,$4FEF,$0024,$4EB9,$0001; $00B0C0
    dc.w    $D748,$6000,$0086,$4A43,$6638,$4EB9,$0001,$D71C; $00B0D0
    dc.w    $4EB9,$0000,$814A,$4878,$0040,$42A7,$4878,$0010; $00B0E0
    dc.w    $4E93,$42A7,$4EB9,$0000,$538E,$42A7,$42A7,$4878; $00B0F0
    dc.w    $0004,$4EB9,$0000,$68CA,$4FEF,$001C,$4EB9,$0001; $00B100
    dc.w    $D748,$4878,$001F,$42A7,$4EB9,$0001,$D6A4,$508F; $00B110
    dc.w    $3400,$48C0,$7201,$E1A9,$2001,$C084,$66E4,$3002; $00B120
    dc.w    $48C0,$7201,$E1A9,$2001,$C085,$67D6,$1542,$0001; $00B130
    dc.w    $3003,$48C0,$2F00,$4EBA,$009E,$4E71,$588F,$1540; $00B140
    dc.w    $0001,$2400,$0282,$0000,$00FF,$4878,$0007,$6100; $00B150
    dc.w    $FDCE,$4878,$0014,$4878,$000E,$4E93,$3002,$48C0; $00B160
    dc.w    $7201,$E1A9,$3003,$E548,$207C,$00FF,$08EC,$2181; $00B170
    dc.w    $0000,$3002,$48C0,$7201,$E1A9,$3003,$E548,$207C; $00B180
    dc.w    $00FF,$A6A0,$2181,$0000,$3002,$48C0,$7201,$E1A9; $00B190
    dc.w    $2001,$8880,$3002,$E548,$207C,$0005,$EAAC,$2F30; $00B1A0
    dc.w    $0000,$3003,$E948,$207C,$00FF,$00A8,$4870,$0000; $00B1B0
    dc.w    $4EB9,$0001,$E3EE,$4FEF,$0014,$7024,$D5C0,$5243; $00B1C0
    dc.w    $0C43,$0004,$6D00,$FEBA,$4EB9,$0001,$D71C,$7001; $00B1D0
    dc.w    $4CDF,$1C3C,$4E75,$48E7,$3C30,$2A2F,$001C,$267C; $00B1E0
    dc.w    $00FF,$0002,$0C79,$0003,$00FF,$0004,$6F14,$7000; $00B1F0
    dc.w    $3005,$2F00,$4EBA,$00F4,$4E71,$588F,$3400,$6000; $00B200
    dc.w    $008A,$4878,$001F,$42A7,$4EB9,$0001,$D6A4,$508F; $00B210
    dc.w    $3400,$0C42,$0002,$67CC,$0C42,$0003,$67C6,$0C42; $00B220
    dc.w    $0007,$6604,$4A53,$67BC,$0C42,$0008,$67B6,$0C42; $00B230
    dc.w    $000B,$6604,$4A53,$67AC,$0C42,$0009,$6606,$0C53; $00B240
    dc.w    $0001,$67A0,$0C42,$000A,$6606,$0C53,$0001,$6794; $00B250
    dc.w    $0C42,$000A,$6606,$0C53,$0002,$6788,$0C42,$0012; $00B260
    dc.w    $6782,$0C42,$0014,$6700,$FF7C,$0C42,$0015,$6700; $00B270
    dc.w    $FF74,$0C42,$0016,$6700,$FF6C,$0C42,$001B,$6700; $00B280
    dc.w    $FF64,$0C42,$001F,$6700,$FF5C,$7801,$247C,$00FF; $00B290
    dc.w    $0018,$4243,$6040,$4A12,$662C,$3002,$48C0,$2F00; $00B2A0
    dc.w    $4EB9,$0000,$D648,$588F,$2F00,$7000,$102A,$0001; $00B2B0
    dc.w    $48C0,$2F00,$4EB9,$0000,$D648,$588F,$221F,$B041; $00B2C0
    dc.w    $660E,$4244,$6014,$7000,$102A,$0001,$B042,$60F0; $00B2D0
    dc.w    $7024,$D5C0,$5243,$B645,$65BC,$0C44,$0001,$6600; $00B2E0
    dc.w    $FF04,$3002,$4CDF,$0C3C,$4E75,$48E7,$3820,$262F; $00B2F0
    dc.w    $0014,$247C,$00FF,$0002,$343C,$00FF,$4EB9,$0002; $00B300
    dc.w    $7AA4,$3800,$0C44,$0001,$6600,$0096,$0C43,$0001; $00B310
    dc.w    $6600,$008E,$7600,$1639,$00FF,$0019,$7000,$3003; $00B320
    dc.w    $2F00,$4EB9,$0000,$D648,$588F,$3800,$4A44,$6608; $00B330
    dc.w    $4A43,$676C,$4242,$6068,$0C44,$0003,$660A,$0C43; $00B340
    dc.w    $000C,$675C,$740C,$6058,$0C44,$0004,$660A,$0C43; $00B350
    dc.w    $0013,$674C,$7413,$6048,$0C44,$0005,$6634,$0C43; $00B360
    dc.w    $0017,$673C,$0C43,$0019,$6736,$4A52,$6604,$7417; $00B370
    dc.w    $602E,$4878,$0064,$4878,$0001,$4EB9,$0001,$D6A4; $00B380
    dc.w    $508F,$7202,$4EB9,$0003,$E146,$4A80,$67E0,$7419; $00B390
    dc.w    $600E,$0C44,$0006,$6608,$0C43,$001D,$6702,$741D; $00B3A0
    dc.w    $0C42,$00FF,$6636,$4242,$7608,$0C52,$0002,$6C04; $00B3B0
    dc.w    $7607,$6008,$0C52,$0003,$6602,$7401,$7000,$3003; $00B3C0
    dc.w    $2F00,$7000,$3002,$2F00,$4EB9,$0001,$D6A4,$508F; $00B3D0
    dc.w    $D040,$207C,$0005,$FD24,$3430,$0000,$3002,$4CDF; $00B3E0
    dc.w    $041C,$4E75,$4E56,$FFAC,$48E7,$383C,$262E,$0008; $00B3F0
    dc.w    $282E,$000C,$49EE,$FFAE,$2A7C,$0000,$0D64,$3003; $00B400
    dc.w    $C0FC,$0024,$207C,$00FF,$0018,$41F0,$0000,$2648; $00B410
    dc.w    $33FC,$0080,$00FF,$BD64,$33FC,$0080,$00FF,$BD66; $00B420
    dc.w    $4EB9,$0001,$D71C,$4EB9,$0001,$E398,$4878,$0040; $00B430
    dc.w    $42A7,$4878,$0010,$4E95,$42A7,$4EB9,$0000,$538E; $00B440
    dc.w    $4878,$0001,$4878,$0001,$4878,$0004,$4EB9,$0000; $00B450
    dc.w    $68CA,$4878,$0007,$6100,$FAC6,$4FEF,$0020,$4EB9; $00B460
    dc.w    $0001,$D748,$247C,$0004,$75E8,$3003,$48C0,$5280; $00B470
    dc.w    $2F00,$4879,$0003,$E5D2,$2F12,$2F0C,$4EB9,$0003; $00B480
    dc.w    $B22C,$42A7,$42A7,$42A7,$2F0C,$42A7,$4EBA,$1180; $00B490
    dc.w    $4E71,$4EBA,$140E,$4E71,$3D40,$FFFE,$0C40,$00FF; $00B4A0
    dc.w    $67F0,$4EB9,$0001,$D71C,$4EB9,$0001,$E398,$4878; $00B4B0
    dc.w    $0001,$302E,$FFFE,$48C0,$2F00,$3003,$48C0,$2F00; $00B4C0
    dc.w    $4EB9,$0000,$6A2E,$4FEF,$0030,$4878,$0003,$302E; $00B4D0
    dc.w    $FFFE,$48C0,$2F00,$3003,$48C0,$2F00,$4EB9,$0000; $00B4E0
    dc.w    $6B78,$302E,$FFFE,$48C0,$2F00,$6100,$FA32,$4EB9; $00B4F0
    dc.w    $0001,$D748,$3003,$48C0,$5280,$2F00,$4879,$0003; $00B500
    dc.w    $E5CC,$2F12,$2F0C,$4EB9,$0003,$B22C,$4FEF,$0020; $00B510
    dc.w    $4878,$0001,$42A7,$42A7,$2F0C,$42A7,$4EBA,$10F0; $00B520
    dc.w    $4E71,$42A7,$4878,$0006,$4878,$001C,$4878,$0013; $00B530
    dc.w    $4878,$0002,$42A7,$4878,$001A,$4E95,$4FEF,$0030; $00B540
    dc.w    $486E,$FFFE,$3003,$48C0,$2F00,$4EB9,$0000,$8E0C; $00B550
    dc.w    $508F,$3400,$0C42,$0020,$6C00,$0106,$4878,$0002; $00B560
    dc.w    $4878,$0037,$4EB9,$0001,$E0B8,$508F,$3002,$48C0; $00B570
    dc.w    $7201,$E1A9,$2001,$C084,$6600,$0082,$3002,$E548; $00B580
    dc.w    $207C,$0005,$E680,$2F30,$0000,$2F39,$0004,$75F0; $00B590
    dc.w    $2F0C,$4EB9,$0003,$B22C,$42A7,$4878,$0001,$42A7; $00B5A0
    dc.w    $2F0C,$42A7,$4EBA,$1068,$4E71,$4FEF,$0020,$0C40; $00B5B0
    dc.w    $0001,$6718,$343C,$00FF,$4878,$0002,$4878,$0037; $00B5C0
    dc.w    $4EB9,$0001,$E0B8,$508F,$6000,$00E6,$4878,$0002; $00B5D0
    dc.w    $4878,$0037,$4EB9,$0001,$E0B8,$42A7,$4878,$0006; $00B5E0
    dc.w    $4878,$001C,$4878,$0013,$4878,$0002,$42A7,$4878; $00B5F0
    dc.w    $001A,$4E95,$4FEF,$0024,$6000,$00DC,$4878,$0002; $00B600
    dc.w    $4878,$0037,$4EB9,$0001,$E0B8,$3002,$E548,$207C; $00B610
    dc.w    $0005,$E680,$2F30,$0000,$2F39,$0004,$75FC,$2F0C; $00B620
    dc.w    $4EB9,$0003,$B22C,$4878,$0001,$42A7,$42A7,$2F0C; $00B630
    dc.w    $42A7,$4EBA,$0FDA,$4E71,$4FEF,$0028,$42A7,$4878; $00B640
    dc.w    $0006,$4878,$001C,$4878,$0013,$4878,$0002,$42A7; $00B650
    dc.w    $4878,$001A,$4E95,$4FEF,$001C,$343C,$00FF,$606E; $00B660
    dc.w    $0C42,$0020,$6D68,$0C42,$00FF,$6762,$4878,$0002; $00B670
    dc.w    $4878,$0037,$4EB9,$0001,$E0B8,$3002,$E548,$207C; $00B680
    dc.w    $0005,$E680,$2F30,$0000,$2F39,$0004,$75EC,$2F0C; $00B690
    dc.w    $4EB9,$0003,$B22C,$4878,$0001,$42A7,$42A7,$2F0C; $00B6A0
    dc.w    $42A7,$4EBA,$0F6A,$4E71,$4FEF,$0028,$343C,$00FF; $00B6B0
    dc.w    $42A7,$4878,$0006,$4878,$001C,$4878,$0013,$4878; $00B6C0
    dc.w    $0002,$42A7,$4878,$001A,$4E95,$4FEF,$001C,$0C42; $00B6D0
    dc.w    $00FF,$6600,$FE6C,$0C42,$00FF,$6642,$4EB9,$0001; $00B6E0
    dc.w    $D71C,$4EB9,$0001,$E398,$4878,$0040,$42A7,$4878; $00B6F0
    dc.w    $0010,$4E95,$42A7,$4EB9,$0000,$538E,$42A7,$4878; $00B700
    dc.w    $0001,$4878,$0004,$4EB9,$0000,$68CA,$4878,$0007; $00B710
    dc.w    $6100,$F80C,$4FEF,$0020,$4EB9,$0001,$D748,$0C42; $00B720
    dc.w    $00FF,$6700,$FD46,$1742,$0001,$4EB9,$0001,$D71C; $00B730
    dc.w    $3002,$4CEE,$3C1C,$FF90,$4E5E,$4E75,$48E7,$203C; $00B740
    dc.w    $247C,$0001,$D520,$267C,$00FF,$88DC,$287C,$00FF; $00B750
    dc.w    $9A20,$2A7C,$0001,$D538,$4878,$0090,$42A7,$4879; $00B760
    dc.w    $00FF,$0018,$4E92,$4878,$0040,$42A7,$4879,$00FF; $00B770
    dc.w    $00A8,$4E92,$4878,$0030,$42A7,$4879,$00FF,$00E8; $00B780
    dc.w    $4E92,$4878,$0080,$42A7,$4879,$00FF,$0130,$4E92; $00B790
    dc.w    $4FEF,$0030,$4878,$0080,$42A7,$4879,$00FF,$01B0; $00B7A0
    dc.w    $4E92,$4878,$0040,$42A7,$4879,$00FF,$0230,$4E92; $00B7B0
    dc.w    $4878,$0020,$42A7,$4879,$00FF,$0270,$4E92,$4878; $00B7C0
    dc.w    $0018,$42A7,$4879,$00FF,$0290,$4E92,$4FEF,$0030; $00B7D0
    dc.w    $4878,$0080,$42A7,$4879,$00FF,$B9E8,$4E92,$4878; $00B7E0
    dc.w    $0050,$42A7,$4879,$00FF,$02E8,$4E92,$4878,$0080; $00B7F0
    dc.w    $42A7,$4879,$00FF,$0338,$4E92,$4878,$0030,$42A7; $00B800
    dc.w    $4879,$00FF,$03F0,$4E92,$4FEF,$0030,$4878,$0010; $00B810
    dc.w    $42A7,$4879,$00FF,$08EC,$4E92,$4878,$00C0,$4878; $00B820
    dc.w    $00FF,$4879,$00FF,$0420,$4E92,$4878,$00E4,$4878; $00B830
    dc.w    $00FF,$4879,$00FF,$04E0,$4E92,$4878,$0020,$42A7; $00B840
    dc.w    $4879,$00FF,$09A2,$4E92,$4FEF,$0030,$4878,$0059; $00B850
    dc.w    $42A7,$4879,$00FF,$09D8,$4E92,$4878,$001C,$42A7; $00B860
    dc.w    $4879,$00FF,$BDE4,$4E92,$4878,$001C,$42A7,$4879; $00B870
    dc.w    $00FF,$A7BC,$4E92,$4878,$0010,$42A7,$4879,$00FF; $00B880
    dc.w    $A6A0,$4E92,$4FEF,$0030,$4878,$0038,$42A7,$4879; $00B890
    dc.w    $00FF,$BD6C,$4E92,$4878,$0010,$42A7,$4879,$00FF; $00B8A0
    dc.w    $1278,$4E92,$4878,$02C8,$42A7,$4879,$00FF,$BA80; $00B8B0
    dc.w    $4E92,$4878,$00E4,$42A7,$4879,$00FF,$05C4,$4E92; $00B8C0
    dc.w    $4FEF,$0030,$4878,$0C80,$42A7,$2F0C,$4E92,$4FEF; $00B8D0
    dc.w    $000C,$13FC,$00FF,$00FF,$9A20,$197C,$00FF,$0001; $00B8E0
    dc.w    $7401,$4878,$0014,$3002,$48C0,$2200,$E588,$D081; $00B8F0
    dc.w    $E588,$4874,$0800,$42A7,$2F0C,$42A7,$4E95,$4FEF; $00B900
    dc.w    $0014,$5242,$0C42,$0028,$6DD8,$7401,$4878,$0320; $00B910
    dc.w    $3002,$48C0,$223C,$0000,$0320,$4EB9,$0003,$E05C; $00B920
    dc.w    $4874,$0800,$42A7,$2F0C,$42A7,$4E95,$4FEF,$0014; $00B930
    dc.w    $5242,$0C42,$0004,$6DD4,$4878,$00C0,$42A7,$2F0B; $00B940
    dc.w    $4E92,$4FEF,$000C,$33FC,$00FF,$00FF,$88DC,$377C; $00B950
    dc.w    $00FF,$0002,$7401,$4878,$000C,$3002,$48C0,$2200; $00B960
    dc.w    $D080,$D081,$E588,$4873,$0800,$42A7,$2F0B,$42A7; $00B970
    dc.w    $4E95,$4FEF,$0014,$5242,$0C42,$0004,$6DD8,$7401; $00B980
    dc.w    $4878,$0030,$3002,$48C0,$2200,$D080,$D081,$E988; $00B990
    dc.w    $4873,$0800,$42A7,$2F0B,$42A7,$4E95,$4FEF,$0014; $00B9A0
    dc.w    $5242,$0C42,$0004,$6DD8,$4878,$0070,$42A7,$4879; $00B9B0
    dc.w    $00FF,$1004,$4E92,$4878,$0008,$42A7,$4879,$00FF; $00B9C0
    dc.w    $09C2,$4E92,$4242,$3002,$E548,$207C,$00FF,$09C2; $00B9D0
    dc.w    $11BC,$00FF,$0000,$5242,$0C42,$0002,$6DE8,$4878; $00B9E0
    dc.w    $0004,$42A7,$4879,$00FF,$09CA,$4E92,$13FC,$00FF; $00B9F0
    dc.w    $00FF,$09CA,$4878,$0008,$42A7,$4879,$00FF,$09CE; $00BA00
    dc.w    $4E92,$4FEF,$0030,$4242,$3002,$E548,$207C,$00FF; $00BA10
    dc.w    $09CE,$11BC,$00FF,$0000,$5242,$0C42,$0002,$6DE8; $00BA20
    dc.w    $33FC,$00FF,$00FF,$09D6,$4CDF,$3C04,$4E75,$48E7; $00BA30
    dc.w    $2020,$7400,$247C,$00FF,$A6BA,$7000,$3012,$6C04; $00BA40
    dc.w    $720F,$D081,$E880,$2200,$E588,$D081,$D080,$720A; $00BA50
    dc.w    $4EB9,$0003,$E08A,$C0FC,$000A,$3480,$700C,$D5C0; $00BA60
    dc.w    $5282,$7010,$B082,$6ED2,$4CDF,$0404,$4E75,$48E7; $00BA70
    dc.w    $3E3C,$287C,$00FF,$0120,$247C,$00FF,$0018,$2A7C; $00BA80
    dc.w    $00FF,$03F0,$4EB9,$0002,$7AA4,$3A00,$283C,$05F5; $00BA90
    dc.w    $E0FF,$4243,$7000,$102A,$0001,$E548,$207C,$00FF; $00BAA0
    dc.w    $1298,$41F0,$0000,$2648,$157C,$0001,$0002,$422A; $00BAB0
    dc.w    $0003,$422A,$0004,$422A,$0005,$7000,$102B,$0001; $00BAC0
    dc.w    $0680,$0000,$0064,$7200,$122B,$0003,$0681,$0000; $00BAD0
    dc.w    $0032,$4EB9,$0003,$E05C,$3239,$00FF,$0002,$48C1; $00BAE0
    dc.w    $0681,$0000,$000A,$4EB9,$0003,$E05C,$3239,$00FF; $00BAF0
    dc.w    $0004,$48C1,$7C0A,$9C81,$2206,$4EB9,$0003,$E05C; $00BB00
    dc.w    $223C,$0000,$2710,$4EB9,$0003,$E08A,$223C,$0000; $00BB10
    dc.w    $03E8,$4EB9,$0003,$E05C,$2540,$0006,$0C79,$0004; $00BB20
    dc.w    $00FF,$0004,$662E,$4A45,$672A,$0C12,$0001,$6612; $00BB30
    dc.w    $B8AA,$0006,$6C04,$2004,$6004,$202A,$0006,$2800; $00BB40
    dc.w    $6012,$B8AA,$0006,$6F04,$2004,$6004,$202A,$0006; $00BB50
    dc.w    $2540,$0006,$42AA,$000A,$42AA,$000E,$42AA,$0012; $00BB60
    dc.w    $42AA,$0016,$42AA,$001A,$42AA,$001E,$157C,$0064; $00BB70
    dc.w    $0022,$7024,$D5C0,$196B,$0003,$0001,$196B,$0002; $00BB80
    dc.w    $0002,$7000,$102B,$0001,$6C02,$5280,$E280,$7264; $00BB90
    dc.w    $B280,$6F0E,$7000,$102B,$0001,$6C02,$5280,$E280; $00BBA0
    dc.w    $6002,$7064,$1940,$0003,$7400,$142C,$0001,$C4F9; $00BBB0
    dc.w    $00FF,$999C,$7000,$102C,$0002,$C0F9,$00FF,$BA68; $00BBC0
    dc.w    $D440,$7000,$102C,$0003,$C0F9,$00FF,$1288,$D440; $00BBD0
    dc.w    $7000,$3002,$7264,$4EB9,$0003,$E08A,$3400,$1882; $00BBE0
    dc.w    $588C,$422D,$0009,$422D,$000A,$422D,$000B,$700C; $00BBF0
    dc.w    $DBC0,$3003,$48C0,$2F00,$4EBA,$0464,$4E71,$588F; $00BC00
    dc.w    $5243,$0C43,$0004,$6D00,$FE8C,$4EBA,$0924,$4E71; $00BC10
    dc.w    $4EBA,$0062,$4E71,$247C,$00FF,$0018,$4243,$267C; $00BC20
    dc.w    $00FF,$1298,$4242,$3002,$48C0,$2F00,$7000,$102A; $00BC30
    dc.w    $0001,$48C0,$2F00,$4EB9,$0000,$7610,$508F,$3203; $00BC40
    dc.w    $C2FC,$0039,$7C00,$1C13,$D246,$207C,$00FF,$05C4; $00BC50
    dc.w    $1180,$1000,$588B,$5242,$0C42,$0059,$6DC8,$7024; $00BC60
    dc.w    $D5C0,$5243,$0C43,$0004,$6DB4,$6100,$FDC2,$4CDF; $00BC70
    dc.w    $3C7C,$4E75,$4E56,$FFF4,$48E7,$3F3C,$2A7C,$00FF; $00BC80
    dc.w    $0018,$4247,$426E,$FFFE,$7000,$102D,$0001,$DE40; $00BC90
    dc.w    $526E,$FFFE,$0C6E,$0004,$FFFE,$6DEC,$3007,$48C0; $00BCA0
    dc.w    $7204,$4EB9,$0003,$E146,$3E00,$2A7C,$00FF,$0018; $00BCB0
    dc.w    $426E,$FFFE,$7000,$102D,$0001,$E548,$207C,$00FF; $00BCC0
    dc.w    $1298,$1030,$0000,$0280,$0000,$00FF,$3D40,$FFFC; $00BCD0
    dc.w    $7000,$102D,$0001,$D040,$207C,$00FF,$8824,$41F0; $00BCE0
    dc.w    $0000,$2448,$7000,$102D,$0001,$E748,$322E,$FFFE; $00BCF0
    dc.w    $D241,$D041,$207C,$00FF,$BA80,$41F0,$0000,$2D48; $00BD00
    dc.w    $FFF6,$7000,$1012,$6C02,$5280,$E280,$2800,$7000; $00BD10
    dc.w    $1012,$7200,$122A,$0001,$9081,$B880,$6C0C,$7000; $00BD20
    dc.w    $1012,$6C02,$5280,$E280,$600C,$7000,$1012,$7200; $00BD30
    dc.w    $122A,$0001,$9081,$3800,$3039,$00FF,$0004,$48C0; $00BD40
    dc.w    $2200,$E588,$D081,$D080,$7264,$9280,$2001,$3204; $00BD50
    dc.w    $48C1,$4EB9,$0003,$E05C,$7264,$4EB9,$0003,$E08A; $00BD60
    dc.w    $3800,$3039,$00FF,$0004,$48C0,$2200,$D080,$D081; $00BD70
    dc.w    $7232,$9280,$2001,$3204,$48C1,$B081,$6F06,$3004; $00BD80
    dc.w    $48C0,$6014,$3039,$00FF,$0004,$48C0,$2200,$D080; $00BD90
    dc.w    $D081,$7232,$9280,$2001,$3800,$D92A,$0001,$206E; $00BDA0
    dc.w    $FFF6,$1084,$7000,$102D,$0001,$48C0,$2F00,$4EB9; $00BDB0
    dc.w    $0000,$D648,$588F,$3600,$E548,$207C,$0005,$ECBC; $00BDC0
    dc.w    $41F0,$0000,$2848,$4246,$5247,$0C47,$0004,$6D02; $00BDD0
    dc.w    $4247,$7000,$102C,$0002,$E548,$207C,$00FF,$1298; $00BDE0
    dc.w    $41F0,$0000,$2648,$7000,$102C,$0002,$D040,$207C; $00BDF0
    dc.w    $00FF,$8824,$41F0,$0000,$2448,$7000,$102C,$0002; $00BE00
    dc.w    $7200,$122C,$0003,$D041,$3D40,$FFFA,$7600,$162C; $00BE10
    dc.w    $0002,$6000,$00E2,$4A44,$6F00,$00E4,$7000,$102D; $00BE20
    dc.w    $0001,$48C0,$2F00,$3003,$48C0,$2F00,$4EB9,$0000; $00BE30
    dc.w    $7610,$508F,$0C40,$0002,$6C00,$00B6,$3003,$E748; $00BE40
    dc.w    $322E,$FFFE,$D241,$D041,$207C,$00FF,$BA80,$41F0; $00BE50
    dc.w    $0000,$2D48,$FFF6,$4245,$7400,$1412,$7000,$102A; $00BE60
    dc.w    $0001,$9440,$0C42,$000E,$6F04,$740E,$600E,$7400; $00BE70
    dc.w    $1412,$7000,$102A,$0001,$9440,$48C2,$B842,$6C04; $00BE80
    dc.w    $3004,$6002,$3002,$48C0,$3400,$7000,$1013,$322E; $00BE90
    dc.w    $FFFC,$48C1,$B081,$661A,$4A46,$6642,$7A01,$3002; $00BEA0
    dc.w    $48C0,$2F00,$3002,$48C0,$6C02,$5280,$E280,$2F00; $00BEB0
    dc.w    $6022,$4A46,$6F28,$3003,$48C0,$7204,$4EB9,$0003; $00BEC0
    dc.w    $E146,$3207,$48C1,$B081,$6614,$7A01,$3002,$48C0; $00BED0
    dc.w    $2F00,$42A7,$4EB9,$0001,$D6A4,$508F,$3400,$0C45; $00BEE0
    dc.w    $0001,$660C,$D52A,$0001,$206E,$FFF6,$1082,$9842; $00BEF0
    dc.w    $588B,$548A,$5243,$B66E,$FFFA,$6D00,$FF1A,$4A44; $00BF00
    dc.w    $6F00,$0136,$7000,$1014,$E548,$207C,$00FF,$1298; $00BF10
    dc.w    $41F0,$0000,$2648,$7000,$1014,$D040,$207C,$00FF; $00BF20
    dc.w    $8824,$41F0,$0000,$2448,$7000,$1014,$7200,$122C; $00BF30
    dc.w    $0001,$D041,$3D40,$FFFA,$7600,$1614,$6000,$00F2; $00BF40
    dc.w    $4A44,$6F00,$00F4,$3003,$48C0,$7200,$122D,$0001; $00BF50
    dc.w    $B081,$6700,$00D6,$7000,$102D,$0001,$48C0,$2F00; $00BF60
    dc.w    $3003,$48C0,$2F00,$4EB9,$0000,$7610,$508F,$0C40; $00BF70
    dc.w    $0002,$6C00,$00B6,$3003,$E748,$322E,$FFFE,$D241; $00BF80
    dc.w    $D041,$207C,$00FF,$BA80,$41F0,$0000,$2D48,$FFF6; $00BF90
    dc.w    $4245,$7400,$1412,$7000,$102A,$0001,$9440,$0C42; $00BFA0
    dc.w    $000E,$6F04,$740E,$600E,$7400,$1412,$7000,$102A; $00BFB0
    dc.w    $0001,$9440,$48C2,$B842,$6C04,$3004,$6002,$3002; $00BFC0
    dc.w    $48C0,$3400,$7000,$1013,$322E,$FFFC,$48C1,$B081; $00BFD0
    dc.w    $661A,$4A46,$6642,$7A01,$3002,$48C0,$2F00,$3002; $00BFE0
    dc.w    $48C0,$6C02,$5280,$E280,$2F00,$6022,$4A46,$6F28; $00BFF0
    dc.w    $3003,$48C0,$7204,$4EB9,$0003,$E146,$3207,$48C1; $00C000
    dc.w    $B081,$6614,$7A01,$3002,$48C0,$2F00,$42A7,$4EB9; $00C010
    dc.w    $0001,$D6A4,$508F,$3400,$0C45,$0001,$660C,$D52A; $00C020
    dc.w    $0001,$206E,$FFF6,$1082,$9842,$588B,$548A,$5243; $00C030
    dc.w    $B66E,$FFFA,$6D00,$FF0A,$5246,$0C46,$0005,$6D00; $00C040
    dc.w    $FD88,$7024,$DBC0,$526E,$FFFE,$0C6E,$0004,$FFFE; $00C050
    dc.w    $6D00,$FC62,$4CEE,$3CFC,$FFCC,$4E5E,$4E75,$48E7; $00C060
    dc.w    $303C,$262F,$001C,$2A7C,$00FF,$B9E8,$3003,$C0FC; $00C070
    dc.w    $0024,$207C,$00FF,$0018,$41F0,$0000,$2448,$7000; $00C080
    dc.w    $102A,$0001,$E548,$207C,$00FF,$1298,$41F0,$0000; $00C090
    dc.w    $2648,$7000,$1013,$207C,$00FF,$99A4,$1430,$0000; $00C0A0
    dc.w    $0282,$0000,$00FF,$0C42,$0002,$6706,$0C42,$0003; $00C0B0
    dc.w    $6604,$7402,$6016,$0C42,$0004,$6510,$4878,$0001; $00C0C0
    dc.w    $42A7,$4EB9,$0001,$D6A4,$508F,$3400,$3039,$00FF; $00C0D0
    dc.w    $0002,$C0FC,$0012,$3202,$C2FC,$0006,$D041,$207C; $00C0E0
    dc.w    $0005,$F96E,$41F0,$0000,$2848,$7000,$3003,$EB88; $00C0F0
    dc.w    $2400,$41F5,$0800,$7200,$3214,$D281,$D1C1,$2448; $00C100
    dc.w    $7000,$102B,$0003,$0280,$0000,$FFFF,$0680,$0000; $00C110
    dc.w    $000A,$720A,$4EB9,$0003,$E08A,$1480,$7000,$1012; $00C120
    dc.w    $3239,$00FF,$0002,$48C1,$5681,$B081,$6C06,$7000; $00C130
    dc.w    $1012,$600A,$3039,$00FF,$0002,$48C0,$5680,$1480; $00C140
    dc.w    $1552,$0001,$41F5,$2800,$7000,$302C,$0002,$D080; $00C150
    dc.w    $D1C0,$2448,$3039,$00FF,$0004,$48C0,$7205,$9280; $00C160
    dc.w    $2F01,$42A7,$4EB9,$0001,$D6A4,$508F,$D112,$1552; $00C170
    dc.w    $0001,$41F5,$2800,$7000,$302C,$0004,$D080,$D1C0; $00C180
    dc.w    $2448,$7000,$102B,$0001,$7228,$4EB9,$0003,$E08A; $00C190
    dc.w    $D112,$1552,$0001,$4CDF,$3C0C,$4E75,$4E56,$0000; $00C1A0
    dc.w    $48E7,$2038,$267C,$0003,$B270,$287C,$0003,$AB2C; $00C1B0
    dc.w    $4EB9,$0001,$D71C,$4878,$001E,$4878,$001D,$4878; $00C1C0
    dc.w    $0001,$4878,$0002,$4EB9,$0003,$A942,$4878,$000A; $00C1D0
    dc.w    $4878,$001F,$4878,$0002,$4878,$0001,$4EB9,$0000; $00C1E0
    dc.w    $5A04,$4FEF,$0020,$247C,$00FF,$0018,$4242,$3002; $00C1F0
    dc.w    $48C0,$0680,$0000,$0774,$2F00,$3002,$48C0,$5280; $00C200
    dc.w    $2F00,$4878,$0010,$4878,$0002,$4878,$0007,$3002; $00C210
    dc.w    $48C0,$D080,$5680,$2F00,$4878,$0003,$4878,$0001; $00C220
    dc.w    $4EB9,$0000,$6760,$3002,$48C0,$D080,$5680,$2F00; $00C230
    dc.w    $4878,$0003,$4E94,$3002,$E948,$207C,$00FF,$00A8; $00C240
    dc.w    $4870,$0000,$4879,$0003,$E5F2,$4E93,$4FEF,$0030; $00C250
    dc.w    $3002,$48C0,$D080,$5680,$2F00,$4878,$000B,$4E94; $00C260
    dc.w    $7000,$1012,$E548,$207C,$0005,$F926,$2F30,$0000; $00C270
    dc.w    $4879,$0003,$E5EE,$4E93,$3002,$48C0,$D080,$5680; $00C280
    dc.w    $2F00,$4878,$000F,$4E94,$7000,$102A,$0001,$E548; $00C290
    dc.w    $207C,$0005,$E7E4,$2F30,$0000,$4879,$0003,$E5EA; $00C2A0
    dc.w    $4E93,$4FEF,$0020,$7024,$D5C0,$5242,$0C42,$0004; $00C2B0
    dc.w    $6D00,$FF3C,$4878,$0003,$4878,$001A,$4E94,$4879; $00C2C0
    dc.w    $0003,$E5E4,$4E93,$4878,$0005,$4878,$001C,$4E94; $00C2D0
    dc.w    $3039,$00FF,$0002,$48C0,$5280,$2F00,$4879,$0003; $00C2E0
    dc.w    $E5E0,$4E93,$4878,$0008,$4878,$001A,$4E94,$3039; $00C2F0
    dc.w    $00FF,$0004,$48C0,$5280,$2F00,$4879,$0003,$E5DA; $00C300
    dc.w    $4E93,$4FEF,$002C,$4EB9,$0001,$D748,$4EBA,$0074; $00C310
    dc.w    $4E71,$3400,$0C42,$0001,$6612,$4878,$0001,$4EBA; $00C320
    dc.w    $0F1C,$4E71,$588F,$0C40,$0001,$6002,$4A42,$6600; $00C330
    dc.w    $FE86,$42A7,$4878,$0001,$42A7,$2F39,$0004,$75F8; $00C340
    dc.w    $42A7,$4EBA,$02CA,$4E71,$3400,$4EB9,$0001,$D71C; $00C350
    dc.w    $42A7,$4878,$0008,$4878,$0007,$4878,$0003,$4878; $00C360
    dc.w    $0003,$4878,$0001,$4878,$001A,$4EB9,$0000,$0D64; $00C370
    dc.w    $4EB9,$0003,$A9AC,$3002,$4CEE,$1C04,$FFF0,$4E5E; $00C380
    dc.w    $4E75,$2F02,$42A7,$4878,$0001,$42A7,$4879,$0003; $00C390
    dc.w    $E5F6,$42A7,$4EBA,$0278,$4E71,$4FEF,$0014,$3400; $00C3A0
    dc.w    $241F,$4E75,$4E56,$FFF0,$48E7,$3F3C,$2A7C,$00FF; $00C3B0
    dc.w    $0018,$4246,$3006,$C0FC,$000A,$207C,$00FF,$03B8; $00C3C0
    dc.w    $41F0,$0000,$2848,$3006,$E548,$207C,$00FF,$03E0; $00C3D0
    dc.w    $41F0,$0000,$2648,$7000,$102D,$0001,$2F00,$4EB9; $00C3E0
    dc.w    $0000,$D648,$48C0,$7207,$4EB9,$0003,$E146,$3A00; $00C3F0
    dc.w    $4878,$000E,$486E,$FFF2,$3005,$C0FC,$000E,$207C; $00C400
    dc.w    $0004,$7692,$4870,$0000,$4EB9,$0000,$45B2,$4FEF; $00C410
    dc.w    $0010,$3005,$D040,$207C,$0004,$7684,$3430,$0000; $00C420
    dc.w    $4243,$3002,$9043,$D040,$41F6,$00F0,$2448,$602E; $00C430
    dc.w    $7000,$3002,$7200,$3203,$9081,$5380,$2F00,$42A7; $00C440
    dc.w    $4EB9,$0001,$D6A4,$508F,$3800,$D040,$3E36,$00F2; $00C450
    dc.w    $3004,$D040,$3D92,$00F2,$3487,$558A,$5243,$7000; $00C460
    dc.w    $3003,$7200,$3202,$5381,$B081,$6DC4,$4878,$000A; $00C470
    dc.w    $2F0C,$486E,$FFF2,$4EB9,$0000,$45B2,$4FEF,$000C; $00C480
    dc.w    $0C45,$0005,$6600,$0086,$4878,$0003,$42A7,$4EB9; $00C490
    dc.w    $0001,$D6A4,$508F,$3600,$7000,$3003,$E588,$207C; $00C4A0
    dc.w    $0004,$73A0,$26B0,$0800,$4244,$4242,$7000,$3004; $00C4B0
    dc.w    $D080,$41F4,$0800,$2448,$604A,$3A12,$0C45,$001B; $00C4C0
    dc.w    $651C,$0C45,$001D,$6216,$3002,$0240,$0001,$660E; $00C4D0
    dc.w    $3003,$D040,$0640,$0021,$3480,$0042,$0001,$0C45; $00C4E0
    dc.w    $001E,$651C,$0C45,$0020,$6216,$3002,$0240,$0002; $00C4F0
    dc.w    $660E,$3003,$D040,$0640,$0022,$3480,$0042,$0002; $00C500
    dc.w    $548A,$5244,$0C44,$0005,$65B0,$6006,$26B9,$0004; $00C510
    dc.w    $7390,$588B,$700A,$D9C0,$5246,$7024,$DBC0,$0C46; $00C520
    dc.w    $0004,$6500,$FEB2,$4CEE,$3CFC,$FFC8,$4E5E,$4E75; $00C530
    dc.w    $4E56,$FFE0,$48E7,$3C3C,$4878,$0020,$42A7,$486E; $00C540
    dc.w    $FFE0,$4EB9,$0001,$D520,$3039,$00FF,$0002,$207C; $00C550
    dc.w    $0005,$ECF8,$1A30,$0000,$0285,$0000,$00FF,$4878; $00C560
    dc.w    $00C0,$4878,$00FF,$4879,$00FF,$A6B8,$4EB9,$0001; $00C570
    dc.w    $D520,$4FEF,$0018,$267C,$00FF,$A6B8,$287C,$00FF; $00C580
    dc.w    $1278,$4244,$3005,$C0FC,$000C,$207C,$0005,$EDD0; $00C590
    dc.w    $41F0,$0000,$2448,$4BEE,$FFE0,$4243,$7400,$3405; $00C5A0
    dc.w    $7000,$3003,$D480,$4A55,$662E,$1013,$B012,$6210; $00C5B0
    dc.w    $1013,$B012,$6622,$102B,$0006,$B02A,$0006,$6318; $00C5C0
    dc.w    $4878,$000C,$2F0B,$42A7,$2F0A,$42A7,$4EB9,$0001; $00C5D0
    dc.w    $D538,$4FEF,$0014,$1882,$700C,$D5C0,$548D,$5282; $00C5E0
    dc.w    $5243,$0C43,$0010,$65BE,$7000,$1014,$9045,$D040; $00C5F0
    dc.w    $3DBC,$0001,$00E0,$700C,$D7C0,$528C,$5244,$0C44; $00C600
    dc.w    $0010,$6580,$4CEE,$3C3C,$FFC0,$4E5E,$4E75,$4E56; $00C610
    dc.w    $0000,$2F02,$2F2E,$000C,$4878,$0001,$4878,$0001; $00C620
    dc.w    $302E,$0012,$2F00,$42A7,$4878,$0002,$4878,$0780; $00C630
    dc.w    $4878,$0035,$4EB9,$0000,$643C,$4FEF,$0020,$0C6E; $00C640
    dc.w    $0001,$0016,$6614,$4878,$001A,$4878,$0008,$4EB9; $00C650
    dc.w    $0000,$7784,$508F,$3400,$6016,$0C6E,$0001,$001A; $00C660
    dc.w    $660E,$4878,$0001,$4878,$0003,$4EB9,$0001,$D62C; $00C670
    dc.w    $3002,$242E,$FFFC,$4E5E,$4E75,$4E56,$FFF8,$48E7; $00C680
    dc.w    $203C,$4878,$0039,$4879,$00FF,$99A4,$42A7,$4879; $00C690
    dc.w    $0005,$EC10,$42A7,$4EB9,$0001,$D538,$4878,$00C0; $00C6A0
    dc.w    $4879,$00FF,$1704,$42A7,$4879,$0005,$F0C6,$42A7; $00C6B0
    dc.w    $4EB9,$0001,$D538,$4FEF,$0028,$4878,$00E4,$4879; $00C6C0
    dc.w    $00FF,$1620,$42A7,$4879,$0005,$F186,$42A7,$4EB9; $00C6D0
    dc.w    $0001,$D538,$4878,$0040,$4879,$00FF,$0728,$42A7; $00C6E0
    dc.w    $4879,$0005,$F532,$42A7,$4EB9,$0001,$D538,$4FEF; $00C6F0
    dc.w    $0028,$4A79,$00FF,$0002,$6640,$4878,$0164,$4879; $00C700
    dc.w    $00FF,$1298,$42A7,$4879,$0005,$F26A,$42A7,$4EB9; $00C710
    dc.w    $0001,$D538,$4FEF,$0014,$4878,$00B2,$4879,$00FF; $00C720
    dc.w    $8824,$42A7,$4879,$0005,$F572,$42A7,$4EB9,$0001; $00C730
    dc.w    $D538,$4FEF,$0014,$6000,$010E,$0C79,$0003,$00FF; $00C740
    dc.w    $0002,$6632,$4878,$0164,$4879,$00FF,$1298,$42A7; $00C750
    dc.w    $4879,$0005,$F3CE,$42A7,$4EB9,$0001,$D538,$4FEF; $00C760
    dc.w    $0014,$4878,$00B2,$4879,$00FF,$8824,$42A7,$4879; $00C770
    dc.w    $0005,$F624,$60B4,$287C,$0005,$F26A,$267C,$0005; $00C780
    dc.w    $F3CE,$247C,$00FF,$1298,$2D7C,$0005,$F572,$FFFC; $00C790
    dc.w    $2D7C,$0005,$F624,$FFF8,$2A7C,$00FF,$8824,$4242; $00C7A0
    dc.w    $1493,$7000,$102B,$0001,$48C0,$2F00,$7000,$102C; $00C7B0
    dc.w    $0001,$48C0,$2F00,$4EBA,$0098,$4E71,$1540,$0001; $00C7C0
    dc.w    $7000,$102B,$0002,$48C0,$2F00,$7000,$102C,$0002; $00C7D0
    dc.w    $48C0,$2F00,$4EBA,$007A,$4E71,$1540,$0002,$7000; $00C7E0
    dc.w    $102B,$0003,$48C0,$2F00,$7000,$102C,$0003,$48C0; $00C7F0
    dc.w    $2F00,$4EBA,$005C,$4E71,$1540,$0003,$206E,$FFF8; $00C800
    dc.w    $1010,$0280,$0000,$00FF,$48C0,$2F00,$206E,$FFFC; $00C810
    dc.w    $1010,$0280,$0000,$00FF,$48C0,$2F00,$4EBA,$0032; $00C820
    dc.w    $4E71,$4FEF,$0020,$1A80,$422D,$0001,$588C,$588B; $00C830
    dc.w    $588A,$54AE,$FFFC,$54AE,$FFF8,$548D,$5242,$0C42; $00C840
    dc.w    $0059,$6500,$FF5C,$4CEE,$3C04,$FFE4,$4E5E,$4E75; $00C850
    dc.w    $2F02,$242F,$0008,$302F,$000E,$48C0,$3202,$48C1; $00C860
    dc.w    $9081,$3239,$00FF,$0002,$48C1,$4EB9,$0003,$E05C; $00C870
    dc.w    $7203,$4EB9,$0003,$E08A,$D042,$3400,$4A42,$6F06; $00C880
    dc.w    $3002,$48C0,$6002,$7000,$3400,$0C42,$00FF,$6C06; $00C890
    dc.w    $3002,$48C0,$6006,$203C,$0000,$00FF,$3400,$241F; $00C8A0
    dc.w    $4E75,$4E56,$FFEC,$48E7,$3F3C,$247C,$00FF,$13FC; $00C8B0
    dc.w    $47EE,$FFEE,$287C,$0000,$0D64,$2A7C,$00FF,$A7D8; $00C8C0
    dc.w    $363C,$00FF,$4246,$4247,$4878,$0020,$4878,$0020; $00C8D0
    dc.w    $42A7,$42A7,$4EB9,$0003,$A942,$4242,$42A7,$4EB9; $00C8E0
    dc.w    $0001,$E1EC,$4FEF,$0014,$4A40,$6704,$7801,$6002; $00C8F0
    dc.w    $7800,$4245,$4252,$4255,$0C42,$00FF,$6704,$B443; $00C900
    dc.w    $675C,$4878,$000E,$2F0B,$4879,$0007,$67AE,$4EB9; $00C910
    dc.w    $0000,$45B2,$3002,$48C0,$D080,$2040,$37B9,$0007; $00C920
    dc.w    $67BC,$8800,$4878,$0007,$4878,$0038,$2F0B,$4EB9; $00C930
    dc.w    $0000,$5092,$4FEF,$0018,$0C42,$00FF,$672C,$4878; $00C940
    dc.w    $0001,$3002,$48C0,$2F00,$4878,$0010,$4878,$0004; $00C950
    dc.w    $4EB9,$0000,$9F88,$4FEF,$0010,$3602,$600C,$4878; $00C960
    dc.w    $0002,$4878,$000E,$4E94,$508F,$4A44,$671E,$42A7; $00C970
    dc.w    $4EB9,$0001,$E1EC,$588F,$4A40,$6710,$4878,$0002; $00C980
    dc.w    $4878,$000E,$4E94,$508F,$6000,$FF6E,$4244,$3005; $00C990
    dc.w    $2F00,$4878,$000A,$4EB9,$0001,$E290,$508F,$0240; $00C9A0
    dc.w    $003F,$3A00,$0240,$0020,$670C,$4252,$4255,$0C42; $00C9B0
    dc.w    $00FF,$6766,$606C,$3005,$0240,$0010,$670A,$4252; $00C9C0
    dc.w    $4255,$343C,$00FF,$605A,$3005,$0240,$000F,$674A; $00C9D0
    dc.w    $34BC,$0001,$3005,$0240,$0008,$6706,$5246,$0246; $00C9E0
    dc.w    $0003,$3005,$0240,$0004,$6706,$5646,$0246,$0003; $00C9F0
    dc.w    $3005,$0240,$0001,$6702,$4247,$3005,$0240,$0002; $00CA00
    dc.w    $6702,$7E01,$3006,$D040,$D047,$207C,$0005,$F6D6; $00CA10
    dc.w    $1430,$0000,$0282,$0000,$00FF,$4878,$0003,$6000; $00CA20
    dc.w    $FF60,$3002,$4CEE,$3CFC,$FFC4,$4E5E,$4E75,$48E7; $00CA30
    dc.w    $3038,$262F,$0018,$287C,$0001,$D538,$267C,$00FF; $00CA40
    dc.w    $1804,$4878,$2000,$3003,$48C0,$720D,$E3A8,$0680; $00CA50
    dc.w    $0020,$0003,$2F00,$4879,$00FF,$1804,$4EB9,$0001; $00CA60
    dc.w    $E0FE,$5C8B,$7000,$101B,$33C0,$00FF,$0002,$7000; $00CA70
    dc.w    $101B,$33C0,$00FF,$0004,$4878,$0002,$4879,$00FF; $00CA80
    dc.w    $0006,$42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$4FEF; $00CA90
    dc.w    $0020,$548B,$7000,$101B,$33C0,$00FF,$0008,$7000; $00CAA0
    dc.w    $101B,$33C0,$00FF,$000A,$7000,$101B,$33C0,$00FF; $00CAB0
    dc.w    $000C,$7000,$101B,$33C0,$00FF,$000E,$7000,$101B; $00CAC0
    dc.w    $33C0,$00FF,$0010,$3039,$00FF,$0002,$C0FC,$003C; $00CAD0
    dc.w    $0640,$0050,$33C0,$00FF,$A6B2,$6100,$FB9E,$6100; $00CAE0
    dc.w    $FA50,$4878,$0004,$4879,$00FF,$0012,$42A7,$2F0B; $00CAF0
    dc.w    $2F3C,$0020,$0003,$4E94,$588B,$13DB,$00FF,$0016; $00CB00
    dc.w    $4878,$0090,$4879,$00FF,$0018,$42A7,$2F0B,$2F3C; $00CB10
    dc.w    $0020,$0003,$4E94,$4FEF,$0028,$47EB,$0090,$4878; $00CB20
    dc.w    $0040,$4879,$00FF,$00A8,$42A7,$2F0B,$2F3C,$0020; $00CB30
    dc.w    $0003,$4E94,$7040,$D7C0,$4878,$0030,$4879,$00FF; $00CB40
    dc.w    $00E8,$42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$4FEF; $00CB50
    dc.w    $0028,$7030,$D7C0,$4878,$0008,$4879,$00FF,$0118; $00CB60
    dc.w    $42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$508B,$4878; $00CB70
    dc.w    $0010,$4879,$00FF,$0120,$42A7,$2F0B,$2F3C,$0020; $00CB80
    dc.w    $0003,$4E94,$4FEF,$0028,$7010,$D7C0,$4878,$0080; $00CB90
    dc.w    $4879,$00FF,$0130,$42A7,$2F0B,$2F3C,$0020,$0003; $00CBA0
    dc.w    $4E94,$47EB,$0080,$4878,$0080,$4879,$00FF,$01B0; $00CBB0
    dc.w    $42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$4FEF,$0028; $00CBC0
    dc.w    $47EB,$0080,$4878,$0040,$4879,$00FF,$0230,$42A7; $00CBD0
    dc.w    $2F0B,$2F3C,$0020,$0003,$4E94,$7040,$D7C0,$4878; $00CBE0
    dc.w    $0020,$4879,$00FF,$0270,$42A7,$2F0B,$2F3C,$0020; $00CBF0
    dc.w    $0003,$4E94,$4FEF,$0028,$7020,$D7C0,$4878,$0018; $00CC00
    dc.w    $4879,$00FF,$0290,$42A7,$2F0B,$2F3C,$0020,$0003; $00CC10
    dc.w    $4E94,$4FEF,$0014,$7018,$D7C0,$4243,$3003,$EB48; $00CC20
    dc.w    $207C,$00FF,$B9E8,$41F0,$0000,$2448,$4242,$4878; $00CC30
    dc.w    $0001,$2F0A,$42A7,$2F0B,$2F3C,$0020,$0003,$4E94; $00CC40
    dc.w    $4FEF,$0014,$1552,$0001,$528B,$548A,$5242,$0C42; $00CC50
    dc.w    $0010,$6DDA,$5243,$0C43,$0004,$6DC0,$4878,$0050; $00CC60
    dc.w    $4879,$00FF,$02E8,$42A7,$2F0B,$2F3C,$0020,$0003; $00CC70
    dc.w    $4E94,$7050,$D7C0,$4878,$0080,$4879,$00FF,$0338; $00CC80
    dc.w    $42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$4FEF,$0028; $00CC90
    dc.w    $47EB,$0080,$4878,$0028,$4879,$00FF,$03B8,$42A7; $00CCA0
    dc.w    $2F0B,$2F3C,$0020,$0003,$4E94,$7028,$D7C0,$4878; $00CCB0
    dc.w    $0010,$4879,$00FF,$03E0,$42A7,$2F0B,$2F3C,$0020; $00CCC0
    dc.w    $0003,$4E94,$4FEF,$0028,$7010,$D7C0,$4878,$0030; $00CCD0
    dc.w    $4879,$00FF,$03F0,$42A7,$2F0B,$2F3C,$0020,$0003; $00CCE0
    dc.w    $4E94,$7030,$D7C0,$4878,$00C0,$4879,$00FF,$0420; $00CCF0
    dc.w    $42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$4FEF,$0028; $00CD00
    dc.w    $47EB,$00C0,$4878,$00E4,$4879,$00FF,$04E0,$42A7; $00CD10
    dc.w    $2F0B,$2F3C,$0020,$0003,$4E94,$47EB,$00E4,$2F0B; $00CD20
    dc.w    $4EB9,$0000,$EFC8,$2640,$4878,$0040,$4879,$00FF; $00CD30
    dc.w    $0728,$42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$4FEF; $00CD40
    dc.w    $002C,$7040,$D7C0,$247C,$00FF,$8824,$4242,$4878; $00CD50
    dc.w    $0001,$2F0A,$42A7,$2F0B,$2F3C,$0020,$0003,$4E94; $00CD60
    dc.w    $4FEF,$0014,$528B,$548A,$5242,$0C42,$0020,$6DDE; $00CD70
    dc.w    $247C,$00FF,$BA80,$4242,$4243,$4878,$0001,$2F0A; $00CD80
    dc.w    $42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$4FEF,$0014; $00CD90
    dc.w    $528B,$548A,$5243,$0C43,$0004,$6DDE,$5242,$0C42; $00CDA0
    dc.w    $0059,$6DD4,$4878,$0010,$4879,$00FF,$08EC,$42A7; $00CDB0
    dc.w    $2F0B,$2F3C,$0020,$0003,$4E94,$4FEF,$0014,$7010; $00CDC0
    dc.w    $D7C0,$4243,$3003,$C0FC,$0320,$207C,$00FF,$9A20; $00CDD0
    dc.w    $41F0,$0000,$2448,$4242,$4878,$000C,$2F0A,$42A7; $00CDE0
    dc.w    $2F0B,$2F3C,$0020,$0003,$4E94,$4FEF,$0014,$700C; $00CDF0
    dc.w    $D7C0,$7014,$D5C0,$5242,$0C42,$0028,$6DDA,$5243; $00CE00
    dc.w    $0C43,$0004,$6DBE,$4878,$0004,$4879,$00FF,$099C; $00CE10
    dc.w    $42A7,$2F0B,$2F3C,$0020,$0003,$4E94,$588B,$4878; $00CE20
    dc.w    $0001,$4879,$00FF,$09A0,$42A7,$2F0B,$2F3C,$0020; $00CE30
    dc.w    $0003,$4E94,$4FEF,$0028,$528B,$4878,$0020,$4879; $00CE40
    dc.w    $00FF,$09A2,$42A7,$2F0B,$2F3C,$0020,$0003,$4E94; $00CE50
    dc.w    $7020,$D7C0,$2F0B,$4EB9,$0000,$F086,$2640,$4878; $00CE60
    dc.w    $0059,$4879,$00FF,$09D8,$42A7,$2F0B,$2F3C,$0020; $00CE70
    dc.w    $0003,$4E94,$4FEF,$002C,$7059,$D7C0,$4878,$0002; $00CE80
    dc.w    $4879,$00FF,$0A32,$42A7,$2F0B,$2F3C,$0020,$0003; $00CE90
    dc.w    $4E94,$548B,$4878,$0002,$4879,$00FF,$0A34,$42A7; $00CEA0
    dc.w    $2F0B,$2F3C,$0020,$0003,$4E94,$4EBA,$002E,$4E71; $00CEB0
    dc.w    $3039,$00FF,$000C,$48C0,$2F00,$4EB9,$0001,$D340; $00CEC0
    dc.w    $3039,$00FF,$000E,$48C0,$2F00,$4EB9,$0001,$D37A; $00CED0
    dc.w    $4FEF,$0030,$4CDF,$1C0C,$4E75,$4E56,$FFF8,$48E7; $00CEE0
    dc.w    $3C3C,$287C,$00FF,$0018,$4242,$7000,$102C,$0001; $00CEF0
    dc.w    $7201,$E1A9,$3002,$E548,$207C,$00FF,$A6A0,$2181; $00CF00
    dc.w    $0000,$3002,$C0FC,$0320,$207C,$00FF,$9A20,$41F0; $00CF10
    dc.w    $0000,$2448,$4244,$3002,$C0FC,$0007,$207C,$00FF; $00CF20
    dc.w    $A7BC,$41F0,$0000,$2A48,$3002,$C0FC,$000E,$207C; $00CF30
    dc.w    $00FF,$BD6C,$41F0,$0000,$2D48,$FFFC,$0C12,$00FF; $00CF40
    dc.w    $6700,$01BE,$7000,$1012,$48C0,$2F00,$4EB9,$0000; $00CF50
    dc.w    $D648,$3600,$0C12,$0020,$641A,$7000,$1012,$7201; $00CF60
    dc.w    $E1A9,$2001,$3202,$E549,$207C,$00FF,$A6A0,$81B0; $00CF70
    dc.w    $1000,$602E,$7000,$1012,$3203,$E549,$207C,$0005; $00CF80
    dc.w    $ECBE,$1230,$1000,$0281,$0000,$00FF,$9041,$7201; $00CF90
    dc.w    $E169,$2001,$3203,$48C1,$D281,$D2AE,$FFFC,$2041; $00CFA0
    dc.w    $8150,$7000,$102A,$0001,$48C0,$2F00,$4EB9,$0000; $00CFB0
    dc.w    $D648,$3A00,$0C2A,$0020,$0001,$641C,$7000,$102A; $00CFC0
    dc.w    $0001,$7201,$E1A9,$2001,$3202,$E549,$207C,$00FF; $00CFD0
    dc.w    $A6A0,$81B0,$1000,$6030,$7000,$102A,$0001,$3205; $00CFE0
    dc.w    $E549,$207C,$0005,$ECBE,$1230,$1000,$0281,$0000; $00CFF0
    dc.w    $00FF,$9041,$7201,$E169,$2001,$3205,$48C1,$D281; $00D000
    dc.w    $D2AE,$FFFC,$2041,$8150,$B645,$6714,$7001,$EB28; $00D010
    dc.w    $3043,$8135,$8000,$7001,$E728,$3045,$8135,$8000; $00D020
    dc.w    $7000,$302A,$0008,$7200,$122A,$0003,$0281,$0000; $00D030
    dc.w    $FFFF,$4EB9,$0003,$E08A,$3540,$0010,$7000,$302A; $00D040
    dc.w    $0008,$7200,$322A,$0004,$4EB9,$0003,$E05C,$2200; $00D050
    dc.w    $D080,$D081,$E588,$223C,$0000,$2710,$4EB9,$0003; $00D060
    dc.w    $E08A,$3540,$000E,$7000,$1012,$E748,$3202,$D241; $00D070
    dc.w    $D041,$207C,$00FF,$BA80,$41F0,$0000,$2648,$7000; $00D080
    dc.w    $102A,$0001,$E748,$3202,$D241,$D041,$207C,$00FF; $00D090
    dc.w    $BA80,$41F0,$0000,$2D48,$FFF8,$102A,$0003,$D12B; $00D0A0
    dc.w    $0001,$206E,$FFF8,$102A,$0003,$D128,$0001,$162A; $00D0B0
    dc.w    $0002,$0243,$000F,$7A00,$1A2A,$0002,$E885,$0245; $00D0C0
    dc.w    $000F,$3002,$EB48,$3205,$D241,$D041,$207C,$00FF; $00D0D0
    dc.w    $B9E8,$41F0,$0000,$2648,$972B,$0001,$2F0A,$4EB9; $00D0E0
    dc.w    $0000,$7412,$4FEF,$000C,$48C0,$3203,$48C1,$4EB9; $00D0F0
    dc.w    $0003,$E05C,$7214,$4EB9,$0003,$E08A,$1540,$000B; $00D100
    dc.w    $7014,$D5C0,$5244,$0C44,$0028,$6D00,$FE30,$7024; $00D110
    dc.w    $D9C0,$5242,$0C42,$0004,$6D00,$FDD0,$267C,$00FF; $00D120
    dc.w    $BA80,$287C,$00FF,$8824,$247C,$00FF,$1298,$4243; $00D130
    dc.w    $4242,$1013,$D12C,$0001,$548B,$5242,$0C42,$0004; $00D140
    dc.w    $6DF0,$588A,$548C,$5243,$0C43,$0059,$6DE2,$287C; $00D150
    dc.w    $00FF,$0018,$4242,$3002,$C0FC,$0320,$207C,$00FF; $00D160
    dc.w    $9A20,$41F0,$0000,$2448,$4244,$3002,$C0FC,$001C; $00D170
    dc.w    $207C,$00FF,$1004,$41F0,$0000,$2A48,$605A,$7000; $00D180
    dc.w    $1012,$48C0,$2F00,$4EB9,$0000,$D648,$48C0,$E588; $00D190
    dc.w    $41F5,$0800,$2648,$7000,$302A,$0008,$6C04,$727F; $00D1A0
    dc.w    $D081,$EE80,$D193,$7000,$102A,$0001,$48C0,$2F00; $00D1B0
    dc.w    $4EB9,$0000,$D648,$508F,$48C0,$E588,$41F5,$0800; $00D1C0
    dc.w    $2648,$7000,$302A,$0008,$6C04,$727F,$D081,$EE80; $00D1D0
    dc.w    $D193,$7014,$D5C0,$5244,$3004,$48C0,$7200,$122C; $00D1E0
    dc.w    $0004,$B081,$6D98,$7024,$D9C0,$5242,$0C42,$0004; $00D1F0
    dc.w    $6D00,$FF64,$4CEE,$3C3C,$FFD8,$4E5E,$4E75,$48E7; $00D200
    dc.w    $3020,$247C,$0005,$FAB6,$4242,$3612,$E54B,$D66A; $00D210
    dc.w    $0002,$0643,$E174,$B679,$00FF,$0006,$6E0E,$7000; $00D220
    dc.w    $3002,$2F00,$4EB9,$0002,$8EBE,$588F,$508A,$5242; $00D230
    dc.w    $0C42,$0037,$65D4,$4CDF,$040C,$4E75,$48E7,$3000; $00D240
    dc.w    $242F,$000C,$3002,$48C0,$2F00,$4EBA,$0030,$4E71; $00D250
    dc.w    $588F,$3600,$48C0,$72FF,$B280,$6604,$7001,$6016; $00D260
    dc.w    $0C42,$0001,$66DE,$3003,$48C0,$2F00,$4EB9,$0001; $00D270
    dc.w    $6958,$588F,$60CE,$4CDF,$000C,$4E75,$4E56,$FF80; $00D280
    dc.w    $48E7,$3020,$247C,$0000,$0D64,$302E,$000A,$E548; $00D290
    dc.w    $207C,$0004,$76F4,$2F30,$0000,$4879,$0003,$E628; $00D2A0
    dc.w    $486E,$FF80,$4EB9,$0003,$B22C,$4878,$0020,$4878; $00D2B0
    dc.w    $0020,$42A7,$42A7,$4EB9,$0003,$A942,$4878,$000C; $00D2C0
    dc.w    $4878,$0003,$4EB9,$0003,$AB2C,$4879,$0003,$E622; $00D2D0
    dc.w    $4EB9,$0003,$B270,$4FEF,$0028,$42A7,$42A7,$42A7; $00D2E0
    dc.w    $486E,$FF80,$42A7,$6100,$F326,$4FEF,$0014,$4243; $00D2F0
    dc.w    $3403,$D442,$5642,$0C43,$0004,$6602,$5242,$42A7; $00D300
    dc.w    $4878,$0002,$4878,$0001,$3002,$48C0,$E788,$2F00; $00D310
    dc.w    $4878,$0010,$42A7,$4878,$0544,$4EB9,$0001,$E044; $00D320
    dc.w    $4878,$0004,$4878,$000E,$4E92,$4FEF,$0024,$4878; $00D330
    dc.w    $0001,$4878,$0003,$4EB9,$0001,$D62C,$508F,$3400; $00D340
    dc.w    $0280,$0000,$0033,$67E6,$3002,$0240,$0020,$6730; $00D350
    dc.w    $0C43,$0004,$666C,$42A7,$4878,$0001,$4878,$0001; $00D360
    dc.w    $42A7,$42A7,$42A7,$42A7,$4EB9,$0001,$E044,$4878; $00D370
    dc.w    $0001,$4878,$000E,$4E92,$4FEF,$0024,$76FF,$6042; $00D380
    dc.w    $3002,$0240,$0003,$6700,$FF68,$3002,$0240,$0001; $00D390
    dc.w    $6718,$3003,$48C0,$5380,$6F08,$3003,$48C0,$5380; $00D3A0
    dc.w    $6002,$7000,$3600,$6000,$FF48,$3003,$48C0,$5280; $00D3B0
    dc.w    $7204,$B280,$6F08,$3003,$48C0,$5280,$60E6,$7004; $00D3C0
    dc.w    $60E2,$42A7,$4878,$0002,$4878,$0004,$4878,$000C; $00D3D0
    dc.w    $4878,$0003,$42A7,$4878,$001A,$4E92,$4FEF,$001C; $00D3E0
    dc.w    $42A7,$4878,$0009,$4878,$001E,$4878,$0013,$4878; $00D3F0
    dc.w    $0001,$42A7,$4878,$001A,$4E92,$3003,$4CEE,$040C; $00D400
    dc.w    $FF74,$4E5E,$4E75,$4E56,$FFA0,$48E7,$2020,$247C; $00D410
    dc.w    $0000,$0D64,$4279,$00FF,$A790,$2F3C,$0000,$8C81; $00D420
    dc.w    $42A7,$4E92,$4878,$000C,$4E92,$42A7,$4EB9,$0000; $00D430
    dc.w    $538E,$4878,$0001,$4EB9,$0000,$538E,$42A7,$42A7; $00D440
    dc.w    $4EB9,$0001,$D8F4,$4878,$0033,$4878,$0200,$4879; $00D450
    dc.w    $0000,$1D88,$4EB9,$0000,$45E6,$4FEF,$0028,$4242; $00D460
    dc.w    $3002,$D040,$207C,$0004,$771C,$3030,$0000,$0640; $00D470
    dc.w    $0200,$3202,$D241,$3D80,$10A0,$5242,$0C42,$0030; $00D480
    dc.w    $65DE,$486E,$FFA0,$4878,$0004,$4878,$000C,$4878; $00D490
    dc.w    $000C,$4878,$000E,$42A7,$4878,$001B,$4E92,$4878; $00D4A0
    dc.w    $0010,$42A7,$4879,$0004,$76FC,$4EB9,$0000,$5092; $00D4B0
    dc.w    $4878,$0004,$4E92,$4FEF,$002C,$0280,$0000,$000F; $00D4C0
    dc.w    $720F,$B280,$6604,$7000,$6006,$203C,$0000,$FFFF; $00D4D0
    dc.w    $33C0,$00FF,$A790,$4EB9,$0000,$5060,$2F3C,$0000; $00D4E0
    dc.w    $8C00,$42A7,$4E92,$4CEE,$0404,$FF98,$4E5E,$4E75; $00D4F0
    dc.w    $4878,$0040,$42A7,$4EB9,$0001,$E0B8,$42A7,$4878; $00D500
    dc.w    $0020,$4878,$0020,$42A7,$42A7,$42A7,$4878,$001A; $00D510
    dc.w    $4EB9,$0000,$0D64,$4FEF,$0024,$42A7,$4878,$0020; $00D520
    dc.w    $4878,$0020,$42A7,$42A7,$4878,$0001,$4878,$001A; $00D530
    dc.w    $4EB9,$0000,$0D64,$4FEF,$001C,$4EB9,$0001,$DE92; $00D540
    dc.w    $4EB9,$0003,$A7A0,$4E75,$33FC,$0101,$00FF,$1274; $00D550
    dc.w    $33FC,$FFFF,$00FF,$BD52,$7021,$23C0,$00FF,$A7E0; $00D560
    dc.w    $4878,$0080,$42A7,$4879,$00FF,$159C,$4EB9,$0001; $00D570
    dc.w    $D520,$33FC,$8001,$00FF,$0A34,$4878,$0038,$42A7; $00D580
    dc.w    $4879,$00FF,$BDAC,$4EB9,$0001,$D520,$4879,$0000; $00D590
    dc.w    $625C,$4878,$0001,$4878,$0022,$4EB9,$0000,$0D64; $00D5A0
    dc.w    $4FEF,$0024,$4E75                                ; $00D5B0 (end prev fn: lea $24(sp),sp / rts)
; ============================================================================
; GameEntry -- Main game entry point (called after boot initialization)
; ============================================================================
; Sets up game state, initializes subsystems, configures display, then enters
; the main loop. Called once from boot code via jmp.
; ============================================================================
GameEntry:                                                   ; $00D5B6
    dc.w    $4EB9,$0000,$5736                                ; jsr PreGameInit [$5736]
    dc.w    $6100,$FE58                                      ; bsr.w GameInit1 [$D416]
    dc.w    $6100,$FF96                                      ; bsr.w GameInit2 [$D558]
    pea     ($0001).w                                        ; Push argument 1
    dc.w    $4EB9,$0003,$B428                                ; jsr GameSetup1 [$3B428]
    dc.w    $4EB9,$0003,$CA4E                                ; jsr GameSetup2 [$3CA4E]
    dc.w    $6100,$FF2A                                      ; bsr.w GameInit5 [$D500]
    pea     ($0010).w                                        ; Push display mode $10
    clr.l   -(sp)                                            ; Push zero (default param)
    pea     $0007651E                                        ; Push display config ptr
    dc.w    $4EB9,$0000,$5092                                ; jsr DisplaySetup [$5092]
    lea     $10(sp),sp                                       ; Clean 16 bytes of stack args
    dc.w    $4EB9,$0000,$A006                                ; jsr PostDisplayInit [$A006]
    dc.w    $4EBA,$000C                                      ; jsr GameLoopSetup(pc) [$D602]
    nop
    clr.w   $00FF0006                                        ; Clear per-frame update flag
    rts
; ============================================================================
; GameLoopSetup -- One-time loop init (falls through to MainLoop)
; ============================================================================
GameLoopSetup:                                               ; $00D602
    dc.w    $4EB9,$0001,$E398                                ; jsr PreLoopInit [$1E398]
; ============================================================================
; MainLoop -- Main game loop (runs every frame, iterates forever)
; ============================================================================
MainLoop:                                                    ; $00D608
    dc.w    $4EB9,$0002,$F5A6                                ; jsr GameUpdate1 [$2F5A6]
    dc.w    $4EB9,$0001,$B49A                                ; jsr GameUpdate2 [$1B49A]
    clr.w   $00FF17C4                                        ; Clear per-frame work flag
    dc.w    $4EB9,$0002,$13B6                                ; jsr GameLogic1 [$213B6]
    dc.w    $4EB9,$0002,$947A                                ; jsr GameLogic2 [$2947A]
    pea     ($0001).w                                        ; Push argument 1
    dc.w    $4EB9,$0001,$819C                                ; jsr GameCall [$1819C]
    addq.l  #4,sp                                            ; Clean up pea argument
    dc.w    $4EB9,$0001,$E402                                ; jsr GameUpdate3 [$1E402]
    dc.w    $4EB9,$0002,$6128                                ; jsr GameUpdate4 [$26128]
    addq.w  #1,$00FF0006                                     ; Increment frame counter
    bra.s   MainLoop                                         ; Loop forever
; ---
    rts                                                      ; $00D646 (dead code after MainLoop bra.s)
; ===========================================================================
; RangeLookup -- Map a value to a table index (0-7)
;   In:  4(sp) = value to look up (longword on stack)
;   Out: D0.w = index (0-7), or $FF if out of range
;   Table: 8 entries x 4 bytes at $5ECBC, cumulative thresholds
;   Value < 32: search bytes [0]+[1]; 32-88: search bytes [2]+[3]
;   Value 89: returns 7; Value >= 90: returns $FF
;   114 calls
; ===========================================================================
RangeLookup:                                                ; $00D648
    movem.l d2-d3,-(sp)               ; save D2-D3
    move.l  $000C(sp),d3              ; D3 = argument (past saved regs + return addr)
    movea.l #$0005ECBC,a0             ; A0 = range table in ROM
    cmpi.w  #$0020,d3                 ; value < 32?
    bge.s   .range2                    ; no, try second range
; --- Range 1: value 0-31, search using table bytes [0]+[1] ---
    clr.w   d2                         ; D2 = index counter
.loop1:                                                     ; $00D65E
    moveq   #0,d0
    move.b  (a0),d0                    ; D0 = entry byte 0
    moveq   #0,d1
    move.b  1(a0),d1                   ; D1 = entry byte 1
    add.l   d1,d0                      ; D0 = threshold sum
    move.w  d3,d1
    ext.l   d1                         ; D1 = value (sign-extended)
    cmp.l   d1,d0
    bgt.s   .found                     ; threshold > value, match
    addq.l  #4,a0                      ; next table entry
    addq.w  #1,d2                      ; index++
    cmpi.w  #$0007,d2
    bcs.s   .loop1                     ; loop while index < 7
    bra.s   .found                     ; not found, D2 = 7
; --- Range 2: value 32-88, search using table bytes [2]+[3] ---
.range2:                                                    ; $00D67E
    cmpi.w  #$0059,d3                  ; value < 89?
    bge.s   .range3                    ; no, check special cases
    clr.w   d2                         ; D2 = index counter
.loop2:                                                     ; $00D686
    moveq   #0,d0
    move.b  2(a0),d0                   ; D0 = entry byte 2
    moveq   #0,d1
    move.b  3(a0),d1                   ; D1 = entry byte 3
    add.l   d1,d0                      ; D0 = threshold sum
    move.w  d3,d1
    ext.l   d1                         ; D1 = value (sign-extended)
    cmp.l   d1,d0
    bgt.s   .found                     ; threshold > value, match
    addq.l  #4,a0                      ; next table entry
    addq.w  #1,d2                      ; index++
    cmpi.w  #$0007,d2
    bcs.s   .loop2                     ; loop while index < 7
    bra.s   .found                     ; not found, D2 = 7
; --- Range 3: special values ---
.range3:                                                    ; $00D6A8
    cmpi.w  #$005A,d3                  ; value < 90?
    bge.s   .invalid                   ; no, out of range
    moveq   #7,d2                      ; value == 89 -> index 7
    bra.s   .found
.invalid:                                                   ; $00D6B2
    move.w  #$00FF,d2                  ; out of range marker
.found:                                                     ; $00D6B6
    move.w  d2,d0                      ; D0 = result
    movem.l (sp)+,d2-d3               ; restore D2-D3
    rts
; ============================================================================
; RunPlayerTurn -- (TODO: describe)
; Called: ?? times.
; 166 bytes | $00D6BE-$00D763
; ============================================================================
RunPlayerTurn:                                                  ; $00D6BE
    link    a6,#-$4
    movem.l d2-d4,-(sp)
    moveq   #$0,d2
    move.b  ($00FF0016).l,d2
.ld6ce:                                                 ; $00D6CE
    move.w  ($00FF9A1C).l,d3
    pea     ($0002).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$12ee                           ; jsr $0112EE
    addq.l  #$8,sp
    move.w  d0,d4
    cmpi.w  #$ff,d0
    beq.b   .ld728
    cmpi.w  #$4,d4
    bge.b   .ld712
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$005c                                 ; jsr $00D764
    nop
    lea     $000c(sp),sp
    bra.b   .ld6ce
.ld712:                                                 ; $00D712
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$118a                                 ; jsr $00E8AA
    nop
    addq.l  #$8,sp
    bra.b   .ld6ce
.ld728:                                                 ; $00D728
    dc.w    $4eb9,$0001,$d71c                           ; jsr $01D71C
    pea     ($0001).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6a2e                           ; jsr $006A2E
    pea     ($0002).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6b78                           ; jsr $006B78
    movem.l -$0010(a6),d2-d4
    unlk    a6
    rts
    dc.w    $4E56,$FF78,$48E7,$3F3C,$282E,$0008         ; $00D764
    dc.w    $2A2E,$000C,$4BEE,$0012,$426E,$FF78,$3004,$C0FC; $00D770
    dc.w    $0024,$207C,$00FF,$0018,$41F0,$0000,$2848,$3004; $00D780
    dc.w    $EB48,$3205,$E749,$D041,$207C,$00FF,$0338,$41F0; $00D790
    dc.w    $0000,$2648,$4EB9,$0001,$D71C,$4878,$077E,$4878; $00D7A0
    dc.w    $0006,$4878,$001C,$4878,$0013,$4878,$0002,$4878; $00D7B0
    dc.w    $0001,$4878,$001A,$4EB9,$0000,$0D64,$4878,$0001; $00D7C0
    dc.w    $3015,$48C0,$2F00,$3004,$48C0,$2F00,$4EB9,$0000; $00D7D0
    dc.w    $6A2E,$4FEF,$0028,$4878,$0002,$3015,$48C0,$2F00; $00D7E0
    dc.w    $3004,$48C0,$2F00,$4EB9,$0000,$6B78,$4FEF,$000C; $00D7F0
    dc.w    $6000,$0250,$7E01,$4243,$6000,$01C8,$4247,$0C42; $00D800
    dc.w    $0020,$6C28,$3002,$C0FC,$0006,$D043,$207C,$00FF; $00D810
    dc.w    $1704,$1C30,$0000,$0286,$0000,$00FF,$3002,$C0FC; $00D820
    dc.w    $0006,$D043,$207C,$00FF,$0420,$6022,$3002,$E548; $00D830
    dc.w    $D043,$207C,$00FF,$15A0,$1C30,$0000,$0286,$0000; $00D840
    dc.w    $00FF,$3002,$E548,$D043,$207C,$00FF,$0460,$41F0; $00D850
    dc.w    $0000,$2448,$3006,$48C0,$2F00,$3002,$48C0,$2F00; $00D860
    dc.w    $3004,$48C0,$2F00,$4EBA,$0816,$4E71,$4FEF,$000C; $00D870
    dc.w    $2D40,$FFFC,$202C,$0006,$B0AE,$FFFC,$6D00,$0120; $00D880
    dc.w    $3006,$E548,$207C,$0005,$E2A2,$2F30,$0000,$2F39; $00D890
    dc.w    $0004,$7798,$486E,$FF7A,$4EB9,$0003,$B22C,$42A7; $00D8A0
    dc.w    $4878,$0001,$42A7,$3005,$48C0,$2F00,$486E,$FF7A; $00D8B0
    dc.w    $3004,$48C0,$2F00,$4EB9,$0001,$183A,$4FEF,$0024; $00D8C0
    dc.w    $0C40,$0001,$6600,$00FC,$202E,$FFFC,$91AC,$0006; $00D8D0
    dc.w    $177C,$0005,$0001,$1682,$1743,$0002,$177C,$0001; $00D8E0
    dc.w    $0003,$1004,$0000,$0080,$1480,$4878,$0001,$42A7; $00D8F0
    dc.w    $4EB9,$0001,$E0B8,$4878,$000A,$4878,$000A,$4EB9; $00D900
    dc.w    $0001,$E0B8,$4878,$000A,$4878,$0028,$4EB9,$0001; $00D910
    dc.w    $E0B8,$4FEF,$0018,$2F3C,$0000,$8000,$4878,$000A; $00D920
    dc.w    $4878,$0020,$4878,$0005,$42A7,$42A7,$4878,$001A; $00D930
    dc.w    $4EB9,$0000,$0D64,$4FEF,$001C,$2F3C,$0000,$8000; $00D940
    dc.w    $4878,$000A,$4878,$0020,$4878,$0005,$42A7,$4878; $00D950
    dc.w    $0001,$4878,$001A,$4EB9,$0000,$0D64,$4878,$0005; $00D960
    dc.w    $4878,$000A,$4878,$0015,$4EB9,$0000,$5FF6,$4FEF; $00D970
    dc.w    $0028,$4878,$0001,$42A7,$42A7,$3005,$48C0,$2F00; $00D980
    dc.w    $2F39,$0004,$779C,$3004,$48C0,$2F00,$4EB9,$0001; $00D990
    dc.w    $183A,$4FEF,$0018,$3D7C,$0001,$FF78,$6056,$4878; $00D9A0
    dc.w    $0001,$42A7,$42A7,$3005,$48C0,$2F00,$2F39,$0004; $00D9B0
    dc.w    $7794,$3004,$48C0,$2F00,$4EB9,$0001,$183A,$4FEF; $00D9C0
    dc.w    $0018,$3003,$48C0,$2F00,$3007,$48C0,$2F00,$3002; $00D9D0
    dc.w    $48C0,$2F00,$3005,$48C0,$2F00,$3004,$48C0,$2F00; $00D9E0
    dc.w    $4EBA,$0180,$4E71,$4FEF,$0014,$3600,$0C40,$00FF; $00D9F0
    dc.w    $6600,$FE0A,$4EB9,$0001,$D71C,$4EB9,$0001,$E398; $00DA00
    dc.w    $4878,$0001,$3015,$48C0,$2F00,$3004,$48C0,$2F00; $00DA10
    dc.w    $4EB9,$0000,$6A2E,$4FEF,$000C,$4A6E,$FF78,$661A; $00DA20
    dc.w    $4878,$0002,$3015,$48C0,$2F00,$3004,$48C0,$2F00; $00DA30
    dc.w    $4EB9,$0000,$6B78,$4FEF,$000C,$0C6E,$0001,$FF78; $00DA40
    dc.w    $6726,$4EB9,$0001,$D748,$486E,$0012,$3005,$2F00; $00DA50
    dc.w    $3004,$2F00,$4EBA,$0026,$4E71,$4FEF,$000C,$3400; $00DA60
    dc.w    $0C40,$00FF,$6600,$FD8E,$33D5,$00FF,$9A1C,$302E; $00DA70
    dc.w    $FF78,$4CEE,$3CFC,$FF50,$4E5E,$4E75,$48E7,$3820; $00DA80
    dc.w    $262F,$0014,$282F,$0018,$246F,$001C,$4878,$0001; $00DA90
    dc.w    $42A7,$42A7,$3004,$48C0,$2F00,$2F39,$0004,$7784; $00DAA0
    dc.w    $3003,$48C0,$2F00,$4EB9,$0001,$183A,$4FEF,$0018; $00DAB0
    dc.w    $42A7,$4878,$0006,$4878,$001C,$4878,$0013,$4878; $00DAC0
    dc.w    $0002,$42A7,$4878,$001A,$4EB9,$0000,$0D64,$4FEF; $00DAD0
    dc.w    $001C,$4878,$077E,$4878,$0006,$4878,$001C,$4878; $00DAE0
    dc.w    $0013,$4878,$0002,$4878,$0001,$4878,$001A,$4EB9; $00DAF0
    dc.w    $0000,$0D64,$2F0A,$3003,$48C0,$2F00,$4EB9,$0000; $00DB00
    dc.w    $8E0C,$4FEF,$0024,$3400,$0C40,$00FF,$6744,$207C; $00DB10
    dc.w    $00FF,$09D8,$1030,$2000,$0200,$0003,$673C,$4878; $00DB20
    dc.w    $0002,$4878,$0037,$4EB9,$0001,$E0B8,$4878,$0001; $00DB30
    dc.w    $42A7,$4878,$0002,$3004,$48C0,$2F00,$2F39,$0004; $00DB40
    dc.w    $77AC,$3003,$48C0,$2F00,$4EB9,$0001,$183A,$4FEF; $00DB50
    dc.w    $0020,$0C42,$00FF,$6600,$FF34,$3002,$4CDF,$041C; $00DB60
    dc.w    $4E75,$4E56,$FFA0,$48E7,$3F3C,$2E2E,$0010,$2A7C; $00DB70
    dc.w    $0000,$0D64,$0C47,$0020,$6C3A,$3007,$C0FC,$0006; $00DB80
    dc.w    $207C,$00FF,$1704,$41F0,$0000,$2448,$3007,$C0FC; $00DB90
    dc.w    $0006,$207C,$00FF,$0420,$41F0,$0000,$2848,$4242; $00DBA0
    dc.w    $3042,$0C32,$000F,$8000,$643E,$5242,$0C42,$0006; $00DBB0
    dc.w    $6DEE,$6034,$3007,$E548,$207C,$00FF,$15A0,$41F0; $00DBC0
    dc.w    $0000,$2448,$3007,$E548,$207C,$00FF,$0460,$41F0; $00DBD0
    dc.w    $0000,$2848,$4242,$3042,$0C32,$000F,$8000,$6408; $00DBE0
    dc.w    $5242,$0C42,$0004,$6DEE,$0C6E,$0001,$0016,$6612; $00DBF0
    dc.w    $33C7,$00FF,$A6B0,$4EB9,$0002,$0A64,$4EB9,$0001; $00DC00
    dc.w    $D748,$4878,$0001,$42A7,$42A7,$302E,$000E,$48C0; $00DC10
    dc.w    $2F00,$2F39,$0004,$778C,$302E,$000A,$48C0,$2F00; $00DC20
    dc.w    $4EB9,$0001,$183A,$4FEF,$0018,$42A7,$4878,$0006; $00DC30
    dc.w    $4878,$0017,$4878,$0013,$4878,$0002,$42A7,$4878; $00DC40
    dc.w    $001A,$4E95,$7C0D,$7A05,$42A7,$4EB9,$0001,$E1EC; $00DC50
    dc.w    $4FEF,$0020,$4A40,$6704,$7001,$6002,$7000,$3D40; $00DC60
    dc.w    $FFFE,$426E,$FFFC,$4279,$00FF,$13FC,$4279,$00FF; $00DC70
    dc.w    $A7D8,$362E,$001A,$383C,$00FF,$B843,$6700,$0174; $00DC80
    dc.w    $2F3C,$0000,$8000,$4878,$0005,$4878,$0006,$3005; $00DC90
    dc.w    $48C0,$2F00,$3006,$48C0,$2F00,$4878,$0001,$4878; $00DCA0
    dc.w    $001A,$4E95,$4FEF,$001C,$2F3C,$0000,$8000,$4878; $00DCB0
    dc.w    $0004,$4878,$000C,$4878,$000F,$42A7,$42A7,$4878; $00DCC0
    dc.w    $001A,$4E95,$4FEF,$001C,$2F3C,$0000,$8000,$4878; $00DCD0
    dc.w    $0004,$4878,$000C,$4878,$000F,$4878,$0014,$42A7; $00DCE0
    dc.w    $4878,$001A,$4E95,$4FEF,$001C,$3C03,$48C6,$E286; $00DCF0
    dc.w    $CCFC,$0006,$0646,$000D,$3A03,$0245,$0001,$CAFC; $00DD00
    dc.w    $0005,$5A45,$42A7,$4878,$0002,$4878,$0001,$3005; $00DD10
    dc.w    $48C0,$E788,$0680,$0000,$0010,$2F00,$3006,$48C0; $00DD20
    dc.w    $E788,$0680,$0000,$0020,$2F00,$42A7,$4878,$0544; $00DD30
    dc.w    $4EB9,$0001,$E044,$4878,$0001,$4878,$000E,$4E95; $00DD40
    dc.w    $4FEF,$0024,$41F2,$3000,$2648,$0C10,$000F,$6400; $00DD50
    dc.w    $00A0,$4878,$0020,$4878,$0020,$42A7,$42A7,$4EB9; $00DD60
    dc.w    $0003,$A942,$7000,$1013,$2F00,$3007,$48C0,$2F00; $00DD70
    dc.w    $302E,$000A,$48C0,$2F00,$4EBA,$0304,$4E71,$4FEF; $00DD80
    dc.w    $001C,$2800,$2F3C,$0000,$8000,$4878,$0002,$4878; $00DD90
    dc.w    $001F,$4878,$0010,$4878,$0001,$42A7,$4878,$001A; $00DDA0
    dc.w    $4E95,$4878,$0010,$4878,$0001,$4EB9,$0003,$AB2C; $00DDB0
    dc.w    $7000,$1013,$E548,$207C,$0005,$E2A2,$2F30,$0000; $00DDC0
    dc.w    $4879,$0003,$E8CC,$4EB9,$0003,$B270,$4FEF,$002C; $00DDD0
    dc.w    $4878,$0010,$4878,$0014,$4EB9,$0003,$AB2C,$2F04; $00DDE0
    dc.w    $4879,$0003,$E8C6,$4EB9,$0003,$B270,$4FEF,$0010; $00DDF0
    dc.w    $3803,$4A6E,$FFFE,$671E,$42A7,$4EB9,$0001,$E1EC; $00DE00
    dc.w    $588F,$4A40,$6710,$4878,$0002,$4878,$000E,$4E95; $00DE10
    dc.w    $508F,$6000,$FE66,$426E,$FFFE,$302E,$FFFC,$2F00; $00DE20
    dc.w    $4878,$000A,$4EB9,$0001,$E290,$508F,$3D40,$FFFC; $00DE30
    dc.w    $0240,$0020,$6700,$013E,$4279,$00FF,$13FC,$4279; $00DE40
    dc.w    $00FF,$A7D8,$42A7,$4878,$0002,$4878,$0001,$3005; $00DE50
    dc.w    $48C0,$E788,$0680,$0000,$0010,$2F00,$3006,$48C0; $00DE60
    dc.w    $E788,$0680,$0000,$0020,$2F00,$42A7,$4878,$0546; $00DE70
    dc.w    $4EB9,$0001,$E044,$4878,$0002,$4878,$000E,$4E95; $00DE80
    dc.w    $4FEF,$0024,$3043,$0C32,$000F,$8000,$6400,$00E6; $00DE90
    dc.w    $3043,$0C34,$00FF,$8000,$660C,$3043,$0C32,$000F; $00DEA0
    dc.w    $8000,$6500,$01AA,$41F4,$3000,$2648,$1010,$0280; $00DEB0
    dc.w    $0000,$007F,$322E,$000A,$48C1,$B081,$662E,$3043; $00DEC0
    dc.w    $1032,$8000,$0280,$0000,$00FF,$E548,$207C,$0005; $00DED0
    dc.w    $E2A2,$2F30,$0000,$2F39,$0004,$77A0,$486E,$FFA2; $00DEE0
    dc.w    $4EB9,$0003,$B22C,$4FEF,$000C,$603E,$1013,$0240; $00DEF0
    dc.w    $007F,$E948,$207C,$00FF,$00A8,$4870,$0000,$3043; $00DF00
    dc.w    $1032,$8000,$0280,$0000,$00FF,$E548,$207C,$0005; $00DF10
    dc.w    $E2A2,$2F30,$0000,$2F39,$0004,$7790,$486E,$FFA2; $00DF20
    dc.w    $4EB9,$0003,$B22C,$4FEF,$0010,$4878,$0001,$42A7; $00DF30
    dc.w    $4878,$0002,$302E,$000E,$48C0,$2F00,$486E,$FFA2; $00DF40
    dc.w    $302E,$000A,$48C0,$2F00,$4EB9,$0001,$183A,$42A7; $00DF50
    dc.w    $42A7,$42A7,$302E,$000E,$48C0,$2F00,$2F39,$0004; $00DF60
    dc.w    $778C,$302E,$000A,$48C0,$2F00,$4EB9,$0001,$183A; $00DF70
    dc.w    $4FEF,$0030,$302E,$FFFC,$0240,$0010,$6714,$4279; $00DF80
    dc.w    $00FF,$13FC,$4279,$00FF,$A7D8,$363C,$00FF,$6000; $00DF90
    dc.w    $00BE,$302E,$FFFC,$0240,$000F,$6700,$00AA,$302E; $00DFA0
    dc.w    $FFFC,$0240,$0008,$6718,$33FC,$0001,$00FF,$13FC; $00DFB0
    dc.w    $3003,$48C0,$5480,$3202,$48C1,$B081,$6C02,$5443; $00DFC0
    dc.w    $302E,$FFFC,$0240,$0004,$672C,$33FC,$0001,$00FF; $00DFD0
    dc.w    $13FC,$3003,$48C0,$5580,$3203,$0281,$0000,$0001; $00DFE0
    dc.w    $B081,$6F08,$3003,$48C0,$5580,$6008,$3003,$0280; $00DFF0
    dc.w    $0000,$0001,$3600,$302E,$FFFC,$0240,$0002,$6730; $00E000
    dc.w    $33FC,$0001,$00FF,$13FC,$3003,$48C0,$0080,$0000; $00E010
    dc.w    $0001,$3202,$48C1,$5381,$B081,$6C0C,$3003,$48C0; $00E020
    dc.w    $0080,$0000,$0001,$6006,$3002,$48C0,$5380,$3600; $00E030
    dc.w    $302E,$FFFC,$0240,$0001,$670C,$33FC,$0001,$00FF; $00E040
    dc.w    $13FC,$0243,$00FE,$4878,$0004,$6000,$FDBE,$2F3C; $00E050
    dc.w    $0000,$8000,$4878,$0005,$4878,$0006,$3005,$48C0; $00E060
    dc.w    $2F00,$3006,$48C0,$2F00,$4878,$0001,$4878,$001A; $00E070
    dc.w    $4E95,$3003,$4CEE,$3CFC,$FF78,$4E5E,$4E75       ; $00E080
; ============================================================================
; CalcCharValue -- Calculate character effectiveness from stats and game phase
; Called: 18 times.
; 196 bytes | $00E08E-$00E151
; ============================================================================
CalcCharValue:                                                  ; $00E08E
    movem.l d2-d4/a2,-(sp)
    move.l  $001c(sp),d2
    move.l  $0018(sp),d3
    move.l  $0014(sp),d4
    move.w  d3,d0
    lsl.w   #$2,d0
    movea.l #$00ff1298,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  d2,d0
    lsl.w   #$2,d0
    movea.l #$0005e31a,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    move.l  #$01f4,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  d0,d2
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$9d92                           ; jsr $009D92
    addq.l  #$8,sp
    move.w  d0,d3
    moveq   #$0,d0
    move.b  $0003(a2),d0
    addi.w  #$32,d0
    andi.l  #$ffff,d0
    moveq   #$a,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    moveq   #$0,d1
    move.w  d3,d1
    addq.l  #$2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    tst.l   d0
    bge.b   .le110
    addq.l  #$3,d0
.le110:                                                 ; $00E110
    asr.l   #$2,d0
    addq.w  #$1,d0
    move.w  d0,d3
    moveq   #$0,d1
    move.w  d3,d1
    move.l  d2,d0
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    move.l  d0,d2
    move.w  ($00FF0006).l,d0
    ext.l   d0
    moveq   #$3,d1
    dc.w    $4eb9,$0003,$e08a                           ; jsr $03E08A
    addi.l  #$1e,d0
    move.l  d2,d1
    dc.w    $4eb9,$0003,$e05c                           ; jsr $03E05C
    moveq   #$64,d1
    dc.w    $4eb9,$0003,$e0c6                           ; jsr $03E0C6
    move.l  d0,d2
    movem.l (sp)+,d2-d4/a2
    rts
; ============================================================================
; CollectPlayerChars -- (TODO: describe)
; Called: ?? times.
; 498 bytes | $00E152-$00E343
; ============================================================================
CollectPlayerChars:                                                  ; $00E152
    link    a6,#-$10
    movem.l d2-d7/a2-a5,-(sp)
    move.l  $0010(a6),d3
    move.l  $0008(a6),d7
    move.w  $000e(a6),d0
    lsl.w   #$2,d0
    movea.l #$0005ecbc,a0
    lea     (a0,d0.w),a0
    movea.l a0,a5
    cmpi.w  #$5,d3
    bge.b   .le1ac
    move.w  d3,d0
    add.w   d0,d0
    movea.l #$0005f908,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    move.w  d0,-$000c(a6)
    move.w  d3,d0
    add.w   d0,d0
    movea.l #$0005f909,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    move.w  d0,-$000e(a6)
    bra.b   .le1b6
.le1ac:                                                 ; $00E1AC
    clr.w   -$000c(a6)
    move.w  #$e,-$000e(a6)
.le1b6:                                                 ; $00E1B6
    lea     -$000a(a6),a3
    clr.w   d5
    clr.w   d4
    moveq   #$0,d3
    move.b  (a5),d3
    moveq   #$0,d6
    move.b  $0001(a5),d6
    bra.w   .le276
.le1cc:                                                 ; $00E1CC
    move.w  d3,d0
    mulu.w  #$6,d0
    movea.l #$00ff1704,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  d3,d0
    mulu.w  #$6,d0
    movea.l #$00ff0420,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    clr.w   d2
.le1f2:                                                 ; $00E1F2
    moveq   #$0,d0
    move.b  (a4),d0
    move.w  d7,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .le266
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  -$000c(a6),d1
    ext.l   d1
    cmp.l   d1,d0
    blt.b   .le266
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  -$000e(a6),d1
    ext.l   d1
    cmp.l   d1,d0
    bgt.b   .le266
    move.w  d3,(a3)
    move.w  d2,$0002(a3)
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d0,$0004(a3)
    moveq   #$0,d0
    move.b  (a2),d0
    move.l  d0,-(sp)
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d7,d0
    move.l  d0,-(sp)
    dc.w    $6100,$fe56                                 ; bsr.w $00E08E
    move.l  d0,$0006(a3)
    pea     ($000A).w
    move.w  d5,d0
    add.w   d0,d0
    movea.l #$00ff1a04,a0
    pea     (a0,d0.w)
    clr.l   -(sp)
    move.l  a3,-(sp)
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$d538                           ; jsr $01D538
    lea     $0020(sp),sp
    addi.w  #$a,d5
    addq.w  #$1,d4
.le266:                                                 ; $00E266
    addq.l  #$1,a2
    addq.l  #$1,a4
    addq.w  #$1,d2
    cmpi.w  #$6,d2
    blt.b   .le1f2
    subq.w  #$1,d6
    addq.w  #$1,d3
.le276:                                                 ; $00E276
    tst.w   d6
    bgt.w   .le1cc
    moveq   #$0,d3
    move.b  $0002(a5),d3
    moveq   #$0,d6
    move.b  $0003(a5),d6
    bra.w   .le332
.le28c:                                                 ; $00E28C
    move.w  d3,d0
    lsl.w   #$2,d0
    movea.l #$00ff15a0,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  d3,d0
    lsl.w   #$2,d0
    movea.l #$00ff0460,a0
    lea     (a0,d0.w),a0
    movea.l a0,a4
    clr.w   d2
.le2ae:                                                 ; $00E2AE
    moveq   #$0,d0
    move.b  (a4),d0
    move.w  d7,d1
    ext.l   d1
    cmp.l   d1,d0
    bne.b   .le322
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  -$000c(a6),d1
    ext.l   d1
    cmp.l   d1,d0
    blt.b   .le322
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  -$000e(a6),d1
    ext.l   d1
    cmp.l   d1,d0
    bgt.b   .le322
    move.w  d3,(a3)
    move.w  d2,$0002(a3)
    moveq   #$0,d0
    move.b  (a2),d0
    move.w  d0,$0004(a3)
    moveq   #$0,d0
    move.b  (a2),d0
    move.l  d0,-(sp)
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d7,d0
    move.l  d0,-(sp)
    dc.w    $6100,$fd9a                                 ; bsr.w $00E08E
    move.l  d0,$0006(a3)
    pea     ($000A).w
    move.w  d5,d0
    add.w   d0,d0
    movea.l #$00ff1a04,a0
    pea     (a0,d0.w)
    clr.l   -(sp)
    move.l  a3,-(sp)
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$d538                           ; jsr $01D538
    lea     $0020(sp),sp
    addi.w  #$a,d5
    addq.w  #$1,d4
.le322:                                                 ; $00E322
    addq.l  #$1,a2
    addq.l  #$1,a4
    addq.w  #$1,d2
    cmpi.w  #$4,d2
    blt.b   .le2ae
    subq.w  #$1,d6
    addq.w  #$1,d3
.le332:                                                 ; $00E332
    tst.w   d6
    bgt.w   .le28c
    move.w  d4,d0
    movem.l -$0038(a6),d2-d7/a2-a5
    unlk    a6
    rts
    dc.w    $4E56,$FFF4,$48E7,$3E38,$282E,$0008          ; $00E344
    dc.w    $2C2E,$000C,$267C,$0003,$B270,$287C,$0003,$AB2C; $00E350
    dc.w    $45EE,$FFF6,$3A04,$CAFC,$000A,$3006,$48C0,$3204; $00E360
    dc.w    $48C1,$9081,$7205,$B280,$6F0C,$3006,$48C0,$3204; $00E370
    dc.w    $48C1,$9081,$6002,$7005,$3C00,$4878,$0020,$4878; $00E380
    dc.w    $0020,$42A7,$42A7,$4EB9,$0003,$A942,$2F3C,$0000; $00E390
    dc.w    $8000,$4878,$000A,$4878,$0020,$4878,$0005,$42A7; $00E3A0
    dc.w    $42A7,$4878,$001A,$4EB9,$0000,$0D64,$4FEF,$002C; $00E3B0
    dc.w    $4878,$0003,$4878,$0001,$4E94,$4879,$0003,$E8EE; $00E3C0
    dc.w    $4E93,$4878,$0003,$4878,$000C,$4E94,$4879,$0003; $00E3D0
    dc.w    $E8E4,$4E93,$4878,$0003,$4878,$0018,$4E94,$4879; $00E3E0
    dc.w    $0003,$E8DE,$4E93,$4FEF,$0024,$4243,$7405,$6000; $00E3F0
    dc.w    $009A,$4878,$000A,$2F0A,$42A7,$3005,$D040,$207C; $00E400
    dc.w    $00FF,$1A04,$4870,$0000,$42A7,$4EB9,$0001,$D538; $00E410
    dc.w    $0645,$000A,$3002,$48C0,$2F00,$4878,$0001,$4E94; $00E420
    dc.w    $3012,$E548,$207C,$0005,$E7E4,$2F30,$0000,$4879; $00E430
    dc.w    $0003,$E8DA,$4E93,$3002,$48C0,$2F00,$4878,$000C; $00E440
    dc.w    $4E94,$4FEF,$002C,$302A,$0004,$E548,$207C,$0005; $00E450
    dc.w    $E2DE,$2F30,$0000,$4879,$0003,$E8D6,$4E93,$3002; $00E460
    dc.w    $48C0,$2F00,$4878,$0016,$4E94,$202A,$0006,$E488; $00E470
    dc.w    $2200,$D080,$D081,$2F00,$4879,$0003,$E8D0,$4E93; $00E480
    dc.w    $4FEF,$0018,$5244,$5243,$5442,$B646,$6D00,$FF64; $00E490
    dc.w    $4CEE,$1C7C,$FFD4,$4E5E,$4E75,$4E56,$0000,$48E7; $00E4A0
    dc.w    $3E38,$2C2E,$000C,$247C,$0000,$0D64,$267C,$00FF; $00E4B0
    dc.w    $13FC,$287C,$00FF,$BD58,$7801,$4878,$0001,$42A7; $00E4C0
    dc.w    $42A7,$4878,$0004,$2F39,$0004,$77A4,$302E,$000A; $00E4D0
    dc.w    $48C0,$2F00,$4EB9,$0001,$183A,$4FEF,$0018,$2F3C; $00E4E0
    dc.w    $0000,$8000,$4878,$000A,$4878,$0020,$4878,$0013; $00E4F0
    dc.w    $42A7,$42A7,$4878,$001A,$4E92,$4878,$0020,$4878; $00E500
    dc.w    $0020,$42A7,$42A7,$4EB9,$0003,$A942,$4FEF,$002C; $00E510
    dc.w    $4242,$4243,$4254,$3006,$48C0,$2F00,$3003,$48C0; $00E520
    dc.w    $2F00,$6100,$FE10,$508F,$42A7,$4EB9,$0001,$E1EC; $00E530
    dc.w    $588F,$0240,$0FFF,$66F0,$4245,$4253,$4279,$00FF; $00E540
    dc.w    $A7D8,$4243,$4A54,$671E,$0C44,$0001,$661E,$3006; $00E550
    dc.w    $48C0,$2F00,$3003,$48C0,$2F00,$6100,$FDD8,$508F; $00E560
    dc.w    $4242,$4244,$6006,$4244,$38BC,$0001,$4878,$0004; $00E570
    dc.w    $4878,$000E,$4E92,$2F3C,$0000,$8000,$4878,$0002; $00E580
    dc.w    $4878,$0001,$3002,$48C0,$E988,$0680,$0000,$0028; $00E590
    dc.w    $2F00,$4878,$0001,$42A7,$4878,$0544,$4EB9,$0001; $00E5A0
    dc.w    $E044,$4878,$0001,$4878,$000E,$4E92,$4FEF,$002C; $00E5B0
    dc.w    $3005,$2F00,$4878,$0014,$4EB9,$0001,$E290,$508F; $00E5C0
    dc.w    $3A00,$0280,$0000,$0033,$67E6,$3005,$48C0,$7220; $00E5D0
    dc.w    $B041,$6718,$7210,$B041,$6768,$7202,$B041,$676A; $00E5E0
    dc.w    $7201,$B041,$6700,$0088,$6000,$009E,$4253,$2F3C; $00E5F0
    dc.w    $0000,$8000,$4878,$0002,$4878,$0001,$3002,$48C0; $00E600
    dc.w    $E988,$0680,$0000,$0028,$2F00,$4878,$0001,$42A7; $00E610
    dc.w    $4878,$0546,$4EB9,$0001,$E044,$4878,$0005,$4878; $00E620
    dc.w    $000E,$4E92,$4FEF,$0024,$3003,$D042,$3400,$4878; $00E630
    dc.w    $0040,$42A7,$4878,$0010,$4E92,$4FEF,$000C,$3002; $00E640
    dc.w    $6056,$4253,$343C,$00FF,$60E4,$36BC,$0001,$3003; $00E650
    dc.w    $48C0,$3202,$48C1,$D081,$5280,$3206,$48C1,$B081; $00E660
    dc.w    $6C26,$5242,$0C42,$0005,$6D1E,$5A43,$6018,$36BC; $00E670
    dc.w    $0001,$3003,$48C0,$3202,$48C1,$D081,$5380,$6D08; $00E680
    dc.w    $5342,$6C04,$5B43,$7801,$4878,$0003,$4878,$000E; $00E690
    dc.w    $4E92,$508F,$6000,$FEAE,$4CEE,$1C7C,$FFE0,$4E5E; $00E6A0
    dc.w    $4E75                                            ; $00E6B0
; ============================================================================
; ShowCharCompare -- (TODO: describe)
; Called: ?? times.
; 504 bytes | $00E6B2-$00E8A9
; ============================================================================
ShowCharCompare:                                                  ; $00E6B2
    link    a6,#-$8
    movem.l d2-d6/a2-a5,-(sp)
    move.l  $0008(a6),d2
    move.l  $000c(a6),d3
    move.l  $0014(a6),d4
    movea.l #$0003ab2c,a2
    movea.l #$0003b246,a3
    lea     -$0008(a6),a4
    lea     -$0004(a6),a5
    clr.w   d5
    move.w  ($00FF0006).l,d6
    ext.l   d6
    subq.l  #$1,d6
    ble.b   .le6f4
    move.w  ($00FF0006).l,d6
    ext.l   d6
    subq.l  #$1,d6
    bra.b   .le6f6
.le6f4:                                                 ; $00E6F4
    moveq   #$0,d6
.le6f6:                                                 ; $00E6F6
    pea     -$0008(a6)
    pea     -$0004(a6)
    move.w  $0012(a6),d0
    move.l  d0,-(sp)
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    move.l  d0,-(sp)
    move.w  d6,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$969a                           ; jsr $00969A
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d2,d0
    move.l  d0,-(sp)
    dc.w    $6100,$f96a                                 ; bsr.w $00E08E
    lea     $0024(sp),sp
    move.l  d0,d2
    move.l  #$8000,-(sp)
    pea     ($0011).w
    pea     ($0020).w
    clr.l   -(sp)
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($001A).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    pea     ($0040).w
    clr.l   -(sp)
    pea     ($0010).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $0028(sp),sp
    pea     ($0010).w
    pea     ($001E).w
    pea     ($0002).w
    pea     ($0001).w
    dc.w    $4eb9,$0000,$5a04                           ; jsr $005A04
    pea     ($0010).w
    pea     ($001F).w
    pea     ($0002).w
    pea     ($0001).w
    dc.w    $4eb9,$0003,$a942                           ; jsr $03A942
    lea     $0020(sp),sp
    pea     ($0001).w
    pea     ($06A0).w
    pea     ($0037).w
    pea     ($0018).w
    pea     ($0010).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$883a                           ; jsr $00883A
    pea     ($0003).w
    pea     ($0005).w
    jsr     (a2)
    move.w  d3,d0
    lsl.w   #$2,d0
    movea.l #$0005e680,a0
    move.l  (a0,d0.w),-(sp)
    pea     ($0003E93C).l
    dc.w    $4eb9,$0003,$b270                           ; jsr $03B270
    pea     ($0006).w
    pea     ($0002).w
    jsr     (a2)
    lea     $0030(sp),sp
    move.w  d4,d0
    lsl.w   #$2,d0
    movea.l #$0005e2a2,a0
    move.l  (a0,d0.w),-(sp)
    pea     ($0003E938).l
    dc.w    $4eb9,$0003,$b270                           ; jsr $03B270
    pea     ($0640).w
    pea     ($000A).w
    pea     ($0003).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$0278                                 ; jsr $00EA86
    nop
    pea     ($0008).w
    pea     ($000B).w
    jsr     (a2)
    move.l  (a5),-(sp)
    pea     ($0003E92A).l
    jsr     (a3)
    pea     ($000A).w
    pea     ($000B).w
    jsr     (a2)
    lea     $0030(sp),sp
    move.l  (a4),-(sp)
    pea     ($0003E91A).l
    jsr     (a3)
    pea     ($000C).w
    pea     ($000B).w
    jsr     (a2)
    move.w  $0002(a5),d0
    sub.w   $0002(a4),d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     ($0003E90E).l
    jsr     (a3)
    pea     ($000E).w
    pea     ($000B).w
    jsr     (a2)
    move.l  d2,-(sp)
    pea     ($0003E902).l
    jsr     (a3)
    pea     ($0010).w
    pea     ($000B).w
    jsr     (a2)
    lea     $0030(sp),sp
    move.l  d2,d0
    bge.b   .le884
    addq.l  #$3,d0
.le884:                                                 ; $00E884
    asr.l   #$2,d0
    move.l  d0,d1
    add.l   d0,d0
    add.l   d1,d0
    move.l  d0,-(sp)
    pea     ($0003E8F4).l
    jsr     (a3)
    move.l  (a5),d0
    cmp.l   (a4),d0
    ble.b   .le89e
    moveq   #$1,d5
.le89e:                                                 ; $00E89E
    move.w  d5,d0
    movem.l -$002c(a6),d2-d6/a2-a5
    unlk    a6
    rts
    dc.w    $4E56,$FF90,$48E7                            ; $00E8AA
    dc.w    $3830,$242E,$0008,$262E,$000C,$4EB9,$0001,$D71C; $00E8B0
    dc.w    $4878,$0040,$42A7,$4878,$0010,$4EB9,$0000,$0D64; $00E8C0
    dc.w    $3002,$C0FC,$0024,$207C,$00FF,$0018,$41F0,$0000; $00E8D0
    dc.w    $2648,$42A7,$3003,$48C0,$2F00,$3002,$48C0,$2F00; $00E8E0
    dc.w    $4EB9,$0000,$6A2E,$4878,$0005,$3003,$48C0,$2F00; $00E8F0
    dc.w    $3002,$48C0,$2F00,$6100,$F84A,$4FEF,$0024,$3800; $00E900
    dc.w    $4EB9,$0001,$D748,$4A44,$6E00,$0124,$6000,$013E; $00E910
    dc.w    $45EE,$FFF6,$4878,$000A,$2F0A,$42A7,$3003,$C0FC; $00E920
    dc.w    $000A,$D040,$207C,$00FF,$1A04,$4870,$0000,$42A7; $00E930
    dc.w    $4EB9,$0001,$D538,$302A,$0004,$2F00,$302A,$0002; $00E940
    dc.w    $2F00,$3012,$2F00,$3002,$2F00,$6100,$FD56,$3600; $00E950
    dc.w    $0C43,$0001,$6604,$7601,$6002,$7602,$302A,$0004; $00E960
    dc.w    $E548,$207C,$0005,$E2A2,$2F30,$0000,$3003,$E548; $00E970
    dc.w    $207C,$0004,$77B0,$2F30,$0000,$486E,$FF92,$4EB9; $00E980
    dc.w    $0003,$B22C,$4FEF,$0030,$42A7,$4878,$0001,$42A7; $00E990
    dc.w    $4878,$0004,$486E,$FF92,$3002,$48C0,$2F00,$4EB9; $00E9A0
    dc.w    $0001,$183A,$4FEF,$0018,$0C40,$0001,$6664,$302A; $00E9B0
    dc.w    $0004,$2F00,$3012,$2F00,$3002,$2F00,$6100,$F6C0; $00E9C0
    dc.w    $2400,$D080,$D082,$6C02,$5680,$E480,$2400,$D5AB; $00E9D0
    dc.w    $0006,$0C52,$0020,$6C12,$3012,$C0FC,$0006,$D06A; $00E9E0
    dc.w    $0002,$207C,$00FF,$0420,$600E,$3012,$E548,$D06A; $00E9F0
    dc.w    $0002,$207C,$00FF,$0460,$11BC,$00FF,$0000,$4878; $00EA00
    dc.w    $0001,$3012,$2F00,$4EB9,$0001,$81C6,$4FEF,$0014; $00EA10
    dc.w    $6058,$42A7,$4EB9,$0000,$538E,$4878,$0040,$42A7; $00EA20
    dc.w    $4878,$0010,$4EB9,$0000,$0D64,$4FEF,$0010,$3004; $00EA30
    dc.w    $48C0,$2F00,$3002,$48C0,$2F00,$6100,$FA5E,$508F; $00EA40
    dc.w    $3600,$0C40,$00FF,$6600,$FEC8,$601E,$4878,$0001; $00EA50
    dc.w    $42A7,$42A7,$4878,$0004,$2F39,$0004,$77A8,$3002; $00EA60
    dc.w    $48C0,$2F00,$4EB9,$0001,$183A,$7001,$4CEE,$0C1C; $00EA70
    dc.w    $FF7C,$4E5E,$4E75,$4E56,$FFC4,$48E7,$3020,$262E; $00EA80
    dc.w    $0014,$4878,$0010,$4878,$0030,$4879,$0007,$67DE; $00EA90
    dc.w    $4EB9,$0000,$5092,$302E,$000A,$48C0,$E588,$207C; $00EAA0
    dc.w    $0009,$C840,$2F30,$0800,$4879,$00FF,$1804,$4EB9; $00EAB0
    dc.w    $0000,$3FEC,$4878,$001E,$3003,$48C0,$2F00,$4879; $00EAC0
    dc.w    $00FF,$1804,$4EB9,$0000,$4668,$4FEF,$0020,$45EE; $00EAD0
    dc.w    $FFC4,$4242,$3003,$D042,$0040,$6000,$34C0,$5242; $00EAE0
    dc.w    $0C42,$001E,$6DEE,$486E,$FFC4,$4878,$0005,$4878; $00EAF0
    dc.w    $0006,$302E,$0012,$48C0,$2F00,$302E,$000E,$48C0; $00EB00
    dc.w    $2F00,$42A7,$4878,$001B,$4EB9,$0000,$0D64,$4CEE; $00EB10
    dc.w    $040C,$FFB8,$4E5E,$4E75,$48E7,$383C,$282F,$0020; $00EB20
    dc.w    $2A7C,$0001,$D538,$267C,$00FF,$1804,$284B,$5C8B; $00EB30
    dc.w    $16F9,$00FF,$0003,$16F9,$00FF,$0005,$4878,$0002; $00EB40
    dc.w    $2F0B,$2F3C,$0020,$0003,$4879,$00FF,$0006,$42A7; $00EB50
    dc.w    $4E95,$548B,$16F9,$00FF,$0009,$16F9,$00FF,$000B; $00EB60
    dc.w    $16F9,$00FF,$000D,$16F9,$00FF,$000F,$16F9,$00FF; $00EB70
    dc.w    $0011,$4878,$0004,$2F0B,$2F3C,$0020,$0003,$4879; $00EB80
    dc.w    $00FF,$0012,$42A7,$4E95,$4FEF,$0028,$588B,$16F9; $00EB90
    dc.w    $00FF,$0016,$4878,$0090,$2F0B,$2F3C,$0020,$0003; $00EBA0
    dc.w    $4879,$00FF,$0018,$42A7,$4E95,$47EB,$0090,$4878; $00EBB0
    dc.w    $0040,$2F0B,$2F3C,$0020,$0003,$4879,$00FF,$00A8; $00EBC0
    dc.w    $42A7,$4E95,$4FEF,$0028,$7040,$D7C0,$4878,$0030; $00EBD0
    dc.w    $2F0B,$2F3C,$0020,$0003,$4879,$00FF,$00E8,$42A7; $00EBE0
    dc.w    $4E95,$7030,$D7C0,$4878,$0008,$2F0B,$2F3C,$0020; $00EBF0
    dc.w    $0003,$4879,$00FF,$0118,$42A7,$4E95,$4FEF,$0028; $00EC00
    dc.w    $508B,$4878,$0010,$2F0B,$2F3C,$0020,$0003,$4879; $00EC10
    dc.w    $00FF,$0120,$42A7,$4E95,$7010,$D7C0,$4878,$0080; $00EC20
    dc.w    $2F0B,$2F3C,$0020,$0003,$4879,$00FF,$0130,$42A7; $00EC30
    dc.w    $4E95,$4FEF,$0028,$47EB,$0080,$4878,$0080,$2F0B; $00EC40
    dc.w    $2F3C,$0020,$0003,$4879,$00FF,$01B0,$42A7,$4E95; $00EC50
    dc.w    $47EB,$0080,$4878,$0040,$2F0B,$2F3C,$0020,$0003; $00EC60
    dc.w    $4879,$00FF,$0230,$42A7,$4E95,$4FEF,$0028,$7040; $00EC70
    dc.w    $D7C0,$4878,$0020,$2F0B,$2F3C,$0020,$0003,$4879; $00EC80
    dc.w    $00FF,$0270,$42A7,$4E95,$7020,$D7C0,$4878,$0018; $00EC90
    dc.w    $2F0B,$2F3C,$0020,$0003,$4879,$00FF,$0290,$42A7; $00ECA0
    dc.w    $4E95,$4FEF,$0028,$7018,$D7C0,$4243,$3003,$EB48; $00ECB0
    dc.w    $207C,$00FF,$B9E8,$41F0,$0000,$2448,$4242,$4878; $00ECC0
    dc.w    $0001,$2F0B,$2F3C,$0020,$0003,$2F0A,$42A7,$4E95; $00ECD0
    dc.w    $4FEF,$0014,$528B,$548A,$5242,$0C42,$0010,$6DDE; $00ECE0
    dc.w    $5243,$0C43,$0004,$6DC4,$4878,$0050,$2F0B,$2F3C; $00ECF0
    dc.w    $0020,$0003,$4879,$00FF,$02E8,$42A7,$4E95,$7050; $00ED00
    dc.w    $D7C0,$4878,$0080,$2F0B,$2F3C,$0020,$0003,$4879; $00ED10
    dc.w    $00FF,$0338,$42A7,$4E95,$4FEF,$0028,$47EB,$0080; $00ED20
    dc.w    $4878,$0028,$2F0B,$2F3C,$0020,$0003,$4879,$00FF; $00ED30
    dc.w    $03B8,$42A7,$4E95,$7028,$D7C0,$4878,$0010,$2F0B; $00ED40
    dc.w    $2F3C,$0020,$0003,$4879,$00FF,$03E0,$42A7,$4E95; $00ED50
    dc.w    $4FEF,$0028,$7010,$D7C0,$4878,$0030,$2F0B,$2F3C; $00ED60
    dc.w    $0020,$0003,$4879,$00FF,$03F0,$42A7,$4E95,$7030; $00ED70
    dc.w    $D7C0,$4878,$00C0,$2F0B,$2F3C,$0020,$0003,$4879; $00ED80
    dc.w    $00FF,$0420,$42A7,$4E95,$4FEF,$0028,$47EB,$00C0; $00ED90
    dc.w    $4878,$00E4,$2F0B,$2F3C,$0020,$0003,$4879,$00FF; $00EDA0
    dc.w    $04E0,$42A7,$4E95,$47EB,$00E4,$2F0B,$4EBA,$01D4; $00EDB0
    dc.w    $4E71,$2640,$4878,$0040,$2F0B,$2F3C,$0020,$0003; $00EDC0
    dc.w    $4879,$00FF,$0728,$42A7,$4E95,$4FEF,$002C,$7040; $00EDD0
    dc.w    $D7C0,$247C,$00FF,$8824,$4242,$4878,$0001,$2F0B; $00EDE0
    dc.w    $2F3C,$0020,$0003,$2F0A,$42A7,$4E95,$4FEF,$0014; $00EDF0
    dc.w    $528B,$548A,$5242,$0C42,$0020,$6DDE,$247C,$00FF; $00EE00
    dc.w    $BA80,$4242,$4243,$4878,$0001,$2F0B,$2F3C,$0020; $00EE10
    dc.w    $0003,$2F0A,$42A7,$4E95,$4FEF,$0014,$528B,$548A; $00EE20
    dc.w    $5243,$0C43,$0004,$6DDE,$5242,$0C42,$0059,$6DD4; $00EE30
    dc.w    $4878,$0010,$2F0B,$2F3C,$0020,$0003,$4879,$00FF; $00EE40
    dc.w    $08EC,$42A7,$4E95,$4FEF,$0014,$7010,$D7C0,$4243; $00EE50
    dc.w    $3003,$C0FC,$0320,$207C,$00FF,$9A20,$41F0,$0000; $00EE60
    dc.w    $2448,$4242,$4878,$000C,$2F0B,$2F3C,$0020,$0003; $00EE70
    dc.w    $2F0A,$42A7,$4E95,$4FEF,$0014,$700C,$D7C0,$7014; $00EE80
    dc.w    $D5C0,$5242,$0C42,$0028,$6DDA,$5243,$0C43,$0004; $00EE90
    dc.w    $6DBE,$4878,$0004,$2F0B,$2F3C,$0020,$0003,$4879; $00EEA0
    dc.w    $00FF,$099C,$42A7,$4E95,$588B,$4878,$0001,$2F0B; $00EEB0
    dc.w    $2F3C,$0020,$0003,$4879,$00FF,$09A0,$42A7,$4E95; $00EEC0
    dc.w    $4FEF,$0028,$528B,$4878,$0020,$2F0B,$2F3C,$0020; $00EED0
    dc.w    $0003,$4879,$00FF,$09A2,$42A7,$4E95,$7020,$D7C0; $00EEE0
    dc.w    $2F0B,$4EBA,$0114,$4E71,$2640,$4878,$0059,$2F0B; $00EEF0
    dc.w    $2F3C,$0020,$0003,$4879,$00FF,$09D8,$42A7,$4E95; $00EF00
    dc.w    $4FEF,$002C,$7059,$D7C0,$4878,$0002,$2F0B,$2F3C; $00EF10
    dc.w    $0020,$0003,$4879,$00FF,$0A32,$42A7,$4E95,$548B; $00EF20
    dc.w    $4878,$0002,$2F0B,$2F3C,$0020,$0003,$4879,$00FF; $00EF30
    dc.w    $0A34,$42A7,$4E95,$548B,$200B,$908C,$2400,$0640; $00EF40
    dc.w    $FFFA,$2F00,$3004,$2F00,$4EBA,$05C8,$4E71,$4FEF; $00EF50
    dc.w    $0030,$2F02,$3004,$48C0,$720D,$E3A8,$0680,$0020; $00EF60
    dc.w    $0003,$2F00,$2F0C,$4EB9,$0001,$E0E0,$3004,$48C0; $00EF70
    dc.w    $2F00,$4EBA,$0180,$4E71,$4FEF,$0010,$4CDF,$3C1C; $00EF80
    dc.w    $4E75,$48E7,$3000,$206F,$000C,$227C,$00FF,$05C4; $00EF90
    dc.w    $4241,$4203,$4242,$1011,$E528,$8600,$5289,$5442; $00EFA0
    dc.w    $0C42,$0008,$65F0,$10C3,$5241,$0C41,$0039,$65E2; $00EFB0
    dc.w    $2008,$4CDF,$000C,$4E75                         ; $00EFC0
; ============================================================================
; UnpackPixelData -- (TODO: describe)
; Called: ?? times.
; 64 bytes | $00EFC8-$00F007
; ============================================================================
UnpackPixelData:                                                  ; $00EFC8
    movem.l d2-d4,-(sp)
    movea.l $0010(sp),a0
    movea.l #$00ff05c4,a1
    clr.w   d3
.lefd8:                                                 ; $00EFD8
    move.b  (a0),d4
    clr.w   d2
.lefdc:                                                 ; $00EFDC
    moveq   #$0,d0
    move.w  d2,d0
    moveq   #$0,d1
    move.b  d4,d1
    asr.l   d0,d1
    move.l  d1,d0
    andi.b  #$03,d0
    move.b  d0,(a1)+
    addq.w  #$2,d2
    cmpi.w  #$8,d2
    bcs.b   .lefdc
    addq.l  #$1,a0
    addq.w  #$1,d3
    cmpi.w  #$39,d3
    bcs.b   .lefd8
    move.l  a0,d0
    movem.l (sp)+,d2-d4
    rts
    dc.w    $48E7,$0030,$246F,$000C                         ; $00F008
    dc.w    $267C,$0001,$D538,$4878,$0008,$2F0A,$2F3C,$0020; $00F010
    dc.w    $0003,$4879,$00FF,$09C2,$42A7,$4E93,$508A,$4878; $00F020
    dc.w    $0004,$2F0A,$2F3C,$0020,$0003,$4879,$00FF,$09CA; $00F030
    dc.w    $42A7,$4E93,$4FEF,$0028,$588A,$4878,$0008,$2F0A; $00F040
    dc.w    $2F3C,$0020,$0003,$4879,$00FF,$09CE,$42A7,$4E93; $00F050
    dc.w    $508A,$4878,$0002,$2F0A,$2F3C,$0020,$0003,$4879; $00F060
    dc.w    $00FF,$09D6,$42A7,$4E93,$4FEF,$0028,$548A,$200A; $00F070
    dc.w    $4CDF,$0C00,$4E75                               ; $00F080
; ============================================================================
; CopyRouteFields -- (TODO: describe)
; Called: ?? times.
; 126 bytes | $00F086-$00F103
; ============================================================================
CopyRouteFields:                                                  ; $00F086
    movem.l a2-a3,-(sp)
    movea.l $000c(sp),a2
    movea.l #$0001d538,a3
    pea     ($0008).w
    pea     ($00FF09C2).l
    clr.l   -(sp)
    move.l  a2,-(sp)
    move.l  #$00200003,-(sp)
    jsr     (a3)
    addq.l  #$8,a2
    pea     ($0004).w
    pea     ($00FF09CA).l
    clr.l   -(sp)
    move.l  a2,-(sp)
    move.l  #$00200003,-(sp)
    jsr     (a3)
    lea     $0028(sp),sp
    addq.l  #$4,a2
    pea     ($0008).w
    pea     ($00FF09CE).l
    clr.l   -(sp)
    move.l  a2,-(sp)
    move.l  #$00200003,-(sp)
    jsr     (a3)
    addq.l  #$8,a2
    pea     ($0002).w
    pea     ($00FF09D6).l
    clr.l   -(sp)
    move.l  a2,-(sp)
    move.l  #$00200003,-(sp)
    jsr     (a3)
    lea     $0028(sp),sp
    addq.l  #$2,a2
    move.l  a2,d0
    movem.l (sp)+,a2-a3
    rts
    dc.w    $4E56,$0000,$48E7,$383C,$282E,$0008              ; $00F104
    dc.w    $2A7C,$0003,$B270,$7601,$3404,$C4FC,$000B,$5442; $00F110
    dc.w    $4A44,$6600,$01FE,$3004,$2F00,$4EBA,$0426,$4E71; $00F120
    dc.w    $588F,$4A40,$663A,$4878,$000A,$4878,$001E,$3002; $00F130
    dc.w    $2F00,$3003,$2F00,$4EB9,$0000,$5A04,$3002,$48C0; $00F140
    dc.w    $5280,$2F00,$4878,$0003,$4EB9,$0003,$AB2C,$4FEF; $00F150
    dc.w    $0018,$4879,$0003,$EA6C,$4E95,$588F,$6000,$03AA; $00F160
    dc.w    $287C,$00FF,$1804,$244C,$7014,$D5C0,$264C,$47EB; $00F170
    dc.w    $00A4,$5242,$4243,$0C2A,$0020,$0001,$6470,$3002; $00F180
    dc.w    $48C0,$2F00,$4878,$0003,$4EB9,$0003,$AB2C,$2F0B; $00F190
    dc.w    $4879,$0003,$EA66,$4E95,$3002,$48C0,$2F00,$4878; $00F1A0
    dc.w    $000B,$4EB9,$0003,$AB2C,$7000,$1012,$E548,$207C; $00F1B0
    dc.w    $0005,$F926,$2F30,$0000,$4879,$0003,$EA62,$4E95; $00F1C0
    dc.w    $3002,$48C0,$2F00,$4878,$000F,$4EB9,$0003,$AB2C; $00F1D0
    dc.w    $7000,$102A,$0001,$E548,$207C,$0005,$E680,$2F30; $00F1E0
    dc.w    $0000,$4879,$0003,$EA5C,$4E95,$4FEF,$0030,$7024; $00F1F0
    dc.w    $D5C0,$7010,$D7C0,$5442,$5243,$0C43,$0004,$6D00; $00F200
    dc.w    $FF76,$4A44,$6604,$7402,$6002,$740D,$5242,$3002; $00F210
    dc.w    $48C0,$2F00,$4878,$001A,$4EB9,$0003,$AB2C,$4879; $00F220
    dc.w    $0003,$EA58,$4E95,$3002,$48C0,$2F00,$4878,$001C; $00F230
    dc.w    $4EB9,$0003,$AB2C,$7000,$102C,$0006,$48C0,$5280; $00F240
    dc.w    $2F00,$4879,$0003,$EA54,$4E95,$5442,$3002,$48C0; $00F250
    dc.w    $2F00,$4878,$001A,$4EB9,$0003,$AB2C,$4879,$0003; $00F260
    dc.w    $EA50,$4E95,$3002,$48C0,$2F00,$4878,$001C,$4EB9; $00F270
    dc.w    $0003,$AB2C,$4FEF,$0030,$7000,$102C,$0007,$48C0; $00F280
    dc.w    $5280,$2F00,$4879,$0003,$EA4C,$4E95,$362C,$0008; $00F290
    dc.w    $3003,$48C0,$5680,$7204,$4EB9,$0003,$E146,$2800; $00F2A0
    dc.w    $C8FC,$0003,$3004,$48C0,$5680,$720C,$4EB9,$0003; $00F2B0
    dc.w    $E146,$3800,$3003,$48C0,$6C02,$5680,$E480,$0640; $00F2C0
    dc.w    $07A3,$3600,$5442,$3002,$48C0,$2F00,$4878,$0019; $00F2D0
    dc.w    $4EB9,$0003,$AB2C,$3003,$48C0,$2F00,$4879,$0003; $00F2E0
    dc.w    $EA48,$4E95,$5442,$3002,$48C0,$2F00,$4878,$001A; $00F2F0
    dc.w    $4EB9,$0003,$AB2C,$4FEF,$0020,$3004,$E548,$207C; $00F300
    dc.w    $0005,$F096,$2F30,$0000,$4879,$0003,$EA44,$6000; $00F310
    dc.w    $01F6,$3004,$2F00,$4EBA,$022A,$4E71,$588F,$4A40; $00F320
    dc.w    $6636,$4878,$000A,$4878,$001E,$3002,$2F00,$3003; $00F330
    dc.w    $2F00,$4EB9,$0000,$5A04,$3002,$48C0,$5280,$2F00; $00F340
    dc.w    $4878,$0003,$4EB9,$0003,$AB2C,$4FEF,$0018,$4879; $00F350
    dc.w    $0003,$EA36,$6000,$FE02,$287C,$00FF,$1804,$244C; $00F360
    dc.w    $7014,$D5C0,$264C,$47EB,$00A4,$5242,$4243,$0C2A; $00F370
    dc.w    $0020,$0001,$6470,$3002,$48C0,$2F00,$4878,$0003; $00F380
    dc.w    $4EB9,$0003,$AB2C,$2F0B,$4879,$0003,$EA30,$4E95; $00F390
    dc.w    $3002,$48C0,$2F00,$4878,$000B,$4EB9,$0003,$AB2C; $00F3A0
    dc.w    $7000,$1012,$E548,$207C,$0005,$F926,$2F30,$0000; $00F3B0
    dc.w    $4879,$0003,$EA2C,$4E95,$3002,$48C0,$2F00,$4878; $00F3C0
    dc.w    $000F,$4EB9,$0003,$AB2C,$7000,$102A,$0001,$E548; $00F3D0
    dc.w    $207C,$0005,$E680,$2F30,$0000,$4879,$0003,$EA26; $00F3E0
    dc.w    $4E95,$4FEF,$0030,$7024,$D5C0,$7010,$D7C0,$5442; $00F3F0
    dc.w    $5243,$0C43,$0004,$6D00,$FF76,$4A44,$6604,$7402; $00F400
    dc.w    $6002,$740D,$5242,$3002,$48C0,$2F00,$4878,$001A; $00F410
    dc.w    $4EB9,$0003,$AB2C,$4879,$0003,$EA22,$4E95,$3002; $00F420
    dc.w    $48C0,$2F00,$4878,$001C,$4EB9,$0003,$AB2C,$7000; $00F430
    dc.w    $102C,$0006,$48C0,$5280,$2F00,$4879,$0003,$EA1E; $00F440
    dc.w    $4E95,$5442,$3002,$48C0,$2F00,$4878,$001A,$4EB9; $00F450
    dc.w    $0003,$AB2C,$4879,$0003,$EA1A,$4E95,$3002,$48C0; $00F460
    dc.w    $2F00,$4878,$001C,$4EB9,$0003,$AB2C,$4FEF,$0030; $00F470
    dc.w    $7000,$102C,$0007,$48C0,$5280,$2F00,$4879,$0003; $00F480
    dc.w    $EA16,$4E95,$362C,$0008,$3003,$48C0,$5680,$7204; $00F490
    dc.w    $4EB9,$0003,$E146,$2800,$C8FC,$0003,$3004,$48C0; $00F4A0
    dc.w    $5680,$720C,$4EB9,$0003,$E146,$3800,$3003,$48C0; $00F4B0
    dc.w    $6C02,$5680,$E480,$0640,$07A3,$3600,$5442,$3002; $00F4C0
    dc.w    $48C0,$2F00,$4878,$0019,$4EB9,$0003,$AB2C,$3003; $00F4D0
    dc.w    $48C0,$2F00,$4879,$0003,$EA12,$4E95,$5442,$3002; $00F4E0
    dc.w    $48C0,$2F00,$4878,$001A,$4EB9,$0003,$AB2C,$4FEF; $00F4F0
    dc.w    $0020,$3004,$E548,$207C,$0005,$F096,$2F30,$0000; $00F500
    dc.w    $4879,$0003,$EA0E,$4E95,$4CEE,$3C1C,$FFE4,$4E5E; $00F510
    dc.w    $4E75,$48E7,$2030,$242F,$0014,$267C,$00FF,$1804; $00F520
    dc.w    $244B,$3002,$2F00,$200B,$5C80,$2F00,$4EB9,$0001; $00F530
    dc.w    $D6FC,$508F,$3540,$0002,$3542,$0004,$4CDF,$0C04; $00F540
    dc.w    $4E75                                            ; $00F550
; ============================================================================
; VerifyChecksum -- (TODO: describe)
; Called: ?? times.
; 88 bytes | $00F552-$00F5A9
; ============================================================================
VerifyChecksum:                                                  ; $00F552
    movem.l d2/a2-a3,-(sp)
    move.l  $0010(sp),d2
    movea.l #$00ff1804,a3
    pea     ($2000).w
    moveq   #$0,d0
    move.w  d2,d0
    moveq   #$d,d1
    lsl.l   d1,d0
    addi.l  #$00200003,d0
    move.l  d0,-(sp)
    pea     ($00FF1804).l
    dc.w    $4eb9,$0001,$e0fe                           ; jsr $01E0FE
    movea.l a3,a2
    move.w  $0004(a2),d0
    move.l  d0,-(sp)
    move.l  a3,d0
    addq.l  #$6,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$d6fc                           ; jsr $01D6FC
    lea     $0014(sp),sp
    cmp.w   $0002(a2),d0
    bne.b   .lf5a2
    moveq   #$1,d0
    bra.b   .lf5a4
.lf5a2:                                                 ; $00F5A2
    moveq   #$0,d0
.lf5a4:                                                 ; $00F5A4
    movem.l (sp)+,d2/a2-a3
    rts
; ============================================================================
; sub_00F5AA -- (TODO: describe)
; Called: ?? times.
; 376 bytes | $00F5AA-$00F721
; ============================================================================
ProcessRouteAction:                                                  ; $00F5AA
    link    a6,#-$54
    movem.l d2-d5,-(sp)
    moveq   #$0,d2
    move.b  ($00FF0016).l,d2
    move.w  ($00FF9A1C).l,d3
    pea     ($0001).w
    clr.l   -(sp)
    dc.w    $4eb9,$0001,$e0b8                           ; jsr $01E0B8
    pea     ($0004).w
    pea     ($003B).w
    dc.w    $4eb9,$0001,$e0b8                           ; jsr $01E0B8
    clr.l   -(sp)
    pea     ($000D).w
    pea     ($0020).w
    pea     ($0013).w
    clr.l   -(sp)
    clr.l   -(sp)
    pea     ($001A).w
    dc.w    $4eb9,$0000,$0d64                           ; jsr $000D64
    lea     $002c(sp),sp
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$0566                                 ; jsr $00FB74
    nop
    lea     $000c(sp),sp
    cmpi.w  #$1,d0
    bne.w   .lf6e6
.lf61e:                                                 ; $00F61E
    pea     ($0001).w
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$12ee                           ; jsr $0112EE
    addq.l  #$8,sp
    move.w  d0,d4
    cmpi.w  #$4,d4
    bge.w   .lf6be
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6eea                           ; jsr $006EEA
    addq.l  #$8,sp
    move.w  d0,d5
    cmpi.w  #$ff,d0
    bne.b   .lf67a
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$00f4                                 ; jsr $00F75E
    nop
    lea     $000c(sp),sp
    cmpi.w  #$1,d0
    bne.b   .lf6de
    bra.b   .lf6e6
.lf67a:                                                 ; $00F67A
    move.w  d5,d0
    lsl.w   #$2,d0
    movea.l #$0005e680,a0
    move.l  (a0,d0.w),-(sp)
    pea     ($0003EA7A).l
    pea     -$0054(a6)
    dc.w    $4eb9,$0003,$b22c                           ; jsr $03B22C
    pea     ($0001).w
    clr.l   -(sp)
    pea     ($0002).w
    move.w  d4,d0
    ext.l   d0
    move.l  d0,-(sp)
    pea     -$0054(a6)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0001,$183a                           ; jsr $01183A
    lea     $0024(sp),sp
    bra.b   .lf6e6
.lf6be:                                                 ; $00F6BE
    cmpi.w  #$4,d4
    bne.b   .lf6de
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eba,$05da                                 ; jsr $00FCAC
    nop
    addq.l  #$8,sp
    cmpi.w  #$1,d0
    beq.b   .lf6e6
.lf6de:                                                 ; $00F6DE
    cmpi.w  #$ff,d4
    bne.w   .lf61e
.lf6e6:                                                 ; $00F6E6
    dc.w    $4eb9,$0001,$d71c                           ; jsr $01D71C
    pea     ($0001).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6a2e                           ; jsr $006A2E
    pea     ($0002).w
    move.w  d3,d0
    ext.l   d0
    move.l  d0,-(sp)
    move.w  d2,d0
    ext.l   d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$6b78                           ; jsr $006B78
    movem.l -$0064(a6),d2-d5
    unlk    a6
    rts
    dc.w    $2F02,$242F,$0008,$302F,$000E,$E548,$207C    ; $00F722
    dc.w    $0005,$ECDC,$2030,$0000,$3202,$E549,$207C,$00FF; $00F730
    dc.w    $A6A0,$C0B0,$1000,$3202,$E549,$207C,$00FF,$08EC; $00F740
    dc.w    $2230,$1000,$4681,$C081,$2400,$241F,$4E75,$4E56; $00F750
    dc.w    $FF7C,$48E7,$3F3C,$242E,$0008,$2A2E,$0010,$2C2E; $00F760
    dc.w    $000C,$49EE,$FFC0,$2A7C,$0003,$B270,$426E,$FF7E; $00F770
    dc.w    $3002,$C0FC,$0024,$207C,$00FF,$0018,$41F0,$0000; $00F780
    dc.w    $2448,$3006,$48C0,$2F00,$3002,$48C0,$2F00,$4EB9; $00F790
    dc.w    $0000,$9DC4,$3600,$E548,$207C,$00FF,$1298,$41F0; $00F7A0
    dc.w    $0000,$2648,$3003,$48C0,$2F00,$3002,$48C0,$2F00; $00F7B0
    dc.w    $4EB9,$0000,$9D92,$3800,$7E00,$1E2B,$0003,$0647; $00F7C0
    dc.w    $0014,$3004,$5240,$CEC0,$3039,$00FF,$0006,$48C0; $00F7D0
    dc.w    $7203,$4EB9,$0003,$E08A,$0680,$0000,$001E,$7200; $00F7E0
    dc.w    $3207,$4EB9,$0003,$E05C,$7264,$4EB9,$0003,$E08A; $00F7F0
    dc.w    $3E00,$7000,$102B,$0003,$48C0,$2200,$E988,$9081; $00F800
    dc.w    $D080,$0680,$0000,$0258,$3204,$48C1,$5281,$4EB9; $00F810
    dc.w    $0003,$E05C,$4A80,$6C02,$5280,$E280,$3800,$4EB9; $00F820
    dc.w    $0001,$D71C,$4878,$0001,$3006,$48C0,$2F00,$3002; $00F830
    dc.w    $48C0,$2F00,$4EB9,$0000,$6A2E,$4878,$0020,$4878; $00F840
    dc.w    $0020,$42A7,$42A7,$4EB9,$0003,$A942,$4FEF,$002C; $00F850
    dc.w    $4878,$0001,$4878,$0640,$4878,$0037,$4878,$0070; $00F860
    dc.w    $4878,$0018,$3003,$48C0,$2F00,$4EB9,$0000,$883A; $00F870
    dc.w    $4878,$0003,$4878,$000B,$4EB9,$0003,$AB2C,$4879; $00F880
    dc.w    $0003,$EBB4,$4E95,$4878,$000E,$4878,$0006,$4EB9; $00F890
    dc.w    $0003,$AB2C,$4FEF,$002C,$3003,$E548,$207C,$0005; $00F8A0
    dc.w    $E680,$2F30,$0000,$4879,$0003,$EBB0,$4E95,$4878; $00F8B0
    dc.w    $0006,$4878,$0002,$4EB9,$0003,$AB2C,$4879,$0003; $00F8C0
    dc.w    $EB9C,$4E95,$4878,$0006,$4878,$0017,$4EB9,$0003; $00F8D0
    dc.w    $AB2C,$7000,$3007,$2F00,$4879,$0003,$EB96,$4E95; $00F8E0
    dc.w    $4878,$0009,$4878,$0002,$4EB9,$0003,$AB2C,$4879; $00F8F0
    dc.w    $0003,$EB82,$4E95,$4FEF,$0030,$4878,$0009,$4878; $00F900
    dc.w    $0017,$4EB9,$0003,$AB2C,$7000,$3004,$2F00,$4879; $00F910
    dc.w    $0003,$EB7C,$4E95,$4878,$0040,$42A7,$2F0C,$4EB9; $00F920
    dc.w    $0001,$D520,$2F39,$0004,$77BC,$2F0C,$4EB9,$0003; $00F930
    dc.w    $B22C,$3003,$E548,$207C,$0005,$E680,$2F30,$0000; $00F940
    dc.w    $2F39,$0004,$77C0,$486E,$FF80,$4EB9,$0003,$B22C; $00F950
    dc.w    $4FEF,$0030,$486E,$FF80,$2F0C,$4EB9,$0001,$E1BA; $00F960
    dc.w    $4EB9,$0001,$D748,$4878,$0001,$42A7,$42A7,$3005; $00F970
    dc.w    $48C0,$2F00,$2F0C,$3002,$48C0,$2F00,$4EB9,$0001; $00F980
    dc.w    $183A,$4FEF,$0020,$207C,$00FF,$09D8,$1030,$3000; $00F990
    dc.w    $0280,$0000,$0003,$6600,$019C,$7000,$3004,$B0AA; $00F9A0
    dc.w    $0006,$6E00,$0178,$4EB9,$0001,$E398,$3003,$48C0; $00F9B0
    dc.w    $33C0,$00FF,$A6B0,$4EB9,$0002,$0A64,$4EB9,$0001; $00F9C0
    dc.w    $D748,$3003,$E548,$207C,$0005,$E680,$2F30,$0000; $00F9D0
    dc.w    $2F39,$0004,$77C8,$2F0C,$4EB9,$0003,$B22C,$42A7; $00F9E0
    dc.w    $4878,$0001,$42A7,$3005,$48C0,$2F00,$2F0C,$3002; $00F9F0
    dc.w    $48C0,$2F00,$4EB9,$0001,$183A,$4FEF,$0024,$0C40; $00FA00
    dc.w    $0001,$6600,$00DA,$3D7C,$0001,$FF7E,$7000,$3004; $00FA10
    dc.w    $91AA,$0006,$3002,$EB48,$3205,$E749,$D041,$207C; $00FA20
    dc.w    $00FF,$0338,$41F0,$0000,$2448,$1483,$157C,$0003; $00FA30
    dc.w    $0001,$4878,$0001,$42A7,$4EB9,$0001,$E0B8,$4878; $00FA40
    dc.w    $000A,$4878,$000A,$4EB9,$0001,$E0B8,$4878,$000A; $00FA50
    dc.w    $4878,$0028,$4EB9,$0001,$E0B8,$4FEF,$0018,$2F3C; $00FA60
    dc.w    $0000,$8000,$4878,$000A,$4878,$0020,$4878,$0005; $00FA70
    dc.w    $42A7,$42A7,$4878,$001A,$4EB9,$0000,$0D64,$4FEF; $00FA80
    dc.w    $001C,$2F3C,$0000,$8000,$4878,$000A,$4878,$0020; $00FA90
    dc.w    $4878,$0005,$42A7,$4878,$0001,$4878,$001A,$4EB9; $00FAA0
    dc.w    $0000,$0D64,$4878,$0005,$4878,$000A,$4878,$0016; $00FAB0
    dc.w    $4EB9,$0000,$5FF6,$4FEF,$0028,$4878,$0001,$42A7; $00FAC0
    dc.w    $42A7,$3005,$48C0,$2F00,$2F39,$0004,$77D0,$3002; $00FAD0
    dc.w    $48C0,$2F00,$4EB9,$0001,$183A,$4FEF,$0018,$4EB9; $00FAE0
    dc.w    $0001,$D71C,$4EB9,$0001,$E398,$4878,$0001,$3006; $00FAF0
    dc.w    $48C0,$2F00,$3002,$48C0,$2F00,$4EB9,$0000,$6A2E; $00FB00
    dc.w    $4878,$0002,$3006,$48C0,$2F00,$3002,$48C0,$2F00; $00FB10
    dc.w    $4EB9,$0000,$6B78,$4FEF,$0018,$603A,$4878,$0001; $00FB20
    dc.w    $42A7,$4878,$0002,$3005,$48C0,$2F00,$2F39,$0004; $00FB30
    dc.w    $77C4,$6016,$4878,$0001,$42A7,$4878,$0002,$3005; $00FB40
    dc.w    $48C0,$2F00,$2F39,$0004,$77CC,$3002,$48C0,$2F00; $00FB50
    dc.w    $4EB9,$0001,$183A,$302E,$FF7E,$4CEE,$3CFC,$FF54; $00FB60
    dc.w    $4E5E,$4E75,$4E56,$FF80,$48E7,$3C3C,$262E,$000C; $00FB70
    dc.w    $2A2E,$0008,$47EE,$FF80,$287C,$0005,$EC84,$2A7C; $00FB80
    dc.w    $0003,$B22C,$7801,$3005,$C0FC,$0024,$207C,$00FF; $00FB90
    dc.w    $0018,$41F0,$0000,$2448,$7000,$102A,$0001,$48C0; $00FBA0
    dc.w    $2F00,$4EB9,$0000,$D648,$588F,$B043,$6700,$00AA; $00FBB0
    dc.w    $4878,$00FF,$3003,$48C0,$2F00,$3005,$48C0,$2F00; $00FBC0
    dc.w    $4EB9,$0000,$7A24,$4FEF,$000C,$0C40,$0001,$6674; $00FBD0
    dc.w    $3005,$EB48,$207C,$00FF,$0338,$41F0,$0000,$2448; $00FBE0
    dc.w    $4242,$0C2A,$0003,$0001,$6708,$0C2A,$0004,$0001; $00FBF0
    dc.w    $6646,$7000,$1012,$48C0,$2F00,$4EB9,$0000,$D648; $00FC00
    dc.w    $588F,$B043,$6632,$0C2A,$0003,$0001,$7000,$1012; $00FC10
    dc.w    $E548,$207C,$0005,$E680,$2F30,$0000,$3003,$48C0; $00FC20
    dc.w    $E588,$2040,$2F34,$8800,$2F39,$0004,$77D4,$2F0B; $00FC30
    dc.w    $4E95,$4FEF,$0010,$603A,$508A,$5242,$0C42,$0004; $00FC40
    dc.w    $6DA0,$6030,$3003,$48C0,$E588,$2040,$2F34,$8800; $00FC50
    dc.w    $2F39,$0004,$77DC,$6012,$3003,$48C0,$E588,$2040; $00FC60
    dc.w    $2F34,$8800,$2F39,$0004,$77D8,$2F0B,$4E95,$4FEF; $00FC70
    dc.w    $000C,$4244,$4A44,$6618,$4878,$0001,$42A7,$4878; $00FC80
    dc.w    $0002,$2F0B,$3005,$48C0,$2F00,$4EB9,$0000,$7912; $00FC90
    dc.w    $3004,$4CEE,$3C3C,$FF60,$4E5E,$4E75,$4E56,$FE6C; $00FCA0
    dc.w    $48E7,$3C30,$242E,$0008,$262E,$000C,$45EE,$FE6C; $00FCB0
    dc.w    $267C,$0000,$6A2E,$4245,$3003,$48C0,$2F00,$3002; $00FCC0
    dc.w    $48C0,$2F00,$4EB9,$0000,$6EEA,$508F,$3800,$0C44; $00FCD0
    dc.w    $00FF,$6700,$0084,$4878,$0001,$3003,$48C0,$2F00; $00FCE0
    dc.w    $3002,$48C0,$2F00,$4E93,$3004,$E548,$207C,$0005; $00FCF0
    dc.w    $E680,$2F30,$0000,$2F39,$0004,$77E4,$2F0A,$4EB9; $00FD00
    dc.w    $0003,$B22C,$42A7,$4878,$0001,$42A7,$2F0A,$3002; $00FD10
    dc.w    $48C0,$2F00,$4EB9,$0000,$7912,$4FEF,$002C,$0C40; $00FD20
    dc.w    $0001,$6600,$0084,$3004,$48C0,$2F00,$3002,$48C0; $00FD30
    dc.w    $2F00,$4EB9,$0001,$1BB2,$4EB9,$0001,$D71C,$4878; $00FD40
    dc.w    $0001,$3003,$48C0,$2F00,$3002,$48C0,$2F00,$4E93; $00FD50
    dc.w    $4FEF,$0014,$7A01,$6050,$4EB9,$0001,$D71C,$4878; $00FD60
    dc.w    $0001,$3003,$48C0,$2F00,$3002,$48C0,$2F00,$4E93; $00FD70
    dc.w    $4EB9,$0001,$D748,$3003,$E548,$207C,$0005,$EC84; $00FD80
    dc.w    $2F30,$0000,$2F39,$0004,$77E0,$2F0A,$4EB9,$0003; $00FD90
    dc.w    $B22C,$4878,$0001,$42A7,$42A7,$2F0A,$3002,$48C0; $00FDA0
    dc.w    $2F00,$4EB9,$0000,$7912,$3005,$4CEE,$0C3C,$FE54; $00FDB0
    dc.w    $4E5E,$4E75                                      ; $00FDC0
; ============================================================================
; FindOpenSlot -- (TODO: describe)
; Called: ?? times.
; 278 bytes | $00FDC4-$00FED9
; ============================================================================
FindOpenSlot:                                                  ; $00FDC4
    link    a6,#-$4
    movem.l d2-d7/a2-a3,-(sp)
    move.l  $000c(a6),d6
    movea.l $0008(a6),a3
    move.w  d6,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    moveq   #$0,d0
    move.b  (a3),d0
    move.w  d0,-$0002(a6)
    moveq   #$0,d7
    move.b  $0001(a3),d7
    clr.w   d5
.lfdf6:                                                 ; $00FDF6
    tst.w   d5
    bne.b   .lfe00
    move.w  -$0002(a6),d4
    bra.b   .lfe02
.lfe00:                                                 ; $00FE00
    move.w  d7,d4
.lfe02:                                                 ; $00FE02
    ext.l   d4
    cmpi.w  #$20,d4
    blt.b   .lfe68
    clr.w   d2
.lfe0c:                                                 ; $00FE0C
    move.w  d4,d0
    lsl.w   #$2,d0
    add.w   d2,d0
    movea.l #$00ff0460,a0
    cmpi.b  #$ff,(a0,d0.w)
    bne.b   .lfe5e
    move.w  d4,d0
    lsl.w   #$2,d0
    add.w   d2,d0
    movea.l #$00ff15a0,a0
    move.b  (a0,d0.w),d3
    andi.l  #$ff,d3
    cmpi.w  #$f,d3
    beq.b   .lfe5e
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d6,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$e08e                           ; jsr $00E08E
    lea     $000c(sp),sp
    move.l  d0,d3
    cmp.l   $0006(a2),d3
    bgt.b   .lfe5e
.lfe5a:                                                 ; $00FE5A
    moveq   #$1,d0
    bra.b   .lfed0
.lfe5e:                                                 ; $00FE5E
    addq.w  #$1,d2
    cmpi.w  #$4,d2
    blt.b   .lfe0c
    bra.b   .lfec4
.lfe68:                                                 ; $00FE68
    clr.w   d2
.lfe6a:                                                 ; $00FE6A
    move.w  d4,d0
    mulu.w  #$6,d0
    add.w   d2,d0
    movea.l #$00ff0420,a0
    cmpi.b  #$ff,(a0,d0.w)
    bne.b   .lfebc
    move.w  d4,d0
    mulu.w  #$6,d0
    add.w   d2,d0
    movea.l #$00ff1704,a0
    move.b  (a0,d0.w),d3
    andi.l  #$ff,d3
    cmpi.w  #$f,d3
    beq.b   .lfebc
    move.w  d3,d0
    move.l  d0,-(sp)
    move.w  d4,d0
    move.l  d0,-(sp)
    move.w  d6,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$e08e                           ; jsr $00E08E
    lea     $000c(sp),sp
    move.l  d0,d3
    cmp.l   $0006(a2),d3
    ble.b   .lfe5a
.lfebc:                                                 ; $00FEBC
    addq.w  #$1,d2
    cmpi.w  #$6,d2
    blt.b   .lfe6a
.lfec4:                                                 ; $00FEC4
    addq.w  #$1,d5
    cmpi.w  #$2,d5
    blt.w   .lfdf6
    moveq   #$0,d0
.lfed0:                                                 ; $00FED0
    movem.l -$0024(a6),d2-d7/a2-a3
    unlk    a6
    rts
; ============================================================================
; CheckCharEligible -- (TODO: describe)
; Called: ?? times.
; 156 bytes | $00FEDA-$00FF75
; ============================================================================
CheckCharEligible:                                                  ; $00FEDA
    movem.l d2-d4/a2-a3,-(sp)
    move.l  $0018(sp),d2
    move.l  $001c(sp),d4
    move.w  d2,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a3
    move.w  ($00FF0006).l,d0
    ext.l   d0
    bge.b   .lff04
    addq.l  #$3,d0
.lff04:                                                 ; $00FF04
    asr.l   #$2,d0
    addi.w  #$37,d0
    move.w  d0,d2
    clr.w   d3
    move.w  d4,d0
    mulu.w  #$c,d0
    movea.l #$00ffa6b8,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    moveq   #$0,d0
    move.b  $0006(a2),d0
    cmp.w   d2,d0
    bgt.b   .lff6e
    moveq   #$0,d0
    move.b  $0007(a2),d0
    cmp.w   d2,d0
    ble.b   .lff6e
    moveq   #$0,d0
    move.b  (a2),d0
    movea.l #$0005f07c,a0
    move.b  (a0,d0.w),d0
    andi.l  #$ff,d0
    andi.l  #$ffff,d0
    move.l  d0,-(sp)
    moveq   #$0,d0
    move.b  $0001(a3),d0
    andi.l  #$ffff,d0
    move.l  d0,-(sp)
    dc.w    $4eb9,$0000,$7610                           ; jsr $007610
    addq.l  #$8,sp
    cmpi.w  #$3,d0
    beq.b   .lff6e
    moveq   #$1,d3
.lff6e:                                                 ; $00FF6E
    move.w  d3,d0
    movem.l (sp)+,d2-d4/a2-a3
    rts
; ============================================================================
; CountUnprofitableRoutes -- (TODO: describe)
; Called: ?? times.
; 130 bytes | $00FF76-$00FFF7
; ============================================================================
CountUnprofitableRoutes:                                                  ; $00FF76
    movem.l d2-d5/a2,-(sp)
    move.l  $0018(sp),d2
    clr.w   d5
    clr.w   d4
    clr.w   d3
    move.w  d2,d0
    mulu.w  #$0320,d0
    movea.l #$00ff9a20,a0
    lea     (a0,d0.w),a0
    movea.l a0,a2
    move.w  d2,d0
    mulu.w  #$24,d0
    movea.l #$00ff0018,a0
    lea     (a0,d0.w),a0
    movea.l a0,a1
    moveq   #$0,d1
    move.b  $0004(a1),d1
    moveq   #$0,d0
    move.b  $0005(a1),d0
    add.w   d0,d1
    clr.w   d2
    bra.b   .lffdc
.lffba:                                                 ; $00FFBA
    move.w  $000e(a2),d0
    cmp.w   $0006(a2),d0
    bcc.b   .lffc6
    addq.w  #$1,d4
.lffc6:                                                 ; $00FFC6
    move.b  $000a(a2),d0
    andi.l  #$4,d0
    bne.b   .lffd4
    moveq   #$1,d5
.lffd4:                                                 ; $00FFD4
    addq.w  #$1,d3
    moveq   #$14,d0
    adda.l  d0,a2
    addq.w  #$1,d2
.lffdc:                                                 ; $00FFDC
    cmp.w   d1,d2
    blt.b   .lffba
    tst.w   d3
    bne.b   .lffe8
    moveq   #$ff,d0
    bra.b   .lfff2
.lffe8:                                                 ; $00FFE8
    tst.w   d5
    bne.b   .lfff0
    moveq   #$fe,d0
    bra.b   .lfff2
.lfff0:                                                 ; $00FFF0
    move.w  d4,d0
.lfff2:                                                 ; $00FFF2
    movem.l (sp)+,d2-d5/a2
    rts
; ============================================================================
; CountCharPerformance -- (TODO: describe)
; Called: ?? times.
; 250 bytes | $00FFF8-$0100F1
; ============================================================================
CountCharPerformance:                                                  ; $00FFF8
    link    a6,#-$8
    movem.l d2-d7,-(sp)

